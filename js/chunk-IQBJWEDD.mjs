import{a as y}from"chunk-3QDLWZ3M.mjs";import{b as m}from"chunk-RIGFMZJN.mjs";import{a as h}from"chunk-FDX2C2EY.mjs";import{a as p}from"chunk-BMVMSSVG.mjs";import{a as x,b as D}from"chunk-JB2N3EQZ.mjs";import{h as v}from"chunk-6E4TUQ3S.mjs";import{B as f,G as k,W as M}from"chunk-EEV263O3.mjs";import{e as d}from"chunk-AHQIRSXG.mjs";var o=d(x(),1);var l="d1r6g833";var c=d(D(),1),b=(0,o.createContext)({isDarkMode:!1,isOverridingSystem:!1,setDarkMode:()=>{},setOverrideSystem:()=>{}});b.displayName="DarkModeContext";function C(s){let[a,n]=(0,o.useState)(()=>({isDarkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,isOverridingSystem:!1})),[e]=(0,o.useState)(()=>y.on(v).expect());(0,o.useEffect)(()=>{let t=e.themeStateStream({replay:"latest"});return t.read(n).catch(M),()=>void t.cancel()},[e]);let r=(0,o.useCallback)(t=>{e.setDarkMode({isEnabled:t})},[e]),i=(0,o.useCallback)(t=>{e.setOverrideSystem({shouldOverride:t})},[e]);return(0,o.useMemo)(()=>({isDarkMode:a.isDarkMode,isOverridingSystem:a.isOverridingSystem,setDarkMode:r,setOverrideSystem:i}),[a.isDarkMode,a.isOverridingSystem,r,i])}function O(s){let a=document.querySelector(`meta[name="theme-color"][media="(prefers-color-scheme: ${s})"]`)?.getAttribute("data-color");if(!a)return;document.querySelectorAll('meta[name="theme-color"]').forEach(e=>{e.setAttribute("content",a)})}function T(s){let[a,n]=m("dark-mode",!1),[e,r]=m("dark-mode-override-system",!1),i=h("(prefers-color-scheme: dark)"),t=s||(e?a:i),u=(0,o.useCallback)(g=>{s||(n(g),r(!0))},[n,r,s]);return(0,o.useMemo)(()=>({isDarkMode:t,isOverridingSystem:e,setDarkMode:u,setOverrideSystem:r}),[t,e,u,r])}var P=f()?C:T;function U({children:s,forceDarkMode:a=!1,isAgentExperimentOn:n=!1}){let e=P(a);return(0,o.useLayoutEffect)(()=>{let r=e.isDarkMode;document.body.classList.add(l),document.body.classList.toggle("framer-theme-dark",r),document.body.setAttribute("data-framer-theme",r?"dark":"light"),n?document.body.classList.add("agent"):document.body.classList.remove("agent"),O(r?"dark":"light"),requestAnimationFrame(()=>{document.body.classList.remove(l)});let i=window.frames;for(let t=0;t<i.length;t++)i[t]?.postMessage({appearance:r?"dark":"light"},"*")},[e,n]),(0,c.jsx)(b.Provider,{value:e,children:(0,c.jsx)(p,{enabled:k(),children:s})})}export{b as a,U as b};
//# sourceMappingURL=chunk-IQBJWEDD.mjs.map
