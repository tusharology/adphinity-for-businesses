import{e as Ln}from"chunk-3UOABR2T.mjs";import{K as ft,eb as An}from"chunk-W7PFF3PB.mjs";import{$ as Fn}from"chunk-ZJPKS7U6.mjs";import{id as ct,ld as En,md as Le,nd as Dn,od as Mn,pd as On}from"chunk-TO3PG6NS.mjs";import{a as Nn}from"chunk-K2O2DWCZ.mjs";import{Me as cn,Q as Ne,Ra as an,sd as ln,zd as un}from"chunk-NYFEUS7P.mjs";import{f as dn}from"chunk-6Z2W7ESM.mjs";import{a as Ae}from"chunk-YEI67D6W.mjs";import{e as Xt}from"chunk-75ILXMIH.mjs";import{a as Wn}from"chunk-2W7AVDV6.mjs";import{$e as yn,He as fn,Ie as pn,Ne as mn,Oe as gn,Re as hn,Se as vn,Ue as ut,Yf as Rn,Zf as Pn,af as xn,ff as dt,jf as bn,kf as Cn,kg as De,lg as wn,mf as Tn,mg as Me,nf as kn,of as In}from"chunk-BMVMSSVG.mjs";import{a as F}from"chunk-QFU6OGL3.mjs";import{Dg as nn,Fn as sn,G as we,H as q,Lf as en,M as _t,Pe as Yt,Qe as it,Te as Qt,Ve as Jt,bf as Zt,cf as st,gg as tn,yn as on}from"chunk-G5CI4O4F.mjs";import{b as z}from"chunk-SOM3QFWS.mjs";import{c as Oe,d as Fe}from"chunk-R32HLP7P.mjs";import{a as Sn}from"chunk-7GSEC7H4.mjs";import{i as qt,k as Se,p as Gt}from"chunk-26DHASNB.mjs";import{b as Kt}from"chunk-GZI43NW3.mjs";import{Ad as Mt,Bd as Ot,Cr as $t,Ds as Ee,Dt as rn,E as qe,Fn as Z,Hn as Pe,Hp as jt,Jt as lt,Kt as fe,Mn as Vt,Op as zt,Pp as Ut,Qe as de,Qm as rt,Th as E,Uh as tt,Vm as Wt,Xn as Bt,Yj as Ft,ao as ot,cc as Et,fs as at,hc as J,hk as At,id as et,jm as Lt,kb as wt,mb as St,nb as Ze,pb as Nt,pi as W,to as Ht,ud as Dt,vk as nt,zd as ue}from"chunk-LIUGL3AW.mjs";import{a as Q,d as ce}from"chunk-B7SOVHNX.mjs";import{b as Xe,d as Ye,p as Re}from"chunk-OBUCKN56.mjs";import{b as x,d as Qe,e as T,f as le,h as Je,j as K,k as Pt,l as Ie}from"chunk-CMAEAGWD.mjs";import{g as Ge}from"chunk-NNG7ZAML.mjs";import{a as O,b as P}from"chunk-JB2N3EQZ.mjs";import{g as Y}from"chunk-4X7KIAE7.mjs";import{C as Ce,Ra as Rt,W as Te,aa as Ct,da as Tt,ha as _,ia as kt,j as bt,ua as It}from"chunk-EEV263O3.mjs";import{a as b,b as be}from"chunk-YOOGIIWU.mjs";import{a as ke}from"chunk-HMF7T2NG.mjs";import{e as v,j as u,k as R,l as Ke,m as xe}from"chunk-AHQIRSXG.mjs";var j=v(O(),1);var We=v(O(),1);function Ar(n){try{return x(n)?JSON.parse(n):null}catch{return null}}function pt(n,e){let t=localStorage.getItem(n),r=Ar(t);return e(r)?r:null}function Lo(n,e){let[t]=(0,We.useState)(()=>pt(n,e)),r=(0,We.useCallback)(o=>{let i=JSON.stringify(o);localStorage.setItem(n,i)},[n]);return[t,r]}var G=v(O(),1);var Vn="wuk326o",Bn="n283lgw",Hn="pue1ity";var A=v(P(),1),jn=.1,mt=9999999999999;function Wr(n,e){let o=e.width-n.width,i=e.height-n.height;return{minX:0,minY:0,maxX:o,maxY:i}}function zn(n){let e=n.trim(),t=parseInt(e);return T(t)?e.endsWith("%")?{value:t,unit:"%"}:e.endsWith("px")?{value:t,unit:"px"}:null:null}var pe=class extends G.default.Component{constructor(){super(...arguments);u(this,"containerRef",G.default.createRef());u(this,"contentWrapperRef",G.default.createRef());u(this,"setContainerRefs",t=>{this.containerRef.current=t;let{containerRef:r}=this.props;r&&(r.current=t)});u(this,"setContentWrapperRefs",t=>{this.contentWrapperRef.current=t;let{contentWrapperRef:r}=this.props;r&&(r.current=t)});u(this,"hasMoved",!1);u(this,"dragStartRect",null);u(this,"getConstraintsRect",()=>{let t=this.containerRef.current;return t?t.getBoundingClientRect():null});u(this,"getWindowRect",()=>{let t=this.getConstraintsRect();if(!t)return null;let r=this.contentWrapperRef.current;if(!r)return null;let o=r.getBoundingClientRect();return{x:o.left-t.x,y:o.top-t.y,width:o.width,height:o.height}});u(this,"onDragStart",t=>{this.dragStartRect=this.getWindowRect(),this.hasMoved=!1});u(this,"onDrag",t=>{if(!this.dragStartRect)return;let r=this.getWindowRect();if(!r)return;let{width:o,height:i}=r;!this.hasMoved&&t.offset.x===0&&t.offset.y===0||(this.hasMoved=!0,this.setRect({...qe.add(t.offset,this.dragStartRect),width:o,height:i},{rubberBandingEnabled:!0,snapToEdges:!0,fixedTop:!1}))});u(this,"onDragEnd",t=>{this.dragStartRect&&(this.dragStartRect=null,this.hasMoved&&(this.setFloatingWindowProperties({x:0,y:0,transition:"transform 0.2s cubic-bezier(0.2, 0, 0, 1)"}),this.props.onDragEnd?.()))});u(this,"persistCurrentTopOffset",()=>{let t=this.getWindowRect();t&&this.setFloatingWindowProperties({fixedTop:t.y,top:1,bottom:0})});u(this,"hasPersistedTopOffset",()=>{let t=this.containerRef.current?.style.getPropertyValue("--floating-window-fixed-top"),r=parseInt(t||"");return T(r)&&r!==mt})}componentDidMount(){let{restorationKey:t}=this.props;if(!t)return;let r=pt(t,Un);r&&this.setFloatingWindowProperties(r)}render(){let{initialTopOffset:t,initialLeftOffset:r,visible:o,className:i,zIndex:s,constraintBy:l}=this.props,a=mt,d=0,c=1,p=0,f=1;if(x(t)){let g=zn(t);g&&(g.unit==="%"?(d=Ge(0,100,g.value),c=100-g.value):g.unit==="px"?(a=g.value,d=1,c=0):(g.unit,void 0))}if(x(r)){let g=zn(r);g?.unit==="%"&&(p=Ge(0,100,g.value),f=100-g.value)}let y=Se.css.panelPadding,m=`calc(${a}px - var(--framerInternalUI-chromeMarginTop) - ${y})`;return(0,A.jsxs)("div",{ref:this.setContainerRefs,className:F(Bn,i),style:{position:"absolute",top:`calc(var(--framerInternalUI-chromeMarginTop) + ${y})`,left:l==="app"?y:`calc(var(--framerInternalUI-chromeMarginLeft) + ${y})`,right:l==="app"?y:`calc(var(--framerInternalUI-chromeMarginRight) + ${y})`,bottom:`calc(var(--framerInternalUI-chromeMarginBottom) + ${y})`,display:"flex",visibility:o?"visible":"hidden",flexDirection:"row",zIndex:s},children:[(0,A.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-left, ${p})`}}),(0,A.jsxs)("div",{style:{width:"auto",display:"flex",flexDirection:"column"},children:[(0,A.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-top, ${d})`,maxHeight:`var(--floating-window-fixed-top, ${m})`}}),(0,A.jsx)("div",{ref:this.setContentWrapperRefs,onPointerDownCapture:this.props.onPointerDownCapture,draggable:!1,className:F(Hn,ft),style:{position:"relative",height:"auto",width:"auto",maxHeight:"100%",flexShrink:0,transform:"translate(var(--floating-window-x, 0px), var(--floating-window-y, 0px))",transition:"var(--floating-window-transform)"},children:(0,A.jsx)($n.Provider,{value:this,children:this.props.children})}),(0,A.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-bottom, ${c})`}})]}),(0,A.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-right, ${f})`}})]})}setPosition(t,{snapToEdges:r}){let o=this.getConstraintsRect(),i=this.getWindowRect();if(!i||!o)return;let s=qe.subtract(t,o);this.setRect({...s,width:i.width,height:i.height},{rubberBandingEnabled:!1,fixedTop:!0,snapToEdges:r})}setRect(t,{rubberBandingEnabled:r,snapToEdges:o,fixedTop:i}){let s=this.getConstraintsRect();if(!s)return;let{minX:l,minY:a,maxX:d,maxY:c}=Wr(t,s),p=t.x,f=t.y;if(o){let D=Math.abs(p-l),I=Math.abs(p-d),k=Math.abs(f-a),re=Math.abs(f-c);D<16?p=l:I<16&&(p=d),k<16?f=a:re<16&&(f=c)}let y=0,m=0;p<=l?(p=0,y=t.x-l):p>=d&&(y=t.x-d),f<a?(f=a,m=t.y-a):f>=c&&(m=t.y-c);let g=0,C=0;r&&(g=y*jn,C=m*jn);let h=Kr({...t,x:p,y:f},s);this.setFloatingWindowProperties({top:i?1:h.top,bottom:i?0:h.bottom,fixedTop:i?h.top:void 0,right:h.right,left:h.left,x:g,y:C,transition:""})}setResizeRect({top:t,right:r,bottom:o,left:i}){this.setFloatingWindowProperties({top:t,right:r,bottom:o,left:i,fixedTop:void 0,x:0,y:0,transition:""})}setFloatingWindowProperties(t){let r=this.containerRef.current;if(!r)return;let o={};T(t.top)&&(o["--floating-window-top"]=t.top.toString()),T(t.right)&&(o["--floating-window-right"]=t.right.toString()),T(t.bottom)&&(o["--floating-window-bottom"]=t.bottom.toString()),T(t.left)&&(o["--floating-window-left"]=t.left.toString()),T(t.fixedTop)?o["--floating-window-fixed-top"]=`${t.fixedTop}px`:o["--floating-window-fixed-top"]=`${mt}px`,T(t.x)&&(o["--floating-window-x"]=`${t.x}px`),T(t.y)&&(o["--floating-window-y"]=`${t.y}px`),x(t.transition)&&(o["--floating-window-transform"]=t.transition);let i=Object.keys(o);for(let l of i){let a=o[l];r.style.setProperty(l,a)}let{restorationKey:s}=this.props;if(s&&Un(t,{strict:!1})){let l={top:t.top,bottom:t.bottom,left:t.left,right:t.right,fixedTop:t.fixedTop},a=JSON.stringify(l);localStorage.setItem(s,a)}}};u(pe,"defaultProps",{visible:!0,constraintBy:"canvas"});var Vr="top",Br="right",Hr="bottom",jr="left",zr="fixedTop",Ur="x",$r="y",_r="transition";function Un(n,{strict:e}={strict:!0}){if(!le(n)||e&&(Ur in n||$r in n||_r in n)||!T(n[Vr])||!T(n[Br])||!T(n[Hr])||!T(n[jr]))return!1;let t=n[zr];return T(t)||K(t)}var $n=G.default.createContext(null),_n=G.default.forwardRef(function(e,t){let r=G.default.useContext($n);return(0,A.jsx)(De,{ref:t,...e,className:F(e.className,Vn,ft),onDragStart:r?.onDragStart,onDrag:r?.onDrag||Sn,onDragEnd:r?.onDragEnd,cursor:"-webkit-grabbing"})});function Kr(n,e){let t=n.y,r=t+n.height,o=n.x,i=o+n.width,s=t,l=o,a=e.height-r,d=e.width-i;return{top:s,bottom:a,left:l,right:d}}var V=v(O(),1);var w=v(O(),1),Gn=v(P(),1),gt=(0,w.createContext)(()=>()=>{});function ei(n,e){let t=(0,w.useContext)(gt),[r,o]=(0,w.useState)(!1);return(0,w.useLayoutEffect)(()=>t(i=>{o(()=>n?n.some(s=>i.variantOverrideKeys.has(s)):e?e.some(s=>i.variantOverrideTraitTypes.has(s)):!1)}),[n,e,t]),r}function Kn(){let n=(0,w.useContext)(gt),[e,t]=(0,w.useState)({variantOverrideKeys:new Set,variantOverrideTraitTypes:new Set});return(0,w.useLayoutEffect)(()=>n(r=>{t(r)}),[n,t]),e}function qn({children:n,variantOverrideTraitTypes:e,variantOverrideKeys:t}){let r=(0,w.useRef)(),o=(0,w.useMemo)(()=>{let i=new Set;return{listeners:i,addListener:s=>{i.add(s);let l=r.current;return l&&s(l),()=>{i.delete(s)}}}},[]);return(0,w.useLayoutEffect)(()=>{let i={variantOverrideTraitTypes:e,variantOverrideKeys:t};r.current=i,o.listeners.forEach(s=>s(i))},[o,t,e]),(0,Gn.jsx)(gt.Provider,{value:o.addListener,children:n})}var Xn="pvjhuxd",Yn="pcpv5lz",Qn="p1awmd8";var Jn=v(O(),1),Ve=(0,Jn.createContext)(null);var B=v(O(),1);function ht(n){switch(n){case"Confirmation":case"DeprecatedDrafts":case"ImageCrop":case"ImageFocalPoint":case"QuickActions":case"UpsellEnterprise":case"UpsellFeature":return!0;default:return!1}}function li(n){return n==="ConfirmationPlugin"?26:ht(n)?25:22}var er=v(P(),1);function Zn({children:n}){let e=yn(),t=Yr();return(0,er.jsx)(xn,{mode:t?"darkOnDarkModal":e,children:n})}function Gr(){let e=we().stores.chromeStore.useState(t=>t.mainView);return Ln(e)}function Xr(){return!1}var Yr=Ce()?Xr:Gr;var L,M,ee=class{constructor({triggerRender:e,willOpen:t,willPush:r,willPop:o}){Ke(this,L,[]);Ke(this,M,-1);u(this,"triggerRender");u(this,"willOpen");u(this,"willPush");u(this,"willPop");u(this,"present",(e,t,{parent:r,triggerRef:o,displayDivider:i,title:s,className:l,onDismiss:a,onPresent:d,educationTooltipId:c,educationText:p,onClickEducation:f,enterAnimationDisabled:y,toolbarAction:m,autoFocusInside:g})=>{if(e&&this.isPresenting(e,{atIndex:0})){R(this,M)===0?this.close():(this.setStackIndex(0),this.willOpen?.(o?.current));return}if(r){let C=this.indexForItem(r);if(C===-1)return null;xe(this,L,R(this,L).slice(0,C+1)),d?.(),this.willPush?.()}else this.setStackIndex(-1),d?.(),this.willOpen?.(o?.current);R(this,L).push({id:e,timestamp:Date.now(),element:t,triggerRef:o,displayDivider:i,title:s,className:l,onDismiss:a,onPresent:d,dismissed:!1,educationTooltipId:c,educationText:p,onClickEducation:f,enterAnimationDisabled:y,toolbarAction:m,autoFocusInside:g}),this.setStackIndex(R(this,M)+1)});u(this,"updatePopout",(e,t,r,o)=>{if(this.isClosed())return;let i=this.indexForItem(e);if(i===-1)return;let s=R(this,L)[i];if(!s)return;let l=s.element,a=s.title,d=s.autoFocusInside;l===t&&a===r&&d===o||(s.element=t,s.title=r,s.autoFocusInside=o,i<=R(this,M)&&requestAnimationFrame(this.triggerRender))});u(this,"isPresenting",(e,t)=>{if(this.isClosed())return!1;let r=this.indexForItem(e);return!(r<0||r>R(this,M)||t&&t.atIndex!==r)});u(this,"isOpen",()=>R(this,M)>-1);u(this,"isClosed",()=>!this.isOpen());u(this,"close",()=>{this.setStackIndex(-1)});u(this,"dismiss",e=>{let t=this.indexForItem(e);t!==-1&&R(this,M)>=t&&(this.willPop?.(),this.setStackIndex(t-1))});u(this,"goBack",(e=!1)=>{let t=this.stack[0];if(this.willPop?.(),this.setStackIndex(R(this,M)-1),e&&this.currentStackIndex===-1){let r=t?.triggerRef?.current;r instanceof HTMLElement&&r.focus()}});u(this,"indexForItem",e=>R(this,L).findIndex(t=>t.id===e));u(this,"setStackIndex",e=>{let t=Math.max(-1,e);R(this,M)!==t&&(R(this,L).forEach((r,o)=>{o<=e||r.dismissed||(r.dismissed=!0,r.onDismiss?.())}),xe(this,M,t),t<0&&xe(this,L,[]),this.triggerRender(),this.listeners.forEach(r=>r()))});u(this,"listeners",new Set);u(this,"registeredPopouts",{});u(this,"shouldPresentPopoutIds",new Set);u(this,"registerPopout",(e,t)=>{this.registeredPopouts[e]=t,this.shouldPresentPopoutIds.has(e)&&(t(),this.shouldPresentPopoutIds.delete(e))});u(this,"deregisterPopout",e=>{delete this.registeredPopouts[e];let t=this.indexForItem(e);t===-1||R(this,M)<t||this.setStackIndex(t-1)});u(this,"popoutIsRegistered",e=>e in this.registeredPopouts);u(this,"presentPopout",e=>{if(this.isPresenting(e,{atIndex:0}))return;let t=this.registeredPopouts[e];Ie(t)?t():this.presentPopoutOnRegistration(e)});u(this,"presentPopoutOnRegistration",e=>{this.shouldPresentPopoutIds.has(e)||(this.shouldPresentPopoutIds.add(e),setTimeout(()=>{this.shouldPresentPopoutIds.delete(e)},100))});this.triggerRender=e,this.willOpen=t,this.willPush=r,this.willPop=o}get stack(){return R(this,L)}get currentStackIndex(){return R(this,M)}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}};L=new WeakMap,M=new WeakMap;var tr="pjkind9",nr="c1l0qpj8";var X=v(P(),1),Jr={x:10,y:0};function rr({navigationRef:n,anchorRef:e,children:t,attachTo:r="right",offset:o=Jr,onKeydown:i,onCopy:s,fallbackToModalAppearance:l,showArrow:a=!0}){let d=z(),c=B.default.useRef(i);c.current=i;let p=to(),[f,y]=B.default.useState(0),[m]=B.default.useState(()=>new ee({triggerRender:()=>y(I=>I+1)})),g=m.isOpen(),C=B.default.useCallback(I=>{q(d)&&d.stores.mouseStore.setModifiers(I.nativeEvent),I.key==="Escape"&&(m.goBack(!0),I.stopPropagation()),c.current?.(I)},[m]),h=B.default.useCallback(I=>{q(d)&&d.stores.mouseStore.setModifiers(I.nativeEvent)},[]);B.default.useEffect(()=>{if(n)return Ie(n)?(n(m),()=>{n(null)}):(n.current=m,()=>{n.current=null})},[m,n]),B.default.useEffect(()=>{if(!(!g||!s))return document.addEventListener("copy",s),document.addEventListener("cut",s),()=>{document.removeEventListener("copy",s),document.removeEventListener("cut",s)}},[g,s]);let D=B.default.useMemo(()=>({...o}),[f,o]);return(0,X.jsxs)(Ve.Provider,{value:m,children:[t,g&&(0,X.jsx)(Zn,{children:(0,X.jsx)(Tn,{anchor:e.current,alignSelf:"center",attachTo:r,offset:D,onClose:m.close,className:tr,onKeyDown:C,onKeyUp:h,focusTrapEnabled:!p,showArrow:a,arrow:a?{anchor:e.current}:void 0,fallbackToModalAppearance:l,children:(0,X.jsx)("div",{className:F(nr),children:(0,X.jsx)(Me,{stack:m.stack,currentIndex:m.currentStackIndex,onBack:m.goBack,onClose:m.close})})})})]})}function Zr(){let n=we(),e=n.stores.pluginStore.useState(r=>r.activePlugin?r.activePlugin.modeHandlers.mode!=="canvas":!1),t=n.stores.modalStore.useState(r=>ht(r.active.type));return e||t}function eo(){return!1}var to=Ce()?eo:Zr;var H=v(P(),1),sr="data-is-popout-button",ar=`[${sr}]`;function no({popout:n,navigationTitle:e,navigationClassName:t,id:r,enabled:o=!0,displayDivider:i,onBeforePresent:s=()=>!0,onPresent:l=()=>{},onDismiss:a=()=>{},ref:d,educationTooltipId:c,educationText:p,onClickEducation:f,enterAnimationDisabled:y=!1,autoFocusInside:m,displayInPopover:g}){let C=oo(r),h=V.default.useRef(null),D=d??h,I=V.default.useContext(wn),k=V.default.useContext(Ve),[re,He]=V.default.useState(!1),je=vn(),ze=In(),oe=Kn(),he=Cn(g),ve=or((0,H.jsx)(bn.Provider,{value:he,children:(0,H.jsx)(kn.Provider,{value:ze,children:(0,H.jsx)(hn.Provider,{value:je,children:(0,H.jsx)(qn,{variantOverrideKeys:oe.variantOverrideKeys,variantOverrideTraitTypes:oe.variantOverrideTraitTypes,children:n})})})})),ie=or(e);k?.updatePopout(C,ve,ie,m);let Ue=ce(a),$e=ce(l),se=ce(()=>{if(k){if(!o||!s()){k.close();return}k.present(C,ve,{parent:I,triggerRef:D,displayDivider:i,title:ie,className:t,onDismiss:Ue,onPresent:$e,educationTooltipId:c,educationText:p,onClickEducation:f,enterAnimationDisabled:y,autoFocusInside:m})}}),ye=ce(()=>{k?.dismiss(C)});return V.default.useEffect(()=>{if(!o||!k)return;let ae=()=>{Y.isTest||He(k.isPresenting(C))};return k.addListener(ae),k.registerPopout(C,se),()=>{k.removeListener(ae),k.deregisterPopout(C)}},[C,o,k]),{present:se,dismiss:ye,isPresenting:re,ref:D}}function or(n){let e=V.default.useRef(n);return Q(n,e.current)||(e.current=n),e.current}function ji({popoverNavigationRef:n,displayInPopover:e,popoverAttachmentEdge:t,fallbackToModalAppearance:r,popoverOffset:o,showArrow:i,onPopoverKeydown:s,onPopoverCopy:l,...a}){let d=V.default.useRef(null),c=(0,H.jsx)(ro,{displayInPopover:e,...a,ref:d});return e?(0,H.jsx)(rr,{navigationRef:n,anchorRef:d,attachTo:t,onKeydown:s,onCopy:l,offset:o,fallbackToModalAppearance:r,showArrow:i,children:c}):c}var ro=V.default.forwardRef(function({id:e,large:t,popout:r,displayDivider:o,navigationTitle:i,navigationClassName:s,className:l,onKeyDown:a,onClick:d,tabIndex:c=0,enabled:p=!0,useFrescoButton:f=!1,withoutStyles:y=!1,frescoButtonProps:m={},onBeforePresent:g,onPresent:C,onDismiss:h,educationTooltipId:D,educationText:I,onClickEducation:k,autoFocusInside:re,togglePopoutEnabled:He=!1,displayInPopover:je,...ze},oe){let{present:he,dismiss:ve,isPresenting:ie}=no({popout:r,id:e,displayDivider:o,navigationTitle:i,navigationClassName:s,enabled:p,onBeforePresent:g,onPresent:C,onDismiss:h,ref:oe,educationTooltipId:D,educationText:I,onClickEducation:k,autoFocusInside:re,displayInPopover:je}),Ue=_e=>{switch(_e.key){case"Enter":case" ":he(),_e.preventDefault();break;case"Escape":_e.currentTarget.blur(),ve();break}},$e=mn(c),se=p===!1,ye={role:"button",ref:oe,tabIndex:se?void 0:$e,"aria-selected":ie?"true":"false",className:F(l,!f&&!y&&F(Xn,se&&Yn,t&&Qn)),onKeyDown:ir(Ue,a),[sr]:!0,...ze},ae=He&&ie?d:ir(he,d);return f?(0,H.jsx)(gn,{enabled:p,...m,...ye,onClick:ae}):(0,H.jsx)("div",{id:e,...ye,onClick:ae})});function lr(n){return n instanceof HTMLElement?!!n.closest(ar):!1}function zi(n){return n.querySelector(ar)}function Ui(n){return document.getElementById(n)}function oo(n){let e=V.default.useRef(n);return n&&e.current!==n?e.current=n:e.current||(e.current=Kt()),e.current}function ir(n,e){return e?t=>{n(t),e(t)}:n}var ur="wrgelve";var U=v(O(),1),pr=v(P(),1),cr="resize-zone",Xi=U.default.memo(({side:n,minSize:e,defaultSize:t,maxSize:r,getSize:o,setSize:i,onResizeStart:s,onResizeEnd:l})=>{let[a,d]=U.default.useState("ew-resize");U.default.useEffect(()=>{requestAnimationFrame(()=>{let m=typeof r=="function"?r():r,g=dr(o(),e,m,n);a!==g&&d(g)})},[]);let c=U.default.useRef(),p=U.default.useCallback(()=>{c.current=o(),s&&s()},[o,s]),f=U.default.useCallback(m=>{if(c.current===void 0)return;let g=n==="left"?-1:1,C=n==="top"?m.offset.y:m.offset.x,h=c.current+C*g;Math.abs(h-t)<10&&(h=t),i(h);let D=typeof r=="function"?r():r,I=dr(o(),e,D,n);a!==I&&d(I)},[t,e,r,n,i,o,a,d]),y=U.default.useCallback(()=>{c.current=void 0,l&&l()},[l]);return(0,pr.jsx)(De,{onDragStart:p,onDrag:f,onDragEnd:y,cursor:a,className:cr,style:{cursor:a,position:"absolute",top:so(n),bottom:0,right:lo(n),left:ao(n),width:n==="top"?void 0:6,height:n==="top"?6:void 0,zIndex:27,transform:"translate3d(0, 0, 0)",opacity:.5}})});function so(n){switch(n){case"top":return-3;default:return 0}}function ao(n){switch(n){case"left":return-3;case"top":return 0}}function lo(n){switch(n){case"right":return-3;case"top":return 0}}function fr(n){return n instanceof HTMLDivElement&&n.classList.contains(cr)}function dr(n,e,t,r){if(r==="top")switch(n){case e:return"s-resize";case t:return"n-resize";default:return"ns-resize"}switch(n){case e:return r==="right"?"e-resize":"w-resize";case t:return r==="right"?"w-resize":"e-resize";default:return"ew-resize"}}var me=v(P(),1),mr="data-is-popover-window",ss=`[${mr}="true"]`,vt=class{constructor(){u(this,"navigation");u(this,"floatingWindowRef",j.default.createRef());u(this,"initialWindowTopOffset","0px");u(this,"initialWindowLeftOffset","100%");u(this,"positionWindowNearElement",e=>{if(!(e instanceof HTMLElement))return;let t=this.floatingWindowRef.current,r=e.getBoundingClientRect(),o=r.top-9;t?t.setPosition({x:r.left,y:o},{snapToEdges:!1}):(this.initialWindowTopOffset=`${o}px`,this.initialWindowLeftOffset=r.left<window.innerWidth-r.right?"0%":"100%")});u(this,"persistCurrentTopOffset",()=>{let e=this.floatingWindowRef.current;e&&(e.hasPersistedTopOffset()||e.persistCurrentTopOffset())});u(this,"isOpen",()=>this.navigation.isOpen());u(this,"close",()=>{this.navigation.close()});u(this,"_rerender");u(this,"rerender",()=>this._rerender?.());u(this,"navigationBarWrapper",e=>(0,me.jsx)(_n,{children:e}));u(this,"Component",j.default.memo(({zIndex:e,visible:t,onPointerDownCapture:r})=>{let o=z(),i=Wn();(0,j.useEffect)(()=>(this._rerender=i,()=>{this._rerender=void 0}),[i]);let s=this.navigation.isOpen();j.default.useEffect(()=>{if(!s)return;let c=!1,p=()=>{c=!0},f=y=>{c&&this.closeIfClickedOutside(y)};return document.addEventListener("mousedown",p,{capture:!0}),document.addEventListener("click",f),()=>{document.removeEventListener("mousedown",p,{capture:!0}),document.removeEventListener("click",f)}},[s]);let l=(0,j.useCallback)(c=>{q(o)&&o.stores.mouseStore.setModifiers(c.nativeEvent),!c.defaultPrevented&&c.key==="Escape"&&(this.navigation.goBack(!0),c.stopPropagation())},[]),a=(0,j.useCallback)(c=>{q(o)&&o.stores.mouseStore.setModifiers(c.nativeEvent)},[]);return!s||!this.navigation.stack[this.navigation.currentStackIndex]?null:(0,me.jsx)(pe,{ref:this.floatingWindowRef,zIndex:e,visible:t,onPointerDownCapture:r,initialTopOffset:this.initialWindowTopOffset,initialLeftOffset:this.initialWindowLeftOffset,children:(0,me.jsx)("div",{className:F(ur,this.navigation.stack[this.navigation.currentStackIndex]?.className),onKeyDown:l,onKeyUp:a,onMouseUp:c=>{q(o)&&o.stores.canvasMouseTarget.handleMouseUp(c)},tabIndex:0,[mr]:!0,children:(0,me.jsx)(Me,{stack:this.navigation.stack,currentIndex:this.navigation.currentStackIndex,onBack:this.navigation.goBack,onClose:this.navigation.close,renderNavigationBarWrapper:this.navigationBarWrapper})})})}));u(this,"closeIfClickedOutside",({target:e})=>{fr(e)||lr(e)||uo(e)&&this.navigation.close()});this.navigation=new ee({triggerRender:this.rerender,willOpen:this.positionWindowNearElement,willPush:this.persistCurrentTopOffset,willPop:this.persistCurrentTopOffset})}};function uo(n){return n instanceof HTMLElement?!!n.closest("[data-is-right-panel]")||!!n.closest("[data-is-analytics]"):!1}var as=new vt;var $=v(O(),1);var gr=Symbol("uninitialized");function ps(n,e,t,r={}){let o=z(),{deepEqual:i=!1}=r,s=Array.isArray(t)?t:[t],l=(0,$.useCallback)(p=>{let f=[...s,p],y=o.scheduler.changes.observe(...f);return()=>o.scheduler.changes.removeObserver(y)},s),a=(0,$.useCallback)(n,e),d=(0,$.useRef)(gr),c=(0,$.useCallback)(()=>{let p=d.current,f;return p===gr?(f=a(),d.current=f,f):(f=a(),(i?Q(p,f):Nt(p,f))?p:(d.current=f,f))},[i,a]);return(0,$.useSyncExternalStore)(l,c)}var xs=Ct({canvas:()=>{let n=co();return Fe(n),Oe(n)},onPageCanvas:()=>{let n=fo();Fe(n);let{url:e,isCrossOriginProtected:t}=Oe(n),r=go(e);return{url:r,origin:new URL(r).origin,isCrossOriginProtected:t}},patch:()=>{let n=po();return Fe(n),Oe(n)}});function co(){let n=Y.isDebugBuild?"canvas-sandbox.debug.html":"canvas-sandbox.html",e=Ee(`./${n}`),t=JSON.stringify(ke());return e+`#services=${encodeURIComponent(t)}`}function fo(){let n=Y.isDebugBuild?"canvas-sandbox-on-page.debug.html":"canvas-sandbox-on-page.html",e=Ee(`./${n}`),t=JSON.stringify(ke());return e+`#services=${encodeURIComponent(t)}`}function po(){let n=Y.isDebugBuild?"patch-sandbox.debug.html":"patch-sandbox.html",e=Ee(`./${n}`),t=JSON.stringify(ke());return e+`#services=${encodeURIComponent(t)}`}var mo=63;function go(n){let e=new URL(n);if(e.hostname==="localhost"||e.hostname==="127.0.0.1"||e.hostname.split(".").length-2>=2)return n;let r=new URLSearchParams(window.location.search).get("framerSiteId");b(r,"onPageCanvas must be loaded with a framerSiteId");let o=`site-${r}`.slice(0,mo);return e.hostname=`${o}.${e.hostname}`,e.toString()}var ho=3,S=Tt("PartialTreeSender"),hr=bt();function vr(){return new Promise((n,e)=>{if(typeof MessageChannel<"u"){let t=new MessageChannel;t.port1.onmessage=()=>n(),t.port1.onmessageerror=()=>e(),t.port2.postMessage(null)}else setTimeout(n,0)})}var yr=class{constructor(e,t,r){this.timeline=e;u(this,"name");u(this,"currentScopeId","");u(this,"timelineCursor");u(this,"scopeBufferMap",new Map);u(this,"chunkQueue",[]);u(this,"chunkIndex",0);u(this,"chunkingConfig");u(this,"drainingPromise");this.name=t+"-"+String(Math.round(Math.random()*1e3)),this.chunkingConfig={maxNodesPerChunk:r?.maxNodesPerChunk??1e3}}shouldUseChunking(e,t){if(this.timelineCursor)return!1;let r=e.chunkingHints;if(!r||r.size===0)return!1;let o=Be();t&&o.add(t);for(let i of o)if(r.has(i))return S.debug(this.name,`chunking required - large page hint: ${i}`),!0;return!1}serializeTreeChunks(e,t){let r=[],o=crypto.randomUUID(),i=new Map,s=new Map,l=0,a=Be();t&&a.add(t);let d=()=>{i.size>0&&(r.push({name:this.name,timestamp:Date.now(),treeChunks:{chunkId:o,chunkIndex:r.length,totalChunks:-1,nodes:i,childrenMap:s,rootId:r.length===0?e.root.id:void 0}}),i=new Map,s=new Map)},c=h=>{let D=Ne.valueFromNode(h);i.set(h.id,D);let I=h.children?h.children.map(k=>k.id):[];if(s.set(h.id,I),l++,D.children&&(D.children=hr),i.size>=this.chunkingConfig.maxNodesPerChunk&&d(),h.children)for(let k of h.children)c(k)},p=e.root,f,y={};for(f in p)rt[f]||(y[f]=p[f]);let m=e.getNodes(a),g={...y,__class:"RootNode",id:e.root.id,children:hr};i.set(e.root.id,g),s.set(e.root.id,m.map(h=>h.id)),l++,i.size>=this.chunkingConfig.maxNodesPerChunk&&d();for(let h of m)c(h);d();let C=r.length;for(let h of r)h.treeChunks.totalChunks=C;return S.debug(this.name,`directly chunked tree into ${r.length} chunks with ${l} total nodes`),r}getNextChunk(){if(this.chunkQueue.length===0)return;let e=this.chunkQueue[this.chunkIndex];return this.chunkIndex++,this.chunkIndex>=this.chunkQueue.length&&(this.chunkQueue=[],this.chunkIndex=0),e}hasMoreChunks(){return b(this.chunkIndex>=0,"Chunk index should not be negative"),b(this.chunkIndex<=this.chunkQueue.length,"Chunk index should not exceed queue length"),this.chunkIndex<this.chunkQueue.length}async*drainChunks(e){if(!this.hasMoreChunks())return;let t=this.drainingPromise;this.drainingPromise=new Rt,t&&(S.debug(this.name,"drainChunks already in progress, waiting for it to finish"),await t),S.debug(this.name,"drainChunks started");let r=0,o=performance.now();try{for(;this.hasMoreChunks();){if(e?.aborted){S.debug(this.name,"drainChunks aborted, clearing chunk queue"),this.chunkQueue=[],this.chunkIndex=0;return}let i=this.getNextChunk();i&&(r++,S.debug(this.name,`sending chunk ${i.treeChunks.chunkIndex+1} of ${i.treeChunks.totalChunks}`),yield i),await vr()}}finally{await vr(),this.timelineCursor=this.timeline.getChangeTrackingCursor();let i=performance.now()-o,s=i>1e3?`${(i/1e3).toFixed(2)}s`:`${Math.round(i)}ms`;S.debug(this.name,`completed sending ${r} chunks in ${s}`),S.debug(this.name,"drainChunks completed"),this.drainingPromise?.resolve(),this.drainingPromise=void 0}}resetScopeBuffer(e){this.scopeBufferMap.clear(),this.currentScopeId=e??"",e&&(this.timelineCursor=void 0,this.scopeBufferMap.set(e,performance.now()))}updateScopeBuffer(e){if(this.currentScopeId===e)return[void 0,void 0];if(e===at)return[void 0,void 0];if(this.currentScopeId=e,this.scopeBufferMap.has(this.currentScopeId))return this.scopeBufferMap.set(this.currentScopeId,performance.now()),[void 0,void 0];let t;if(this.scopeBufferMap.size>=ho){let r=Be(),o=1/0,i;for(let[s,l]of this.scopeBufferMap)r.has(s)||o>l&&(o=l,i=s);i&&(this.scopeBufferMap.delete(i),t=i)}return this.scopeBufferMap.set(this.currentScopeId,performance.now()),[t,e]}reset(e){let t=this.timeline.tree;if(this.resetScopeBuffer(e),this.shouldUseChunking(t,e))return this.chunkQueue=this.serializeTreeChunks(t,e),this.chunkIndex=0,S.debug(this.name,"initiated direct chunked transfer for tree"),null;let r=br(t,e);return this.chunkQueue=[],this.chunkIndex=0,r}update(e){if(!e)return{};if(this.hasMoreChunks())return{};let t=this.timeline.tree,r=this.timeline.fetchForwardChanges(this.timelineCursor);if(!r){if(this.timeline.invalidatedByLoadCompletedDocument(this.timelineCursor))return S.debug(this.name,"cursor invalidated, sending empty update for load completed document"),this.timelineCursor=this.timeline.getChangeTrackingCursor(),{};if(this.resetScopeBuffer(e),this.shouldUseChunking(t,e)){this.chunkQueue=this.serializeTreeChunks(t,e),this.chunkIndex=0;let a=this.getNextChunk();if(a)return S.debug(this.name,`starting direct chunked resend with ${this.chunkQueue.length} chunks`),a}let l=br(t,e);return S.debug(this.name,"cursor invalidated, sending tree with scope:",e),this.timelineCursor=this.timeline.getChangeTrackingCursor(),{name:this.name,tree:l,timestamp:Date.now()}}let[o,i]=this.updateScopeBuffer(e);o&&(S.debug(this.name,"deleting scope by diff:",o),xr(o,r)),r.length===0&&(r=void 0);let s;if(i&&(S.debug(this.name,"adding scope by subtree:",i),s=this.getScopeSubTree(t,i)),r){let l=this.getAffectedScopeIDsAfterCrossScopeMove(t,r);for(let a of l){if(a!==this.currentScopeId){this.scopeBufferMap.has(a)&&(S.debug(this.name,"deleting scope due to cross-scope move:",a),xr(a,r),this.scopeBufferMap.delete(a));continue}s||(S.debug(this.name,"resending tree with scope due to cross-scope move:",a),s=this.getScopeSubTree(t,a))}}return{changes:r,scopes:s?[s]:void 0,timestamp:Date.now()}}getScopeSubTree(e,t){let r=e.get(t);return en(r)&&b(r.isLoaded(),"Scope must be loaded"),vo(r)}getAffectedScopeIDsAfterCrossScopeMove(e,t){let r=new Set;for(let o of t){if(!o.previousScope||!o.to.parentid)continue;let i=e.get(o.id),s=e.getScopeNodeFor(i);s&&r.add(s.id)}return r}};function xr(n,e){e.push({id:n,removed:"CanvasNode",to:{}})}function vo(n){if(n)return Ne.valueFromNode(n)}function Be(){return new Set([ln,an,$t,sn,on,at])}function br(n,e){let t=Be();e&&t.add(e);let r=n.getNodes(t).map(l=>Ne.valueFromNode(l)),o=n.root,i,s={};for(i in o)rt[i]||(s[i]=o[i]);return{version:Xt,root:{...s,__class:"RootNode",id:n.root.id,children:r}}}function As(n){return(n.cache.ancestorRepeaterIds?.length??0)>0}function Ls(n,e){let{ancestorRepeaterIds:t}=e.cache;if(!t)return!1;for(let r of t){let o=n.get(r);if(et(o))return!0}return!1}function Ws(n,e){let{repeatedAncestorRepeaterIds:t}=e.cache;if(!t)return!1;for(let r of t){let o=n.get(r);if(et(o))return!0}return!1}var Cr=v(O(),1);function Hs(n,e){let t=z();return(0,Cr.useCallback)(t.scheduler.wrapHandler(n),e)}var zs=n=>n.stopPropagation();var yo=/<([a-z1-9]+)/gi;function Ys(n){let e=new Set;return xo(n,e),e}function xo(n,e){let t=n.matchAll(yo);for(let[,r]of t)r&&e.add(r);return e}var yt=class{constructor(e){this.callbacks=e;u(this,"experimentListeners",new Map);u(this,"employeesOnlySettingsListeners",new Map);u(this,"projectFeaturesListeners",new Map)}startUpdatesStream(){Object.keys(Ye).forEach(e=>{let t=r=>{this.callbacks.updateExperiments({[e]:r})};Re.addListener(e,t),this.experimentListeners.set(e,t)}),Object.keys(Xe).forEach(e=>{let t=r=>{this.callbacks.updateEmployeesOnlySettings({[e]:r})};Ae.addListener(e,t),this.employeesOnlySettingsListeners.set(e,t)})}getInitialExperiments(){let e={};return Object.keys(Ye).forEach(t=>{e[t]=Re.get(t)}),e}getInitialEmployeesOnlySettings(){let e={};return Object.keys(Xe).forEach(t=>{e[t]=Ae.get(t)}),e}initProjectFeatures(){fe.updated.then(()=>{let e={};Object.keys(lt).forEach(t=>{e[t]=fe.get(t)}),this.callbacks.updateProjectFeatures(e),this.projectFeaturesListeners.size===0&&Object.keys(lt).forEach(t=>{let r=o=>{this.callbacks.updateProjectFeatures({[t]:o})};fe.addListener(t,r),this.projectFeaturesListeners.set(t,r)})}).catch(Te)}stopUpdatesStream(){for(let[e,t]of this.experimentListeners)Re.removeListener(e,t);for(let[e,t]of this.employeesOnlySettingsListeners)Ae.removeListener(e,t);for(let[e,t]of this.projectFeaturesListeners)fe.removeListener(e,t);this.experimentListeners.clear(),this.employeesOnlySettingsListeners.clear(),this.projectFeaturesListeners.clear()}},Tr=class{constructor(e){this.remoteFlags=e;let t=new yt(this.remoteFlags);t.startUpdatesStream(),this.remoteFlags.updateExperiments(t.getInitialExperiments()),this.remoteFlags.updateEmployeesOnlySettings(t.getInitialEmployeesOnlySettings())}};var ne=v(O(),1);function bo(n,e){let t=new Map,r=n.variables.filter(o=>o.type==="slug");for(let o of r){let i=new Set;t.set(o.id,i);for(let s of n.getUnsortedChildren()){if(s.id===e.id)continue;let l=s.getControlProp(o.id);l&&x(l.value)&&i.add(l.value)}}return t}function aa(n,e){let t=(0,ne.useRef)(null),r=(0,ne.useMemo)(()=>{if(!n||!e)return new Map;let o=bo(n,e),i=t.current;if(!i)return o;let s=new Map;for(let[l,a]of o){s.set(l,a);let d=i.get(l);d&&wt(d,a)&&s.set(l,d)}return s},[n,e]);return(0,ne.useEffect)(()=>{t.current=r},[r]),r}function kr(n,e,t){if(Z(n)&&n.fallbackValue!=="associatedVariable")return;let r=e.find(i=>i.id===n.associatedStringVariable&&Z(i));if(!r)return;let o=t.getControlProp(r.id);if(o&&x(o.value))return o.value;if(x(r.initialValue))return r.initialValue}function Rr(n,e,t){let r=Co(e);return!t||!r?t:t.type==="collectionreference"&&x(t.value)&&!Ir(n,r,t.value)?{...t,value:void 0}:t.type==="multicollectionreference"&&Array.isArray(t.value)?{...t,value:t.value.filter(o=>Ir(n,r,o))}:t}function Co(n){if(n.type!=="collectionreference"&&n.type!=="multicollectionreference")return null;let e=It(n.dataIdentifier);return e?.kind!=="localModuleExport"?null:e.value}function Ir(n,e,t){let r=n.getNodeWithTrait(t,Mt),o=r&&n.getNodeParent(r);return ue(o)&&o.instanceIdentifier===e}function To(n,e,t,r,o,i,s){if(o==="associatedVariable"&&n==="string"){if(t&&x(t.value))return i&&!t.value&&!r?{type:"required"}:Pr(t,e);if(i&&!r)return{type:"required"};if(!r||!ot(e))return;let{maxLength:d}=e;return T(d)&&r.length>d?{type:"max-length",message:Le(r.length,d)}:void 0}if(n==="slug"){let d;if(t&&Qe(t.value)?d=de(t.value):r&&(d=de(r)),!d)return{type:"required"};if(b(s,"takenSlugs is required for slug fields"),s.has(d))return{type:"slug-taken",message:On}}let l=ko(t,e,i);if(l)return l;let a=Io(t,e,i);return a||Pr(t,e)}function Oa(n,e){if(n)return n.type==="required"?En(e.title):n.message}function ko(n,e,t){if(!t)return;let{type:r}=e;switch(r){case"link":return n?(b(n.type==="link"),!n.value||n.value.type==="url"&&n.value.url===""?{type:"required"}:void 0):{type:"required"};case"richtext":return n?(b(n.type==="richtext"),b(!J(n.value),"Dynamic values are not supported within the CMS."),Nn(n.value)?{type:"required"}:void 0):{type:"required"};case"image":case"responsiveimage":return n?(b(n.type==="image"),n.value===""?{type:"required"}:void 0):!Ht(e)||!e.__defaultAssetReference?{type:"required"}:void 0;case"string":return n?(b(e.type==="string"),!Qe(n.value)?{type:"required"}:void 0):e.defaultValue?void 0:{type:"required"};case"collectionreference":{let o=zt(e,n);return K(o)?{type:"required"}:void 0}case"multicollectionreference":{let o=Ut(e,n);return J(o)?void 0:K(o)||o.length===0?{type:"required"}:void 0}case"file":case"date":return n?.type===r&&!!n.value?void 0:{type:"required"};case"array":{if(!n)return{type:"required"};b(n.type==="array");let o=jt(e,n);return b(!J(o),"Dynamic values are not supported within the CMS."),ct(o).length===0?{type:"required"}:void 0}default:return}}function Pr(n,e){if(!ot(e))return;let{maxLength:t}=e;if(T(t))switch(e.type){case"string":{b(!n||n.type==="string");let r=e.defaultValue??"",o=n?.value&&x(n.value)?n.value:r;return o.length>t?{type:"max-length",message:Le(o.length,t)}:void 0}case"richtext":{if(!n||!x(n.value))return;let r=un(n.value);return r.length>t?{type:"max-length",message:Le(r.length,t)}:void 0}default:be(e)}}function Io(n,e,t){if(!Bt(e)||Pt(n?.value)&&!At(n?.value)||Et(n?.value))return;let r=ct(n?.value);if(T(e.minCount)&&r.length<e.minCount)return!t&&r.length===0?void 0:{type:"min-count",message:Dn(e)};if(T(e.maxCount)&&r.length>e.maxCount)return{type:"max-count",message:Mn(e)}}function Ro(n,e,t,r,o,i){let s=Rr(n,o,e.getControlProp(t.id)),l,a;return(Z(t)||Pe(t))&&(l=kr(t,r,e)),Z(t)&&(a=t.fallbackValue),!!To(t.type,o,s,l,a,Vt(t),i.get(t.id))}function Po(n){return n.variables.filter(e=>e.type!=="divider")}function Fa(n,e,t,r,o){let i=t.getPropertyControls(n,e);return Po(t).filter(l=>{let a=i[l.id];return a?Ro(n,r,l,t.variables,a,o):!1})}function ja(n,e,t){for(let r of n.variables){if(r.type==="divider"||!Pe(r))continue;let o=t.get(r.id);b(o,"existingSlugValueForVariable is required for slug fields");let i=e.getControlProp(r.id);if((!i||!x(i.value)||!i.value.length)&&r.associatedStringVariable){let l=e.getControlProp(r.associatedStringVariable);if(l&&x(l.value)){let a=de(l.value);if(a.length&&!o.has(a))return e.setControlProp(r.id,{type:"string",value:a}),!0}}}return!1}function Xa({collectionId:n,engine:e,saveAction:t,source:r}){let o=e.tree.getNodeWithTrait(n,ue);b(o,"Collection needs to exist to allow creation of new item");let{contentManagementStore:i,treeStore:s,selectionStore:l}=e.stores,a=e.tree.getNodeWithTrait(l.ids[0],ue);a&&a.id!==o.id&&b(t,"saveAction is required when creating a nested temporary item"),i.createTemporaryCollectionItem({collectionId:o.id,saveAction:t});let d=Fn({treeStore:s,contentManagementStore:i,stackElement:i.getActiveTemporaryCollectionStackElement()});b(d),wo(o,d),An(e)&&d.set({isDraft:!0}),dn("collection_record_create",{source:r})}function wo(n,e){let t=new Date;for(let r of n.variables)r.type==="date"&&e.setControlProp(r.id,{type:"date",value:So(t,r.options?.displayTime)})}function So(n,e){return e?new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),0,0)).toJSON():new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())).toJSON()}function dl(){return{fillEnabled:E,fillType:E,fillColor:E,fillImage:E,fillImagePositionX:E,fillImagePositionY:E,fillImageTileSize:E,fillImageAlts:E,fillGradientCSS:E,gradientFillSupported:!0,fillImageResize:new Set,fillImages:new Set,anyNodesWithFill:!1,anyNodesWithImageFill:!1,anyNodeWithNonOptionalFill:!1,onlyNodesSupportingImageFill:!0,onlyNodesSupportingFillImageAlts:!0}}function No(n){return T(n)?n:1}function cl(n,e,t){if(Yt(e)&&!(cn(e)&&!e.colorable)){if(t.anyNodesWithFill=!0,Eo(e)||(t.onlyNodesSupportingImageFill=!1),t.onlyNodesSupportingFillImageAlts&&!st(n,e)&&(t.onlyNodesSupportingFillImageAlts=!1),e.fillType==="image"&&(t.fillImageResize.add(e.fillImageResize??"fill"),x(e.fillImage)&&t.fillImages.add(e.fillImage),(x(e.fillImage)||J(e.fillImage))&&(t.anyNodesWithImageFill=!0),W("fillImage",t,e),W("fillImagePositionX",t,e),W("fillImagePositionY",t,e),W("fillImageTileSize",t,e,No),st(n,e)&&Zt(e)&&(t.fillImageAlts=Do(e.fillImageAlts,t.fillImageAlts))),Qt(e)){let r;if(Jt(e.fillType))switch(e.fillType){case"linear-gradient":{r=xt(e.fillLinearGradient);break}case"radial-gradient":{r=xt(e.fillRadialGradient);break}case"conic-gradient":{r=xt(e.fillConicGradient);break}default:be(e.fillType)}r&&(tt(t.fillGradientCSS)?t.fillGradientCSS=r:t.fillGradientCSS!==r&&(t.fillGradientCSS=_)),it(e)&&!e.fillEnabled||W("fillType",t,e)}else t.gradientFillSupported=!1;it(e)?W("fillEnabled",t,e):t.anyNodeWithNonOptionalFill=!0,W("fillColor",t,e)}}function xt(n){if(n)return new nn({stops:n.stops}).toCSS(90)}function Eo(n){return!(Ft(n)||tn(n)||Ot(n)||Lt(n)||Wt(n)&&n.fillType!=="image")}function Do(n,e){if(kt(e))return e;let t=n??[];if(tt(e))return t.map(o=>({id:o.id,image:o.image,alt:o.alt}));let r=e??[];return t.length!==r.length?_:(r.forEach((o,i)=>{let s=t[i];s&&(o.image!==s.image&&(o.image=_),o.alt!==s.alt&&(o.alt=_))}),r)}function wr(n){return K(n)?"":n}function xl(){return{altAttribute:E,onlyNodesWithAltAttribute:!0}}function bl(n,e){if(!rn(n)){e.onlyNodesWithAltAttribute=!1;return}W("altAttribute",e,n,wr)}function Nl(n,e,t){if(e.length===0)return;if(e.length>1){t.trackingIdAIPrompt=_;return}let r=e[0];if(r){if(nt(t.link)){let o=Sr(n,{link:t.link,linkText:Nr(r)});t.trackingIdAIPrompt=o||E}if(t?.controlPropsWithIdentifier?.controlProps){let o=t.controlPropsWithIdentifier.controlProps,i,s;for(let l in o){let a=o[l];if(a)switch(a.type){case"string":case"richtext":x(a.value)&&(s=a.value);break;case"link":nt(a.value)&&(i=a.value);break}}for(let l in o){let a=o[l];if(!a||a.type!=="trackingid")continue;let d=Sr(n,{link:i,linkText:s});a.trackingIdAIPrompt=d||E}}}}function Sr(n,{link:e,linkText:t,textContent:r}){let o=e?_t(n,e):void 0;if(!t&&!r&&!o)return;let i='Generate a short (up to 30 characters) tracking id as a verb in kebab-case (e.g. "click-subscribe or click-login") where the text is leading over the link';return o&&(i+=` to "${o}"`),t&&(i+=` with the text "${t.replace(/"/gu,"'")}"`),r&&(i+=` that is a part of the following text "${r.replace(/"/gu,"'")}"`),i}function Nr(n){return Dt(n)?n.getTextContent():n.children?n.children.map(Nr).join(" "):""}var ge=v(O(),1);var Er="tzsvjdc",Dr="t1ehb6cn";var N=v(P(),1),Oo=ge.default.createContext(void 0);function Wl({delay:n,direction:e,interactive:t=!0,icon:r,className:o,initialVisibility:i,...s}){let l=ge.default.useRef(null),a=ge.default.useContext(Oo),{triggerProps:d,tooltipProps:c}=Rn({className:Er,direction:e,interactive:t,offset:5,triggerRef:l,offsetXRef:a,delay:n,initialVisibility:i});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(fn,{...d,className:o,ref:l,children:r}),(0,N.jsx)(Fo,{...s,...c})]})}function Fo(n){return ge.default.useEffect(()=>{if(n.image){let e=new Image;e.src=n.image,e.alt=n.title,e.decode?.().catch(Te)}},[n.image,n.title]),(0,N.jsx)(Pn,{...n,tint:n.tint??qt.panelBackground,children:(0,N.jsxs)(pn,{gap:Se.css.panelPadding,direction:"column",children:[n.image&&(0,N.jsx)("div",{children:(0,N.jsx)("img",{src:n.image,alt:n.title,width:"100%",style:{borderRadius:5,marginBottom:5,aspectRatio:"1.75"},decoding:"async"})}),n.title&&(0,N.jsx)(dt,{className:Dr,style:{fontWeight:Gt.weight.heading},children:(0,N.jsx)(ut,{children:n.title})}),(0,N.jsx)("div",{children:(0,N.jsx)(dt,{children:(0,N.jsx)(ut,{children:n.text})})}),n.actions]})})}var Mr=v(O(),1);function Or(n,e){if(n.type==="object"&&e.type==="object"&&le(n.value)&&le(e.value)){let t=Fr(n.value,e.value);return Ze(t,e.value)?e:{...n,value:t}}if(n.type==="array"&&e.type==="array"&&Je(n.value)&&Je(e.value)){let t=e.value,r=n.value.map((o,i)=>{let s=t[i];return s?Or(o,s):o});return St(r,e.value)?e:{...n,value:r}}return Q(n,e)?e:n}function Fr(n,e){let t={};for(let r in n){let o=n[r];b(o);let i=e[r];if(!i){t[r]=o;continue}t[r]=Or(o,i)}return Ze(t,e)?e:t}function $l(n){let e=(0,Mr.useRef)(null),t=e.current;if(!t)return e.current=n,n;let r=Fr(n,t);return e.current=r,r}export{xs as a,yt as b,Tr as c,yr as d,Lo as e,pe as f,_n as g,ei as h,qn as i,Xn as j,Ve as k,li as l,Zn as m,ee as n,Jr as o,sr as p,no as q,ji as r,zi as s,Ui as t,Xi as u,ss as v,as as w,dl as x,cl as y,As as z,Ls as A,Ws as B,xl as C,bl as D,Fr as E,$l as F,Nl as G,Sr as H,bo as I,aa as J,kr as K,Rr as L,To as M,Oa as N,ko as O,Pr as P,Io as Q,Ro as R,Po as S,Fa as T,ja as U,ps as V,Xa as W,wo as X,Hs as Y,Oo as Z,Wl as _,Fo as $,zs as aa,Ys as ba,xo as ca};
//# sourceMappingURL=chunk-XJ4CEXO5.mjs.map
