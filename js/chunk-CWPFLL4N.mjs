import{$a as _m,Ga as Gm,Oa as Vn,Ta as wn,Ua as Bn,aa as Mm,bb as Ea,d as va,e as xm,ia as Rn,la as Ln,o as Lm,q as wm}from"chunk-VHQJLQ3M.mjs";import{a as fn,i as Em,k as Am,m as Vm}from"chunk-Y7EP6PVD.mjs";import{h as Dm,i as Rm}from"chunk-3P5EKKEE.mjs";import{d as Pa}from"chunk-IXOQ7SRR.mjs";import{b as ba,c as km}from"chunk-YQXRHNKK.mjs";import{j as Wm}from"chunk-YMMCZXGY.mjs";import{L as Ia,e as Fm,g as Nl}from"chunk-VHBQVA4D.mjs";import{b as Aa}from"chunk-PM6LWBYM.mjs";import{a as Bm}from"chunk-KM2R7T5X.mjs";import{a as Um}from"chunk-RAZ5STN2.mjs";import{l as Om,m as Na,n as xa,o as Fa}from"chunk-E6Y5T3PM.mjs";import{$a as En,Ag as pr,Bc as Hp,Bd as Zp,Cd as em,Dd as tm,Df as cr,Ec as jp,Ed as om,Fb as Op,Fd as Lr,Fe as lm,Gb as gl,Gc as ca,Hc as kn,I as yn,Ie as um,If as Tl,J as Js,Jd as yl,K as Zs,Ka as tp,Kc as $p,Ld as Gt,Ma as Fn,N as el,O as Ki,P as tl,Qe as Cl,Qf as Ho,Rd as ma,Rf as Sm,S as Xi,Te as ur,Tg as Ca,Th as bm,Ue as _t,Vd as rm,Wa as Vp,Wd as nm,Xa as wp,Xf as ya,Yc as Yp,Yd as im,Zd as am,_a as da,ba as Ji,bg as Tm,ch as Il,ci as Pm,dh as Im,ed as pa,eh as Dn,fh as bl,gg as vm,gi as Vr,hd as qp,hf as dm,hi as Sa,i as zc,if as dr,j as Oc,ja as Xc,jb as Bp,jd as Kp,je as fa,jf as cm,k as Gc,kd as Xp,ke as sm,kf as ha,l as sr,lb as Wp,lf as ga,m as _c,md as Qp,mf as pm,n as Uc,na as Qc,nb as Mp,nf as mm,nh as Pl,ni as Ta,o as Yi,oa as Jc,oc as An,p as Hc,pf as fm,pi as Nm,q as jc,qb as hl,qc as So,qf as hm,r as qi,rc as Gp,s as hn,sb as zp,sd as Jp,sf as gm,t as Qs,ta as Zc,td as Qt,u as gn,ua as lr,uc as _p,va as ep,vf as Sl,vg as vl,wa as Oo,wc as Up,wf as ym,xa as Zi,zd as Rr,zf as Cm}from"chunk-Y4KFFISW.mjs";import{a as yy,f as ze}from"chunk-KYQ6X7UF.mjs";import{d as qs,f as fl,g as ua}from"chunk-75ILXMIH.mjs";import{k as zm}from"chunk-TKAEQUPC.mjs";import{$g as rl,Ag as $c,Cb as wo,Cd as Ic,Cg as Yc,Cj as pp,Ck as hp,Dd as bc,Dg as qc,Dh as rp,Dl as Dr,Dn as pl,Ec as xr,Ed as Hi,Eg as Kc,Ek as ul,En as ml,F as $s,Fe as kc,Fh as ta,Gk as gp,H as nc,Hb as pn,He as Dc,Hf as ar,Ib as cc,If as yo,Jb as pc,Jd as Kt,Kb as ho,Ke as Rc,Ki as ap,Kk as dl,Lb as mc,Lc as Cc,Lf as Er,Li as sp,Mb as fc,Me as Lc,Mj as Sn,Nj as _o,Nk as kr,Oc as Sc,Oi as ra,Pd as Wo,Pe as Ot,Ph as np,Qb as hc,Qe as Mo,Qf as Be,Rd as ji,Rf as Ar,Rh as nl,Sd as Pc,Tc as Gi,Td as ir,Th as il,Tj as sl,Ue as Vc,Un as Dp,Vc as Ys,Wb as gc,Wf as Co,Wn as Rp,Xi as Me,Yd as xc,Ze as wc,_d as Fc,ae as Ks,b as pe,bf as $i,bl as $e,c as bd,cf as Bc,cj as dp,ck as ot,cl,dk as ll,ek as mp,fi as Cn,gc as Rt,gd as Fr,gg as xt,gh as dt,gm as bp,h as oc,hj as cp,hl as vn,ic as mn,jc as yc,ke as Ec,kl as bn,ld as Ui,mc as nr,mg as zo,nd as vc,no as xn,og as Qi,oh as Go,oj as al,ol as Lt,pc as J,pm as Pp,qo as Lp,rl as rt,rm as Pn,sf as Wc,sn as nt,tg as ol,th as ea,tm as Np,uc as Oi,vh as op,vi as oa,we as Ac,wi as ip,wk as fp,wl as ia,xl as aa,zb as Nr,zl as Ip}from"chunk-ZXJMCM2S.mjs";import{b as rc}from"chunk-SOM3QFWS.mjs";import{b as Nc}from"chunk-26DHASNB.mjs";import{b as Tc}from"chunk-GZI43NW3.mjs";import{a as xl}from"chunk-66D7QHCS.mjs";import{$c as sd,$d as Do,$k as er,$m as Bs,Ac as so,Ad as Wt,Ae as et,Aj as Fi,As as Uo,B as mt,Bc as pi,Bd as de,Bj as vr,Bn as un,Cd as bs,Ch as Fd,Cl as ks,Cr as uc,Ct as la,D as hs,Dd as yi,Dn as $d,Dq as Hs,Dr as Pr,E as $,Ek as wd,Ep as Zd,Fg as tt,Fj as an,Fm as ws,Fr as dc,Ft as kp,Gg as Zr,Gj as Dt,Gk as Qe,Gl as Ds,Gr as fo,Hj as ut,Hk as ln,Hm as Ee,Ik as qe,Im as Ir,Iq as js,Ir as rr,Jd as pd,Jg as Pd,Jj as ge,Jo as cn,K as Xu,Kd as md,Kn as wi,L as W,Lr as zi,M as gs,Mi as Ed,Ni as uo,Nk as Bd,Nl as po,No as mo,Np as ec,Od as fd,Ok as Wd,On as dn,P as ys,Pc as Yt,Pg as Nd,Qg as bi,Qi as Zo,Qn as Bi,Rj as Vo,Sc as mi,Sd as Ci,Sj as Fs,Sk as ki,Sn as br,Tc as At,Td as hd,Ti as nn,Tr as _i,Uc as fi,Ud as Si,Uh as tn,Ui as Le,Um as Ri,Ur as go,Vc as Cs,Vd as gd,Vm as Ke,Vn as zt,Wb as rd,Wc as ad,Wd as Ti,Wi as Ct,Wk as co,Wm as Od,Wn as Ws,X as st,Xc as Oe,Xd as yt,Xg as Pi,Xm as Gd,Xr as Bo,Yd as vi,Ym as tr,Zc as Ge,Zd as yd,Zg as Lo,Zi as b,Zj as Es,Zl as Rs,Zm as _d,_c as xe,_d as Nt,_i as xi,_n as Yd,_q as tc,aa as $r,ab as Zu,ad as ld,ae as Cd,ah as Ni,ak as As,at as na,bc as nd,bd as Xr,bk as Dd,bo as Ms,cc as io,cr as ic,ct as Tp,d as xo,dd as It,de as Ro,dk as Rd,dm as Ls,ec as Kr,ed as ie,ee as Mt,ek as Ei,eo as qd,fd as wt,fe as lo,fk as Ld,fr as ac,fs as Xs,g as $u,gd as ud,ge as Sd,gp as Qd,gs as Mc,hc as ue,hd as hi,he as Ii,ht as In,i as Yu,id as Ss,ie as Qr,il as Md,ir as or,it as vp,jb as ed,jk as sn,jp as Mi,kd as dd,ke as kt,kj as Ad,ko as zs,l as qu,lc as Tr,ld as Te,le as Td,ln as Li,mb as Yr,mc as Ze,md as gt,mt as xp,n as je,nd as Bt,ne as vd,ns as lp,od as w,on as Ud,or as sc,os as up,ot as Fp,pb as Ao,pp as Jd,qb as td,qd as bt,qk as Vd,qn as Hd,rd as Pt,rg as Ps,ri as on,rm as Vs,rn as Vi,rt as Ep,sb as od,sd as cd,so as Kd,td as Ts,tl as Di,tn as qt,to as Os,uc as id,ud as _e,uh as xd,uo as Gs,us as yp,ut as Ap,vb as qr,vc as ci,vd as Q,ve as Id,vh as en,vj as kd,vn as jd,vo as Xd,vp as Us,vs as Tn,vt as sa,wb as Se,wc as ko,wd as vs,we as Jr,wk as Ai,wo as _s,ws as Cp,wt as Xt,xb as ht,xd as Is,xi as rn,xj as Fe,yd as gi,yj as St,yt as Nn,zc as ao,zd as Ue,zg as Ns,zi as xs,zm as zd,zr as lc}from"chunk-SF5446RK.mjs";import{$ as Wi}from"chunk-RT6MD2HE.mjs";import{a as Sp}from"chunk-REJ2XCEK.mjs";import{a as jr,b as Ku}from"chunk-BUC334RG.mjs";import{a as ui}from"chunk-B7SOVHNX.mjs";import{a as Qu,p as Xe}from"chunk-OBUCKN56.mjs";import{a as di,b as L,e as q,f as lt,g as Ye,h as Ju,j as ne,k as Fo,m as we,p as Eo}from"chunk-CMAEAGWD.mjs";import{b as $t}from"chunk-AUNF3KWQ.mjs";import{a as gy}from"chunk-JB2N3EQZ.mjs";import{g as jt}from"chunk-4X7KIAE7.mjs";import{Ja as fe,Na as No,W as Ut,Z as Po,da as ft,ia as _r,j as Uu,ja as Hu,la as ju,ma as Ht,na as Ur,pa as si,ra as Jo,ta as Hr,ua as Ne,va as fs,wa as li}from"chunk-EEV263O3.mjs";import{a as N,b as Z}from"chunk-YOOGIIWU.mjs";import{a as ai}from"chunk-HMF7T2NG.mjs";import{e as ii,j as B}from"chunk-AHQIRSXG.mjs";var jm=ii(yy(),1);var $m=ii(gy(),1);var AI=$m.default.createContext("not-defined");var Hm={store_internal:2,store_browse:2,store_use_installed:2},Fl={},ka=new jm.FramerTracking({sourceName:"framer-x",trackingURL:ai().events+"/track",verbose:window.localStorage&&window.localStorage.getItem("debug-metrics")==="active",addContext:e=>{let o;for(o in Fl)ne(e[o])&&(e[o]=Fl[o])}}),Cy;(r=>(r.init=function(n){let{appVersion:a,projectId:i}=n;Object.assign(Fl,{appVersion:a,projectId:i}),ka.setUserId(n.userId)},r.push=function(n){let{name:a,type:i,...l}=n;n.type==="store_internal"?(delete l.action,ka.track({type:"track",event:a,version:2,...l})):ka.track({type:"track",event:i,version:Hm[i],name:a,...l})},r.pushEvent=function(n){let{event:a,...i}=n;ka.track({...i,type:"track",event:a,version:Hm[a]})}))(Cy||={});var Sy=new Set(ed({allItemsLabelLocalized:!0,booleanTrueLabelLocalized:!0,booleanFalseLabelLocalized:!0,fillImageLocalized:!0,formInputPlaceholderLocalized:!0,htmlLocalized:!0,altAttributeLocalized:!0,titleLocalized:!0,descriptionLocalized:!0,linkLocalized:!0}));function El(e){return Sy.has(e)}function Da(e){return e.map(o=>lt(o)?Ra(o):Ye(o)?Da(o):o)}function Ty(e){return e.endsWith("Localized")}function Ra(e){let o={};for(let t in e){if(Ty(t))continue;let r=e[t];lt(r)?o[t]=Ra(r):Ye(r)?o[t]=Da(r):o[t]=r}return o}function BI(e){let o={},t;for(t in e){if(El(t))continue;if(!ws(t)){o[t]=e[t];continue}let r=e[t];lt(r)?o[t]=Ra(r):Ye(r)?o[t]=Da(r):o[t]=r}return o}function Ym(e){let o={};for(let t in e){if(El(t))continue;if(!ws(t)){o[t]=e[t];continue}let r=e[t];lt(r)?o[t]=Ra(r):Ye(r)?o[t]=Da(r):o[t]=r}return o}var vy={track:!0};function qm(e){let o={...e,event:"canvas_page_add"};$t(o,vy)}var Iy={track:!0};function Km(e){let o={...e,event:"component_canvas_create"};$t(o,Iy)}var by={track:!0};function Xm(e){let o={...e,event:"component_canvas_variant_create"};$t(o,by)}var Py={track:!0};function Al(e){let o={...e,event:"component_design_instance"};$t(o,Py)}var Ny={track:!0};function Qm(e){let o={...e,event:"property_layout_update"};$t(o,Ny)}function Jm(e,o){return di(o)?o:pe(e)?e.constraintsLocked:!1}function hb(e,o,t,r){let n=e.tree,a={x:Math.round(t.x-r.width/2),y:Math.round(t.y-r.height/2)},i=n.getNode(o);if(!o||!i)return{left:a.x,top:a.y};let l=Ic(e.tree,o),u=l?Sa(e.tree,l):null,s=n.getRect(i),c=n.convertPointToNode(i,a),f={x:c.x,y:c.y,width:r.width,height:r.height},g=f.width/f.height,y=nl(f,{sizing:s,positioning:s,viewport:u,layout:Yt(i)},null,{aspectRatio:g,shouldGuessPinToBottom:ur(n,null,i),shouldGuessPinToRight:_t(n,null,i)});return y.aspectRatio=g,y}var kl=(e,o,t,r)=>{let n=o.getGroundNodes().map(a=>e.getRect(a));return r!==void 0&&n.push(...r),n.find(a=>W.intersects(t,a))===void 0},xy=(e,o,t,r,n)=>{let a=o.getGroundNodes().map(u=>e.getRect(u));r!==void 0&&a.push(...r);let l=a.sort((u,s)=>W.maxX(u)>W.maxX(s)?-1:1)[0];return l!==void 0?Ll(l,t,n):null},Fy=(e,o,t,r,n)=>{let a=o.getGroundNodes().map(s=>e.getRect(s));r!==void 0&&a.push(...r);let u=a.filter(s=>s.width===t.width&&s.height===t.height||s.height===t.width&&s.width===t.height).sort((s,c)=>W.maxX(s)>W.maxX(c)?-1:1)[0];return u!==void 0?Ll(u,t,n):null},Ey=(e,o,t)=>o.map(r=>e.getNode(r)).filter(r=>bi.equals(r.rect(null),t));function Rl({tree:e,activeScope:o,node:t,size:r,filledRects:n,offsetDistance:a}){let i={...e.getRect(t),...r},l=o.getGroundNodes().map(c=>c.rect());n&&l.push(...n);let u=i,s=0;for(;u;){if(ne(a.x)||(i.x=Dl("x",u,a.x)),ne(a.y)||(i.y=Dl("y",u,a.y)),u=l.find(c=>W.intersects(c,i)),s>l.length)return i;s++}return i}var ef=(e,o,t,r,n={x:100,y:void 0},a)=>Rl({tree:e,activeScope:o,node:t,size:r,filledRects:a,offsetDistance:n}),Wn=(e,o,t,r,n=100,a)=>Rl({tree:e,activeScope:o,node:t,size:r,filledRects:a,offsetDistance:{x:n}}),gb=(e,o,t,r,n=100,a)=>Rl({tree:e,activeScope:o,node:t,size:r,filledRects:a,offsetDistance:{y:n}});function Dl(e,o,t){return(e==="x"?W.maxX:W.maxY)(o)+t}function Ll(e,o,t=100){return{...e,x:Dl("x",e,t),...o}}var Ay=(e,o,t,r,n,a,i)=>{if(a){let s=e.getNode(a);if(s)return Wn(e,o,s,t,i,n)}if(r){let s=Ey(e,r,t);if(s.length){let f=s.map(y=>Ll(y.rect(),t,i)).find(y=>kl(e,o,y,n));if(f)return f;let g=s[0];return N(g,"Equal frame must be defined"),Wn(e,o,g,t,i,n)}}let l=Fy(e,o,t,n,i);if(l!==null&&kl(e,o,l,n))return l;let u=xy(e,o,t,n,i);return u!==null&&kl(e,o,u,n)?u:{...t,x:0,y:0}},yb=(e,o,t,r,n)=>{let a=e.getRect(t),i=e.getParent(t.id),l;de(t)&&(l=Math.min(a.width,100));let u=Ay(e,o,a,r,n,t.id,l);return n.push(u),nl(u,null,_i(t)?Bo(t):null,{shouldGuessPinToBottom:!0,shouldGuessPinToRight:_t(e,t,i)})},Cb=(e,o,t,r)=>{if(t.length>0){let n=t[t.length-1],a=e.getGroundFrameAncestor(n,!0);if(a)return a.id}for(let n of e.sortVisually(e.getNodesAtPoint(o,r)).reverse())if(n instanceof An&&e.getParent(n.id)===Qe){if(xe(n))continue;return n.id}return Qe},Sb=(e,o,t)=>{let n=e.tree.newId(),a={top:o.y,left:o.x,width:o.width,height:o.height,overflow:"clip",isScreen:!0};return a.framePreset=t,e.createFrame(Qe,{id:n,...a}),n},Tb=(e,o)=>{let t=e.tree,r=t.newId(),n={top:o.y,left:o.x,width:o.width,height:o.height,overflow:"clip",isScreen:!0};return e.createFrame(Qe,{id:r,...n}),e.stores.scopeStore.active.getGroundNodes(i=>{let l=t.getRect(i);return i.id!==r&&W.containsRect(o,l)}).forEach(i=>{let l=t.getParent(i.id),u=t.getRect(i),s=W.offset(u,$.reverse(o));e.moveNode(i.id,r),e.tree.current(i)?.set(i.updateForRect({rect:s,parentSizeInfo:{sizing:o,positioning:o,viewport:null,layout:Yt(l)},constraintsLocked:Jm(i),shouldGuessPinToBottom:!0,shouldGuessPinToRight:_t(e.tree,i,l)}))}),r},Zm=["#9ef","#4cf","#3af","#38f","#26f"],vb=(()=>{let e=-1,o=Zm.length;return()=>Xe.isOn("greyFrameDefault")?Nc.dark20:(e++,Zm[e%o])})();function xb(e,o){if(!e||e.changes.length===0)return!1;for(let t of e.changes){let r=o.get(t.id);if(!md(r)&&!pd(r)&&!(!r&&t.added==="RedirectRouteNode"))return!1}return!0}function tf(e,o){if(!e||e.changes.length===0)return!1;for(let t of e.changes){let r=o.get(t.id);return!r||!zt(r)?!1:"variables"in t.from}return!0}function of(e,o){if(!e||e.changes.length===0)return!1;for(let t of e.changes){let r=o.get(t.id);if(!It(r))return!1;let n="locales";return!!(n in t.from||t.from._deleted?.includes(n))}return!0}var rf=class extends Uo{constructor(){super(...arguments);B(this,"active",0)}};var Dy=ft("EngineChanges");var nf=class{constructor(){B(this,"changes",new Set);B(this,"addChanges",(...o)=>{for(let t of o)this.changes.add(t)});B(this,"changeObserverFlags",[]);B(this,"changeObservers",[]);B(this,"inSignalAllObservers",!1);B(this,"observersToRemove",[])}get flags(){return this.changes}has(...o){for(let t of o)if(this.changes.has(t))return!0;return!1}observe(...o){let t=o.pop(),r=o;return jt.isDebugBuild&&r.some(n=>n===void 0)&&Dy.warn("changes.observe was called with undefined as one of the flags. It might be caused by observing a store that hasn't been instantiated yet."),this.changeObserverFlags.push(r),this.changeObservers.push(t),t}observeWithComponent(o,t,r){this.changeObserverFlags.push(o);let n=()=>{jt.benchmarkSkipRendering||t.setState(r())};return this.changeObservers.push(n),n}removeObserver(o){if(this.inSignalAllObservers){this.observersToRemove.push(o);return}let t=this.changeObservers.indexOf(o);t!==-1&&(this.changeObserverFlags.splice(t,1),this.changeObservers.splice(t,1))}signalAllObservers(){if(!this.changes)return;let o=this.changes,t=this.changeObserverFlags,r=this.changeObservers;this.inSignalAllObservers=!0;for(let n=0;n<t.length;n++){let a=t[n];for(let i of a)if(o.has(i)){r[n]();break}}if(this.inSignalAllObservers=!1,this.observersToRemove.length>0){for(let n of this.observersToRemove)this.removeObserver(n);this.observersToRemove.length=0}this.changes.clear()}signalObserversFor(...o){let t=new Set(o),r=this.changeObserverFlags,n=this.changeObservers;for(let a=0;a<r.length;a++){let i=r[a];for(let l of i)if(t.has(l)){n[a]();break}}t.forEach(a=>this.changes.delete(a))}};function Vl(e){return e.userIsViewer?Nl:jt.isAutomation||jt.isTest?Fm:e.acl.find(t=>t.user.id===e.userId)?.permissions??Nl}var Mn=class{constructor(o){this.aclPermissions=o}get canDesign(){return this.aclPermissions.canDesign==="on"}get canEditContent(){return this.aclPermissions.canEditContent==="on"}get canPublish(){return this.aclPermissions.canPublish==="on"}get canEditSiteSettings(){return this.canDesign&&this.canEditContent&&this.canPublish}get canPublishToStaging(){return this.canDesign||this.canEditContent||this.canPublish}get canInviteCollaborators(){return this.canDesign||this.canEditContent||this.canPublish}get canEditVariables(){return this.canDesign}get canAddCollections(){return this.canDesign}get canEditAnalytics(){return this.canDesign||this.canEditContent}get canEditLocales(){return this.canDesign}get canEditLocalizedValues(){return this.canEditContent}get canSendDiffs(){return this.canDesign||this.canEditContent}},Gb=Ad({canDesign:"Design",canEditContent:"Content",canPublish:"Deploy",canEditSiteSettings:"Design and Content and Deploy",canPublishToStaging:"Design or Content or Deploy",canInviteCollaborators:"Design or Content or Deploy",canEditVariables:"Design",canAddCollections:"Design",canEditAnalytics:"Design or Content",canEditLocales:"Design",canEditLocalizedValues:"Content",canSendDiffs:"Design or Content"});function _b(e){let o=Vl(e);return new Mn(o)}var wl=e=>[e.chromeStore,e.projectStore,e.sessionStore],La=([e,o,t])=>({userIsViewer:e.userIsViewer,userIsAccountSharing:e.userIsAccountSharing,acl:o.acl,userId:t.user.id});function Ub(e,o,t,{signal:r}){let n=wl(e),a=La(n),i=o.changes.observe(...n,()=>{let l=La(n);Ao(a,l)||(a=l,t(l))});r.addEventListener("abort",()=>{o.changes.removeObserver(i)},{once:!0})}function Yb(){let e=rc();return N(Bl(e),"Expected OnPageEngine"),e}function Bl(e){return e.name==="OnPageEngine"}var af=e=>[e.loadingStore,...wl(e)],Wl=([e,...o])=>({isReady:e.isReady,...La(o)});function Ry(e,o){if(!e.isReady||e.userIsViewer||e.userIsAccountSharing&&o!=="canInviteCollaborators")return!0;let t=Vl(e);return!new Mn(t)[o]}function zn(e,o){return nc(e)?Ry(Wl(af(e.stores)),o):!Bl(e)}function Zb(e,o,t,{signal:r}){let n=af(e),a=Wl(n),i=o.changes.observe(...n,()=>{let l=Wl(n);Ao(a,l)||(a=l,t(l))});r.addEventListener("abort",()=>{o.changes.removeObserver(i)},{once:!0})}function wr(e){return Zr(e)}var rP=(e,o)=>{if(e===o)return!0;if(e.length!==o.length)return!1;let t=new Set(e);for(let r of o)if(!t.has(r))return!1;return!0},nP=(e,o,t)=>{let r=[];for(let n of e)Ml(o,n,t)!==-1&&r.push(n);return r},sf=(e,o,t)=>{if(!t)return Array.from(new Set([...e,...o]));let r=[...e];for(let n of o)Ml(r,n,t)===-1&&r.push(n);return r},iP=(e,o,t)=>e.filter(r=>Ml(o,r,t)===-1);function Ml(e,o,t){return t?e.findIndex(r=>t(r,o)):e.indexOf(o)}function Vy(e,o){let t=[];for(let n of o.segmentSelection){let a=e.getNode(n.id);!a||n.index>=a.pathSegments.length||t.push(n)}let r=o.segmentHandle;if(r){let n=e.getNode(r.id);(!n||r.index>=n.pathSegments.length)&&(r=null)}return{...o,segmentSelection:t,segmentHandle:r}}var lf=class{constructor(o){this.addChanges=o;B(this,"state",{segmentSelection:[],selectionType:0,segmentHandle:null,segmentHovered:null,closestCurve:null,pointRounding:.5,snapConstraint:null})}validateSegmentSelection(o){this.state=Vy(o,this.state),this.addChanges("PathSelection")}setSegmentSelection(o,t){this.state={...this.state,segmentSelection:o,selectionType:t},this.addChanges("PathSelection")}toggleSegmentSelection(o,t){this.state.selectionType!==t&&(this.state={...this.state,segmentSelection:o,selectionType:t});let r=o.filter(a=>this.state.segmentSelection.find(i=>a.id===i.id&&a.index===i.index)===void 0),n=this.state.segmentSelection.filter(a=>o.find(i=>i.id===a.id&&i.index===a.index)===void 0);this.state={...this.state,segmentSelection:sf(r,n)},this.addChanges("PathSelection")}setSegmentHandle(o){this.state={...this.state,segmentHandle:o},this.addChanges("PathSelection")}setHoveredSegment(o){this.state={...this.state,segmentHovered:o},this.addChanges("PathSelection")}setClosestCurve(o){this.state={...this.state,closestCurve:o},this.addChanges("PathSelection")}setPathPointRounding(o){this.state={...this.state,pointRounding:o},this.addChanges("PathSelection")}setPathConstraint(o){this.state={...this.state,snapConstraint:o},this.addChanges("PathSelection")}};var On=ii(bd(),1);function df(e,o){return zn(e,"canDesign")||o.length===0?!1:o.find(t=>!(!wr(t)&&zo(t)&&!yi(t)&&!t.originalid))===void 0}function MP(e,o,t,r){let n=o.map(a=>Ol(e,a,t,r)[0]);e.stores.selectionStore.set(n)}function Ol(e,o,t,r){let n=e.tree,a;Il.isBasicShape(o)?a=Il.createPath(o):a=o.calculatedPaths();let i=cm(o,a),l=mr(n,o,a),u=n.newId(),s=rt.boundingBox(i),c=mf(o),f=Pp(o);if(c.fillType==="linear-gradient"&&c.fillLinearGradient){c.fillType="linear-gradient";let y=q(o.rotation)?o.rotation:0;c.fillLinearGradient=c.fillLinearGradient.updated({angle:c.fillLinearGradient.angle+y})}if(i.length===1){let y=i[0];N(y!==void 0,"Expected first path after length === 1 check");let S=rt.offset(y,$.reverse(s));e.createPath(o.parentid,{id:u,...S,...s,...c,...f})}else{let y=[],S=new Ca({id:u,parentid:o.parentid,pathBoolean:4,...s,...c,...f});y.push(S);for(let v of i){let F=rt.boundingBox(v),D={...F,...$.subtract(F,s)},k=rt.offset(v,$.reverse(F)),j=new Dn({parentid:u,...D,...k,...c});y.push(j)}e.tree.insertNodes(y)}let g=n.getParent(o.id);if(g!==null&&Be(g)){let y=g.children.indexOf(o);e.moveNode(u,g.id,y)}return e.deleteNode(o.id),r||e.stores.selectionStore.set(u),t===!0&&e.setTool(40),[u,l]}function By(e){let o={};return e.forEach(t=>{let r=o[t.id]??[];r.push(t.index),o[t.id]=r}),o}function zP(e,o){let t=1/o;return{x:Math.round(e.x*t)/t,y:Math.round(e.y*t)/t}}function OP(e,o){let t=e.getNode(o.id);if(!t||!t.pathSegments)return null;let r=t.pathSegments[o.index];if(!r)return null;let n=o.handle===0?tt.calculatedHandleIn(r):tt.calculatedHandleOut(r);return e.convertPointToCanvas(t,n)}function uf(e,o){return o.handle===0?{x:e.handleOutX,y:e.handleOutY}:{x:e.handleInX,y:e.handleInY}}function GP(e,o,t,r,n){let a=e.getNode(o.id),i=a.pathSegments[o.index];return N(i!==void 0,"Expected segment at handleSelector.index"),t=e.convertPointToNode(a,t),t=$.subtract(t,i),No.update(a.pathSegments,o.index,l=>{let u=uf(l,o),s=l.handleMirroring==="straight",c=l.handleMirroring;r&&(u=uf(r,o),s=r.handleMirroring==="straight",c=r.handleMirroring),s&&(c="symmetric"),r&&n&&(c==="disconnected"||c==="asymmetric"?c="symmetric":c="disconnected"),c==="symmetric"&&(u=$.reverse(t));let f=o.handle===0,g=f?t.x:u.x,y=f?t.y:u.y,S=f?u.x:t.x,v=f?u.y:t.y;return l.merge({handleOutX:S,handleOutY:v,handleInX:g,handleInY:y,handleMirroring:c})})}function Gn(e,o,t=!1,r){let n=e.tree,a=(0,On.Map)(),i=(0,On.Map)();if(!zo(o)&&!de(o))return{descendantPaths:a,descendantBasicShapes:i};let l={};Gl(n,o,l);let u=Object.keys(l);for(let f=0,g=u.length;f<g;f++){let y=u[f];N(y!==void 0,"Expected id at index within loop bounds");let S=l[y];N(S!==void 0,"Expected path for id from Object.keys"),a=a.set(y,S)}let s={};_l(n,o,s,t);let c=Object.keys(s);for(let f=0,g=c.length;f<g;f++){let y=c[f];N(y!==void 0,"Expected id at index within loop bounds");let S=s[y];N(S!==void 0,"Expected points for id from Object.keys"),i=i.set(y,S)}return i.forEach((f,g)=>{if(f!==null)return;let y=n.getNode(g);if(!y||!df(e,[y]))return;let[S,v]=Ol(e,y,!1,!0),F=v[0];N(F!==void 0,"Expected pathSegment from flattenShape"),a=a.set(S,F),r&&r.includes(g)&&e.stores.selectionStore.toggle(S)}),{descendantPaths:a,descendantBasicShapes:i}}function cf(e,o){let t=e.tree,r=(0,On.Map)(),n=(0,On.Map)();if(!de(o))return{shapeContainerDescendantPaths:r,shapeContainerDescendantBasicShapes:n};let a={};Gl(t,o,a,o);let i=Object.keys(a);for(let s=0,c=i.length;s<c;s++){let f=i[s];N(f!==void 0,"Expected id at index within loop bounds");let g=a[f];N(g!==void 0,"Expected path for id from Object.keys"),r=r.set(f,g)}let l={};_l(t,o,l,!1,!1,o);let u=Object.keys(l);for(let s=0,c=u.length;s<c;s++){let f=u[s];N(f!==void 0,"Expected id at index within loop bounds");let g=l[f];N(g!==void 0,"Expected points for id from Object.keys"),n=n.set(f,g)}return n.forEach((s,c)=>{if(s!==null)return;let f=t.getNode(c);if(!f||!df(e,[f]))return;let[g,y]=Ol(e,f,!1,!0),S=y[0];N(S!==void 0,"Expected pathSegment from flattenShape");let F=jo(t,o,[S])[0];N(F!==void 0,"Expected converted path segments at index 0"),r=r.set(g,{pathSegments:F,pathClosed:!0})}),{shapeContainerDescendantPaths:r,shapeContainerDescendantBasicShapes:n}}function Gl(e,o,t,r){if(yi(o)||bs(o)||de(o))for(let n of o.children)zo(n)&&Gl(e,n,t,r);else if(wr(o)){let a=mr(e,o,o)[0];N(a!==void 0,"Expected path from convertPathToCanvas");let i=a.pathSegments;if(r){let u=jo(e,r,[{pathSegments:i,pathClosed:o.pathClosed}])[0];N(u!==void 0,"Expected converted path at index 0"),i=u}t[o.id]={pathSegments:i,pathClosed:o.pathClosed}}}function _l(e,o,t,r=!1,n=!1,a){if(yi(o)||bs(o)||de(o))for(let i of o.children){let u=Go(i)&&q(i.rotation)&&i.rotation%90!==0||r;zo(i)&&_l(e,i,t,u,n,a)}else if(!wr(o)&&zo(o))if(r||n)t[o.id]=null;else{let i=W.pointsAtOrigin(e.getRect(o));t[o.id]=i.map(l=>{let u=e.convertPointToCanvas(o,l);return a?e.convertPointToNode(a,u,!0):u})}}function mr(e,o,t,r=1){let n=[];return Array.isArray(t)?n=t:n=[t],n.map(({pathSegments:a,pathClosed:i})=>({pathSegments:a.map(u=>zl(e,o,u,r,void 0)),pathClosed:i}))}function zl(e,o,t,r=1,n){let a=$.multiply(e.convertPointToCanvas(o,t,!0,n),r),i=$.multiply(e.convertPointToCanvas(o,tt.calculatedHandleIn(t),!0,n),r),l=$.multiply(e.convertPointToCanvas(o,tt.calculatedHandleOut(t),!0,n),r),u=$.subtract(i,a),s=$.subtract(l,a);return t.merge({...a,handleOutX:s.x,handleOutY:s.y,handleInX:u.x,handleInY:u.y})}function jo(e,o,t){return t.map(({pathSegments:r})=>r.map(n=>{let a=e.convertPointToNode(o,n),i=e.convertPointToNode(o,tt.calculatedHandleIn(n)),l=e.convertPointToNode(o,tt.calculatedHandleOut(n)),u=$.subtract(i,a),s=$.subtract(l,a);return n.merge({...a,handleOutX:s.x,handleOutY:s.y,handleInX:u.x,handleInY:u.y})}))}function pf(e,o,t,r){return r.map(({pathSegments:n})=>n.map(a=>{let i={x:a.x,y:a.y},l=Vr(e,o,t,i),u=Vr(e,o,t,tt.calculatedHandleIn(a)),s=Vr(e,o,t,tt.calculatedHandleOut(a)),c=$.subtract(u,l),f=$.subtract(s,l);return a.merge({...l,handleOutX:f.x,handleOutY:f.y,handleInX:c.x,handleInY:c.y})}))}function Ul(e,o){return o.map(({pathSegments:t})=>t.map(r=>{let n=nt.convertPoint(e,r),a=nt.convertPoint(e,tt.calculatedHandleIn(r)),i=nt.convertPoint(e,tt.calculatedHandleOut(r)),l=$.subtract(a,n),u=$.subtract(i,n);return r.merge({...n,handleOutX:u.x,handleOutY:u.y,handleInX:l.x,handleInY:l.y})}))}function Wy(e,o,t){let r=o.updateForPath(t);e.tree.current(o)?.set(r)}function _P(e,o,t,r,n){let a=e.getParent(t.id),i=t.updateForPath(r);o.createPath(a?a.id:Qe,{...i,id:n,rotation:t.rotation,...mf(t)})}function UP(e,o,t){if(t===0)return o;let r=[],n=By(o),a=Object.keys(n);for(let i=0,l=a.length;i<l;i++){let u=a[i];N(u!==void 0,"Expected id at index within loop bounds");let s=[],c=e.getNode(u),f=n[u];N(f!==void 0,"Expected selectors for id from grouped object");let g=c.pathSegments.length;for(let y=0,S=f.length;y<S;y++){let v=f[y];N(v!==void 0,"Expected value at index of selectors within loop bounds"),s.push(v);let F=v+1;F===g?s.push(0):s.push(F)}for(let y=0,S=s.length;y<S;y++){let v=s[y];N(v!==void 0,"Expected value in indexes array within loop bounds"),r.push({id:c.id,index:v})}}return r}function HP(e,o,t){for(let r of e)if(r.id===o&&r.index===t)return!0;return!1}function jP(e,o,t,r,n,a){let i=mr(e,n,n),u=jo(e,t,i)[0];N(u!==void 0,"Expected converted path at index 0");let s=u,c=!rt.isLastSegment(t.pathSegments,t.pathClosed,r.index),f=rt.isLastSegment(n.pathSegments,n.pathClosed,a.index);(!c&&f||c&&!f)&&(s=rt.reverse(s));let y;c?y=No.unshift(t.pathSegments,...s):y=No.push(t.pathSegments,...s),o.deleteNode(n.id),Wy(o,t,{pathSegments:y})}function My(e,o,t){let r=Pd(e,o);if(t===0){if(r)return $.subtract(o,e);if(e.handleOutX!==0||e.handleOutY!==0){let a=tt.calculatedHandleOut(e);return $.subtract(a,e)}let n=tt.calculatedHandleIn(o);return $.subtract(n,e)}else{if(r)return $.subtract(e,o);if(o.handleInX!==0||o.handleInY!==0){let a=tt.calculatedHandleIn(o);return $.subtract(a,o)}let n=tt.calculatedHandleOut(e);return $.subtract(n,o)}}function $P(e,o){let t=e.getNode(o.id);if(!t)return null;let r=t.pathSegments[o.segmentIndex];if(!r)return null;let n=t.pathSegments[o.segmentIndex+1];if(!n)return null;let a=zl(e,t,r),i=zl(e,t,n),u=o.projectedTime<.5?tt.point(a):tt.point(i),s=My(a,i,0);return Xu(u,$.add(u,s))}var zy=15;function YP(e,o,t,r){let n=5/r,a=zy/r,i=o.cache.canvasRect;if(i&&(i.x-t.x>n||i.y-t.y>n||t.x-(i.x+i.width)>n||t.y-(i.y+i.height)>n))return null;let l=rt.toBezierJS(o,o),u=e.convertPointToNode(o,t),s=-1,c=1/0,f=0;for(let F=0,D=l.length;F<D;F++){let k=l[F];N(k!==void 0,"Expected bezierCurve at index within loop bounds");let j=k.project(u),M=j.d,U=j.t;M>=c||U===0||U===1||(c=M,s=F,f=U)}if(s===-1)return null;let g=l[s];N(g!==void 0,"Expected curve at shortestIndex");let y=g.get(f),S=g.get(.5),v=$.distance(u,S)<a;return{id:o.id,segmentIndex:s,distance:c,projectedPoint:y,projectedTime:f,midPoint:S,midPointInRange:v}}function mf(e){return{strokeEnabled:e.strokeEnabled,strokeAlignment:e.strokeAlignment,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,lineJoin:e.lineJoin,lineCap:e.lineCap,strokeMiterLimit:e.strokeMiterLimit,strokeDashArray:e.strokeDashArray,strokeDashOffset:e.strokeDashOffset,fillEnabled:e.fillEnabled,fillType:e.fillType,fillColor:e.fillColor,fillLinearGradient:e.fillLinearGradient,fillRadialGradient:e.fillRadialGradient,fillImage:e.fillImage,fillImageResize:e.fillImageResize,fillImageOriginalName:e.fillImageOriginalName,fillImagePixelWidth:e.fillImagePixelWidth,fillImagePixelHeight:e.fillImagePixelHeight,fillImagePositionX:e.fillImagePositionX,fillImagePositionY:e.fillImagePositionY,fillImageTileSize:e.fillImageTileSize,boxShadows:e.boxShadows,opacity:e.opacity}}var Hl=ft("ToolStore"),ff=class extends Uo{constructor(t,r){super();this.addChanges=t;this.effectsStore=r;B(this,"update",0);B(this,"tooltip");B(this,"shapeToolActive",!1);B(this,"feedbackModeActive",!1);B(this,"handle",null);B(this,"straightLineAnchorIndex",0);B(this,"proseMirrorView",null);B(this,"proseMirrorState",null);B(this,"textLink",null);B(this,"editedTextLink");B(this,"stackInsertionIndicator",null);B(this,"replaceableFloatingPositionNode",null);B(this,"activeTool",4);B(this,"nodeInTextEditorId",Qe);B(this,"nodeInPathEditorOffset",null);B(this,"nodesWithPlaceholders",null);B(this,"codeComponentInProgressInsertionIndicatorNodeIDs",new Set);B(this,"cachedSelectionFrame",new Map)}get tool(){return this.activeTool}postProcess(t){this.update=t}get isDefaultToolActive(){return this.tool===4||this.tool===5}updateDragAndDropPlaceholder(t){if(t){let r=t.cache.placeholders,n=r?[{id:t.id,placeholders:r}]:null;if(ui(n,this.nodesWithPlaceholders))return;this.nodesWithPlaceholders=n}else this.nodesWithPlaceholders=null}setTool(t){Qi.canEditTree(t)&&t!==10&&this.effectsStore.exitPreview(),this.shapeToolActive=_y(t),Uy(t)||(this.feedbackModeActive=!1),this.tool===10&&t!==10&&this.addChanges("ExitMove"),this.tool!==t&&this.addChanges("Tool"),this.activeTool=t}getZoomAdjustedSelectionFrames(t,r,n,a=Xe.isOn("agent")){if(r.length){if(a){let i=hf(t.tree.root.update,t.stores.treeStore.domLayoutUpdate,r,n),l=this.cachedSelectionFrame.get(i);if(l)return Hl.debug("using cached selection frames",i,l),l}return this.calculateZoomAdjustedSelectionFrames(t,r,n)}}setCachedSelectionFrames(t,r,n,a,i,l){this.cachedSelectionFrame.size>100&&this.cachedSelectionFrame.clear(),this.cachedSelectionFrame.set(hf(t,r,n,a),{merged:i,frames:l})}calculateZoomAdjustedSelectionFrames(t,r,n){let a=t.tree,i=a.root.update,l=t.stores.treeStore.domLayoutUpdate;Hl.debug("calculate selection frames",{update:i,domLayoutUpdate:l,selection:r,zoom:n});let u=[],s=r.reduce((c,f)=>{let g=a.getNode(f);if(!g?.cache.visible)return c;let y;if(Nd(g)){let v=g.calculatedPaths(),F=mr(a,g,v);y=rt.boundingBox(F,0)}else y=a.convertFrameToCanvas(g);let S=W.roundToOutside(W.multiply(y,n));return u.push(S),c?W.merge(c,S):S},void 0);if(s)return this.setCachedSelectionFrames(i,l,r,n,s,u),Hl.debug("calculated selection frames",{merged:s,frames:u}),{merged:s,frames:u}}};function hf(e,o,t,r){return e+":"+o+":"+t.join(",")+":"+r}function Gy(e){switch(e){case 36:case 25:case 14:case 26:case 28:case 27:case 29:case 16:case 15:case 24:case 17:case 23:case 18:case 52:case 34:case 35:case 46:case 51:case 32:case 45:case 33:case 30:return!1;case 2:case 0:case 1:case 3:case 47:case 48:case 19:case 21:case 20:case 22:case 5:case 43:case 39:case 49:case 4:case 50:case 13:case 44:case 10:case 37:case 7:case 40:case 42:case 11:case 31:case 12:case 41:case 53:case 6:case 54:case 38:case 8:case 9:return!0;default:Z(e)}}function _y(e){switch(e){case 2:case 0:case 1:case 3:case 36:case 47:case 48:case 25:case 14:case 26:case 28:case 27:case 29:case 16:case 15:case 24:case 17:case 23:case 18:case 52:case 5:case 43:case 39:case 49:case 4:case 50:case 46:case 51:case 44:case 10:case 37:case 7:case 42:case 11:case 31:case 32:case 33:case 34:case 35:case 12:case 41:case 53:case 6:case 45:case 30:case 54:case 38:case 8:case 9:return!1;case 19:case 21:case 20:case 22:case 13:case 40:return!0;default:Z(e)}}function Uy(e){switch(e){case 47:case 48:case 7:case 8:case 9:return!0;case 2:case 0:case 1:case 3:case 4:case 5:case 6:case 10:case 11:case 53:case 12:case 13:case 36:case 14:case 15:case 16:case 52:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 27:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 49:case 54:case 38:case 50:case 51:return!1;default:Z(e)}}function lN(e){switch(e){case 8:case 9:return!0;case 2:case 0:case 1:case 3:case 4:case 5:case 6:case 7:case 10:case 11:case 53:case 12:case 13:case 36:case 14:case 15:case 16:case 52:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 27:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 54:case 38:case 50:case 51:return!1;default:Z(e)}}function gf(e){switch(e){case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 47:case 48:case 54:case 51:return!0;case 2:case 0:case 1:case 3:case 11:case 53:case 12:case 13:case 36:case 14:case 15:case 16:case 52:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 27:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 49:case 38:case 50:return!1;default:Z(e)}}function uN(e){switch(e){case 7:case 8:case 51:return!0;case 2:case 0:case 1:case 3:case 9:case 10:case 4:case 5:case 6:case 47:case 48:case 54:case 11:case 53:case 12:case 13:case 36:case 14:case 15:case 16:case 52:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 27:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 49:case 38:case 50:return!1;default:Z(e)}}function yf(e){switch(e){case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 54:return!0;case 2:case 0:case 1:case 3:case 47:case 48:case 11:case 53:case 12:case 13:case 36:case 14:case 15:case 16:case 52:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 28:case 27:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 37:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 49:case 38:case 50:case 51:return!1;default:Z(e)}}function dN(e,o){return e.stores.historyStore.isLoadingDocument?o===51:zn(e,"canDesign")?gf(o):e.stores.chromeStore.isPreviewingFeaturedTemplate?yf(o):!0}function cN(e,o){return o==="VectorSet"?Gy(e):!(o==="WebPage"&&e===46)}function pN(e,o){if(zn(e,"canDesign")&&!gf(o))throw Error("Viewer mode: Tool "+o+" is a forbidden action.");if(e.stores.chromeStore.isPreviewingFeaturedTemplate&&!yf(o))throw Error("Previwing template mode: Tool "+o+" is a forbidden action.")}var mN=e=>e===24||e===25||e===26||e===28||e===27||e===29||e===23;function fN(e){return e===12||e===11||e===53||e===37||e===39}var jl=new Map;function yN(e,o){jl.set(e,o)}function CN(e){jl.delete(e)}function Cf(e){jl.get(e)?.()}var Hy="__page_input";function jy(e){return`${Hy}_${e}`}function Va(e){let o=jy(e);Cf(o)}function wa(e){let o={},t=Qt.get(e);if(!t)return o;for(let r of t.children)if(!Oe(r)){if(yt(r)){let n=em(r.tag);o[n]??=r.id;continue}if(Nt(r)){o.stylePresetLink??=r.id;continue}if(Mt(r)){o.stylePresetInlineCode??=r.id;continue}if(Ro(r)){o.stylePresetImage??=r.id;continue}if(Do(r)){o.stylePresetBlockquote??=r.id;continue}if(Cd(r)){o.stylePresetTable??=r.id;continue}if(gd(r)){let n=gc(r.componentIdentifier);o[n]??=r.id;continue}Z(r)}return o}function WN(e,o){let t=wa(e),r={},n=Qu(t);for(let a of n){let i=o[a];e.get(i)||(r[a]=t[a])}Object.keys(r).length>0&&o.set(r)}function MN({tree:e,tag:o,text:t="",textColor:r,attributes:n={}}){let a=document.createElement(o);a.innerText=t;let i=fa(e,o);if(i)oc(a,i.id),r&&js(a.style,Hs.transforms,{textColor:r});else{let l=Qc[o],u=l.fontSize,s;xd(u)?s=Pi(u):q(u)&&(s=[u,"px"]);let c={...l,fontSize:s,textColor:r??l.textColor};js(a.style,Hs.transforms,c)}return new lm({html:a.outerHTML,...wa(e),...n})}function Ba(e){return Te(e)||w(e)}function Sf(e,o,t,r){let n=`${r}/${t.segment}`;e.add(n);for(let a of t.children)Sf(e,o,a,n)}function Tf(e){let o=new Set,t=Pr(e);for(let r of t.children)Sf(o,e,r,"");return o}var vf=":missing-slug";function Yy(e,o,t){let r=rr(o,e);if(r)return r.getSlugVariable();let n=t.dataForIdentifier(e);if(!n)return;let a=n.annotations?.framerSlug;if(!a)return;let i=n.properties[a];if(i?.type==="string")return{id:a,name:i.title??"Slug".toLowerCase()}}function $l(e,o,t,r){if(!o)return"/unknown";let n=Yy(e,t,r),a=0,i=o.replace(Zu,(l,u)=>(a++,n?`:${n.id}`:vf));return a>0?i:(i.endsWith("/")||(i+="/"),n?i+`:${n.id}`:i+vf)}function qy(e){let o=e.split("/"),t=o[o.length-1];return t?zi(t):!1}var Yl=(e,o,t,r,n=!1)=>{e=ac(e);let a=Tf(o),i=o.root.homePageNodeId,l=!!r&&r.id===i;e==="/"&&!l&&(e="/page"),r?.dataIdentifier&&(e=$l(r.dataIdentifier,e,o,t));let u=e.endsWith("/")&&!l,s=e;u&&(s=e.slice(0,-1));let c=Xt(o,r);return a.has(e)&&(n||e!==c)&&(a.add(s),qy(s)&&(s+="/copy"),s=Gt(s,a,{withDash:!0})),{path:u?`${s}/`:s,suggestedName:Ho(e)}};function _n(e,o){if(ne(e))return e;let t=[];for(let r of e)t.push(o.get(r)??r);return t.length>0?t:void 0}function Jt(e,o){if(!ut(o))return null;let t=e.getNode(o.originalid);return N(t,"The original variant node should exist"),t}function Ky(e,o,t){let r=J.inheritedReplicaNode(e,o.replicaInfo.inheritsFrom),n=nr(o.replicaInfo.overrides,r?.replicaInfo.overrides);for(let a of t.walk()){let i=n[a.id];if(!i)continue;let{_deleted:l,itemsOrder:u,...s}=i;l?.forEach(c=>s[c]=void 0),e.current(a)?.set(s)}}function If(e,o){let t=e.getNode(o.originalid),r=J.getReplicaForTemplateNode(e,o);if(!t||!r||!Fe(r))return[];if(!r.replicaInfo.inheritsFrom)return[t];let n=e.getNode(r.replicaInfo.inheritsFrom);if(!n)return[t];let a=Rt(n.id,t.id),i=e.getNode(a);return i?[t,i]:[t]}function mx(e,o,t,r){let n=J.getReplicaForTemplateNode(e.tree,o);N(n,"replica should exist when moving node out of replica"),N(Fe(n),"replica must be a variant"),Ky(e.tree,n,t),o.isVisible()&&!t.isVisible()&&e.tree.current(t)?.set({visible:!0}),r.delete(o.id),r.add(t.id)}function ql(e,o,t,r,n){if(!t||!r)return o.id;N(xe(t),"Fail to update variant nodes: parent must be a replica");let a=J.getReplicaForTemplateNode(e.tree,t);if(N(a,"Fail to update variant nodes: replica should exist"),N(Fe(a),"Fail to update variant nodes: replica must be an variant"),ji(e.tree,t)){e.tree.current(o)?.set({visible:!1});let l={visible:!0};ir(o)&&n&&(l.itemsOrder=_n(o.itemsOrder,n)),fn(e.tree,a,o.id,l)}return Rt(a.id,o.id)}function Kl(e,o,t,r,n,a){let i=ql(e,o,t,r,a);return n.delete(o.id),n.add(i),i}function fx(e,o,t){let r=If(e.tree,o),n=If(e.tree,t),a=r.find((i,l)=>!i.isVisible()||i.cache.visible===!0?!1:n[l]?.cache.visible??!1);a&&(e.tree.get(a.id)?.set({visible:!1}),o.set({visible:!0},e.tree,!0))}function bf(e,o,t){Wo(e.tree,o).forEach(({replicaRoot:r})=>{if(Object.keys(r.replicaInfo.overrides).every(u=>!t.has(u)))return;let i={...r.replicaInfo},l={...i.overrides};i.overrides=l,t.forEach((u,s)=>{if(s in l){let c={...l[s]},f=c.itemsOrder;"itemsOrder"in c&&Array.isArray(f)&&(c.itemsOrder=_n(f,t)),l[u]=Ym(c)}}),e.tree.get(r.id)?.set({replicaInfo:i})})}function Pf(e,o){let t=o.get(e);return fd(t)?t:null}function Xl(e,o,t="transparent"){if(ne(e))return t;if(!qt(e))return e;let r=Vi(e);return(r?Pf(r,o):null)?.light??t}function Ql(e){if(Zc(e))return ml(e.getName());let o=e.resolveValue("name");return ea(e)&&o?ml(o):"Unknown"}function fr(e,o,t,r=!1){if(Js(o)){e.has(o)||Zs(e,o);return}let n=r?Zi(t):Oo(t);if(e.has(n))return;let a=new lr({id:n});e.insertNode(a,o)}function Nf(e,o,t){Js(o)&&!e.has(o)&&Zs(e,o);let r=ep(t)?t:Oo(t);if(e.has(r))return r;let n=new lr({id:r});return e.insertNode(n,o),r}function Xy(e,o){let t=e.tree.get(o);if(we(t))return;let r=e.tree.get(t.parentid);if(!we(r))return r.children?.findIndex(n=>n.id===o)}function Dx(e,o,t){let r=lr.get(e.tree,o);if(we(r))return;let n=Oo(t),a=new lr({id:n}),i=Xy(e,r.id),l=Fo(i)?i+1:void 0;e.tree.insertNode(a,r.parentid,l)}function Rx(e,o){let t=e.get(o);we(t)||(e.removeNode(t),Qy(e,o))}function Qy(e,o,t){let{isCodeFile:r=!1}=t??{},n=r?Zi(o):Oo(o);e.remove(n)}function xf(e,o){return e===sr?Zi(o):Oo(o)}function Jy(e){return o=>kt(o)&&o.name===e}function Ff(e,o){return e.children.find(Jy(o))??null}function _x(e,o){return e.children.find(t=>kt(t)&&t.getName()===o)??null}function Ef(e){return yn(e)||kt(e)}function Ux(e,o,t){let r=t;for(let[n,a]of o.entries()){let i=n===o.length-1,l=e.getNode(r);if(!l||!Ef(l))return!1;let u=!1;for(let s of l.children){if(Td(s)&&a===s.getName())return!0;if(kt(s)&&a===s.getName()){if(i)return!0;u=!0,r=s.id;break}}if(!u)return!1}return!1}function Wa(e,o,t){let r=Ye(o)?o:eC(o);if(r.length===0)return t;let n=e.get(t);N(n&&Ef(n),"A reference must be in a folder.");for(let a of r){let i=Ff(n,a);if(i){n=i;continue}n=e.insertNode(new wp({name:a}),n.id)}return n.id}function Hx(e,o){let t=e.tree.get(o);if(!kt(t))return"";let r=[t.name];for(let n of t.ancestors()){if(!kt(n))break;r.unshift(n.name)}return`/${r.join("/")}`}function Af(e,o,t){let r=xf(t,o.id),n=e.get(r),a=[Ql(o)];if(n)for(let i of n.ancestors()){if(!kt(i))break;a.unshift(Ql(i))}return a}function jx(e,o,t){let r=e.get(o);return N(r,"Node must exist"),Af(e,r,t)}function $x(e,o,t,r={leadingSlash:!0}){let n=e.get(o);return N(n,"Node must exist"),Zy(e,n,t,r)}function Zy(e,o,t,r={leadingSlash:!0}){let a=Af(e,o,t).join("/");return r.leadingSlash?`/${a}`:a}function eC(e){return pl(e).slice(0,-1)}function Yx(e,o,t,r){let n=pl(t);if(n.length===0)return;let a=n.pop(),i=Wa(e,t,r),l=r===sr;return fr(e,i,o.id,l),o.set({name:a}),i}function kf(e,o){if(!on(o))return!1;let t=Ks(o.codeComponentIdentifier);if(!t)return!1;let r=e.getNode(t);return!!(r&&w(r))}function Zx(e,o){let t=Ks(o.codeComponentIdentifier);N(t,"WebPageInstance should have a local canvas component id");let r=e.getNode(t);return N(r,"SmartComponentInstance should have a local WebPageNode"),N(w(r),"WebPageInstance its WebPageNode should be a web page"),r}var Un=(e,o)=>e.length===0?[]:typeof e[0]=="string"?o.withoutDescendants(o.getNodes(e)):e;function Ma(e,o){let t=o.getPropertyControlsForIdentifier(e.codeComponentIdentifier);return t?kp(t,e.getControlProps(t)):{}}var tC={type:"None",source:"undefined"},Df=class extends Uo{constructor(){super(...arguments);B(this,"_stack",[]);B(this,"dismiss",()=>{this._stack=No.pop(this._stack)});B(this,"isVisible",()=>this.active.type!=="None");B(this,"shouldBlockUndoRedo",(t,r)=>{switch(this.active.type){case"None":return!1;case"Variables":return!tf(t,r);case"LocaleSettings":return!of(t,r);default:return!0}})}get stack(){return this._stack}get active(){return this._stack[this._stack.length-1]??tC}trackModalOpen({type:t,source:r}){ze("modal_open",{modalType:t,source:r})}push(t){this._stack=No.push(this._stack,t),this.trackModalOpen(t)}set(t){this._stack=[t],this.trackModalOpen(t)}dismissAll(){this._stack.length!==0&&(this._stack=[])}dismissModal(t){this._stack=No.filter(this._stack,r=>r.type!==t)}displayComponentIsolationModal({source:t}){let r="componentIsolationModal",n="1";jt.isAutomation||jt.isE2E||jt.isTest||localStorage.getItem(r)!==n&&(localStorage.setItem(r,n),setTimeout(()=>{this.scheduler.processWhenReady(()=>{this.set({type:"ComponentIsolationModal",source:t})})},0))}};function Rf(e){if(L(e))return[e];if("id"in e)return[e.id];let o=[];for(let t of e)L(t)?o.push(t):o.push(t.id);return o}function Hn(e,o){if(e===o)return!0;if(e.length!==o.length)return!1;let t=new Set(e);for(let r of o)if(!t.has(r))return!1;return!0}var Lf=class extends Uo{constructor(t,r,n){super();this.guides=t;this.chromeStore=r;this.overlayStore=n;B(this,"_previousIds",[]);B(this,"_ids",[]);B(this,"_nodes",[]);B(this,"_isSticky",!1);B(this,"_commonGroundNode");B(this,"gradientStopId")}get ids(){return this._ids}get nodes(){return this._nodes}get isSticky(){return this._isSticky}get commonGroundNode(){return this._commonGroundNode}get commonGroundNodeId(){return this._commonGroundNode?.id??null}get previousIds(){return this._previousIds}set(t,r={}){let n=Rf(t);if(Hn(this._ids,n))return;this._previousIds=this._ids,this._ids=n,this._isSticky=r.sticky??n.length>1,n.length>0&&this.guides.clearSelected();let{switchToLayers:i=!1,switchToProperties:l=!1,tree:u}=r;this.chromeStore.onCanvasSelectionChange(n,i,l),this.overlayStore.onCanvasSelectionChange(n,{tree:u})}toggle(t,{switchToLayers:r=!1,switchToProperties:n=!1}={}){let a=Rf(t),i=new Set(this.ids);for(let l of a)i.has(l)?i.delete(l):i.add(l);this._ids=Array.from(i),this.chromeStore.onCanvasSelectionChange(this.ids,r,n),this.overlayStore.onCanvasSelectionChange(i,{toggle:!0})}clear(){this.set([])}updateNodes(t){let r=t.getNodes(this.ids),n=!Yr(this.nodes,r);n&&(this._nodes=r),(n||this.commonGroundNode&&!t.isGroundNode(this.commonGroundNode))&&this.updateCommonGroundNode(t)}updateCommonGroundNode(t){let r;for(let n of this.nodes){let a=t.getGroundNodeFor(n);if(!r)r=a;else if(r!==a){r=void 0;break}}this._commonGroundNode=r}postProcess(t,r,n,a=this.gradientStopId,i=this._ids){this.gradientStopId=a;let l=[];for(let u of i){let s=t.getNode(u);if(s){t.isAncestorOfNode(s,r.id)&&l.push(u);continue}let c=n.getNode(u);if(!Wt(c))continue;let f=t.getNode(c.parentid);if(Ue(f)){l.splice(0,l.length,f.id);break}}this.set(l,{tree:t}),this.updateNodes(t)}};function oC(e,o){let t=e.componentForIdentifier(o.codeComponentIdentifier);if(!t?.properties)return null;let r=Object.entries(t.properties).find(([,l])=>l&&l.title==="Variant"&&l.type==="enum");if(!r)return null;let[n,a]=r;if(a.options.length<=1)return null;let i=a.defaultValue??a.options[0];return L(i)?{key:n,control:a,defaultVariant:i}:null}function rC(e,{control:o}){let t=e.toLowerCase().trim(),n=(o.optionTitles??o.options).findIndex(i=>L(i)&&i.toLowerCase()===t);if(n===-1)return null;let a=o.options[n];return L(a)?a:null}function Vf(e,o,t,r){let n={};for(let a of r.walk()){if(!Q(a))continue;let i=oC(e,a);if(!i)continue;let l=rC(t,i);if(!l)continue;let u=a;if(Ge(a)&&(u=o.tree.getNode(a.originalid)),!u||(u.getRawControlProp(i.key)??i.defaultVariant)===l)continue;let c={type:"enum",value:l};n[u.id]={[Ee(i.key)]:c}}return Object.keys(n).length>0?n:null}var wf=["blur","backgroundBlur","brightness","contrast","grayscale","hueRotate","invert","saturate","sepia"];var Oa={left:"position",right:"position",top:"position",bottom:"position",centerAnchorX:"position",centerAnchorY:"position",constraintsLocked:"position",x:"position",y:"position",width:"size",widthType:"size",height:"size",heightType:"size",aspectRatio:"size",itemsOrder:"itemsOrder",layout:"layout",gap:"layout",gridAlignment:"layout",gridColumnCount:"layout",gridColumnWidthType:"layout",gridColumnWidth:"layout",gridColumnMinWidth:"layout",gridRowHeightType:"layout",gridRowHeight:"layout",gridRowCount:"layout",stackDirection:"layout",stackDistribution:"layout",stackAlignment:"layout",stackWrapEnabled:"layout",gridType:"layout",gridItemFillCellWidth:"size",gridItemFillCellHeight:"size",gridItemHorizontalAlignment:"position",gridItemVerticalAlignment:"position",gridItemColumnSpan:"size",gridItemRowSpan:"size",minHeight:"sizeConstraints",minWidth:"sizeConstraints",maxHeight:"sizeConstraints",maxWidth:"sizeConstraints",paragraphSpacing:"paragraphSpacing",position:"positionType",positionStickyTop:"positionType",positionStickyRight:"positionType",positionStickyBottom:"positionType",positionStickyLeft:"positionType",intrinsicWidth:"intrinsicSize",intrinsicHeight:"intrinsicSize",fillColor:"fill",fillEnabled:"fill",fillImage:"fill",fillImageOriginalName:"fill",fillImagePixelHeight:"fill",fillImagePixelWidth:"fill",fillImageResize:"fill",fillImagePositionX:"fill",fillImagePositionY:"fill",fillImageTileSize:"fill",fillImageAlts:"fillImageAlts",fillType:"fill",fillRadialGradient:"fill",fillLinearGradient:"fill",fillConicGradient:"fill",tapHighlightColor:"tapHighlight",textSelection:"textSelection",masks:"mask",radius:"radius",radiusBottomLeft:"radius",radiusBottomRight:"radius",radiusIsRelative:"radius",radiusPerCorner:"radius",radiusTopLeft:"radius",radiusTopRight:"radius",cornerShape:"cornerShape",borderTop:"border",borderBottom:"border",borderLeft:"border",borderRight:"border",borderEnabled:"border",borderWidth:"border",borderStyle:"border",borderColor:"border",borderPerSide:"border",rotation:"rotation",rotate3d:"rotation",rotateX:"rotation",rotateY:"rotation",blendingMode:"blending",opacity:"opacity",backgroundBlur:"backgroundBlur",overflow:"overflow",overflowY:"overflowY",overflowX:"overflowX",overscrollBehavior:"overscroll",visible:"visibility",brightness:"brightness",contrast:"contrast",grayscale:"grayscale",hueRotate:"hueRotate",invert:"invert",saturate:"saturate",sepia:"sepia",blur:"blur",boxShadows:"shadows",shadows:"shadows",guidesX:"canvasSettings",guidesY:"canvasSettings",exportOptions:"canvasSettings",overlayGrid:"canvasSettings",gesture:"canvasSettings",sizeToFit:"canvasSettings",framePreset:"canvasSettings",isVariant:"canvasSettings",onTap:"action",onTapStart:"action",onClick:"action",onMouseUp:"action",onMouseDown:"action",onMouseEnter:"action",onMouseLeave:"action",onAppear:"action",onKeyDown:"action",padding:"padding",paddingPerSide:"padding",paddingTop:"padding",paddingRight:"padding",paddingBottom:"padding",paddingLeft:"padding",name:"name",strokeEnabled:"stroke",strokeAlignment:"stroke",strokeWidth:"stroke",strokeColor:"stroke",lineJoin:"stroke",lineCap:"stroke",strokeMiterLimit:"stroke",strokeDashArray:"stroke",strokeDashOffset:"stroke",html:"richText",htmlLocalized:"richText",htmlContent:"richText",textFitScale:"richText",textFitViewBoxSize:"richText",textFitViewBoxSizeLocalized:"richText",stylePresetHeading1:"stylePresets",stylePresetHeading2:"stylePresets",stylePresetHeading3:"stylePresets",stylePresetHeading4:"stylePresets",stylePresetHeading5:"stylePresets",stylePresetHeading6:"stylePresets",stylePresetParagraph:"stylePresets",stylePresetLink:"stylePresets",stylePresetAnchorLink:"stylePresets",stylePresetBlockquote:"stylePresets",stylePresetTable:"stylePresets",stylePresetInlineCode:"stylePresets",stylePresetImage:"stylePresets",anchorLinkOffsetY:"anchorLinkOffsetY",styledText:"styledText",getStyledText:"styledText",font:"font",rootFontSize:"rootFontSize",textColor:"textColor",textBackgroundColor:"textBackgroundColor",textBackgroundRadius:"textBackgroundRadius",textBackgroundCornerShape:"textBackgroundCornerShape",textBackgroundPadding:"textBackgroundPadding",fontSize:"fontSize",letterSpacing:"letterSpacing",textTransform:"textTransform",textDecoration:"textDecoration",textDecorationColor:"textDecoration",textDecorationThickness:"textDecoration",textDecorationStyle:"textDecoration",textDecorationSkipInk:"textDecoration",textDecorationOffset:"textDecoration",lineHeight:"lineHeight",textAlignment:"textAlignment",textStrokeWidth:"textStroke",textStrokeColor:"textStroke",textWrapBalance:"textWrapBalance",openTypeFontFeatures:"openTypeFontFeatures",link:"link",linkOpenInNewTab:"link",linkSmoothScroll:"link",linkClickTrackingId:"link",linkLocalized:"link",linkRelValues:"link",linkPreserveParams:"link",getLink:"link",linkFont:"linkStyle",linkTextColor:"linkStyle",linkFontSize:"linkStyle",linkTextTransform:"linkStyle",linkTextDecoration:"linkStyle",linkTextDecorationColor:"linkStyle",linkTextDecorationThickness:"linkStyle",linkTextDecorationStyle:"linkStyle",linkTextDecorationSkipInk:"linkStyle",linkTextDecorationOffset:"linkStyle",linkTextBackgroundColor:"linkStyle",linkTextBackgroundRadius:"linkStyle",linkTextBackgroundCornerShape:"linkStyle",linkTextBackgroundPadding:"linkStyle",linkHoverFont:"linkStyle",linkHoverTextColor:"linkStyle",linkHoverFontSize:"linkStyle",linkHoverTextTransform:"linkStyle",linkHoverTextDecoration:"linkStyle",linkHoverTextDecorationColor:"linkStyle",linkHoverTextDecorationThickness:"linkStyle",linkHoverTextDecorationStyle:"linkStyle",linkHoverTextDecorationSkipInk:"linkStyle",linkHoverTextDecorationOffset:"linkStyle",linkHoverTextBackgroundColor:"linkStyle",linkHoverTextBackgroundRadius:"linkStyle",linkHoverTextBackgroundCornerShape:"linkStyle",linkHoverTextBackgroundPadding:"linkStyle",linkCurrentFont:"linkStyle",linkCurrentTextColor:"linkStyle",linkCurrentFontSize:"linkStyle",linkCurrentTextTransform:"linkStyle",linkCurrentTextDecoration:"linkStyle",linkCurrentTextDecorationColor:"linkStyle",linkCurrentTextDecorationThickness:"linkStyle",linkCurrentTextDecorationStyle:"linkStyle",linkCurrentTextDecorationSkipInk:"linkStyle",linkCurrentTextDecorationOffset:"linkStyle",linkCurrentTextBackgroundColor:"linkStyle",linkCurrentTextBackgroundRadius:"linkStyle",linkCurrentTextBackgroundCornerShape:"linkStyle",linkCurrentTextBackgroundPadding:"linkStyle",textContent:"textContent",textVerticalAlignment:"textVerticalAlignment",variantTransition:"transition",pathSegments:"vectorPath",pathClosed:"vectorPath",spikeCount:"vectorPath",spikeDepth:"vectorPath",polygonSides:"vectorPath",elementId:"scrollTarget",scrollMarginTop:"scrollTarget",scrollTargetEnabled:"scrollTarget",altAttribute:"accessibility",altAttributeLocalized:"accessibility",cursor:"cursor",customCursorSmartComponentId:"customCursor",customCursorFollow:"customCursor",customCursorOffsetX:"customCursor",customCursorOffsetY:"customCursor",customCursorVariant:"customCursor",customCursorType:"customCursor",customCursorTransitionEnabled:"customCursor",customCursorTransition:"customCursor",customCursorPlacement:"customCursor",customCursorAlignment:"customCursor",pointerEvents:"pointerEvents",userSelect:"userSelect",zIndex:"zIndex",draggable:"draggable",imageRendering:"imageRendering",viewportHeight:"canvasSettings",isBreakpoint:"canvasSettings",backdropFill:"overlay",backdropFillEnabled:"overlay",backdropDismissible:"overlay",blockDocumentScrolling:"overlay",backdropExitTransition:"overlayTransition",backdropEnterTransition:"overlayTransition",backdropTransitionLocked:"overlayTransition",hideScrollbars:"scrollbars",customizations:"customizations",customizationsDescription:"customizations",customizationsSectionId:"customizations",customizationsCategory:"customizations",customizationsRules:"customizations",isApplyingCustomizations:"customizations",translateZ:"translateZ",scale:"scale",skewX:"skew",skewY:"skew",backfaceVisibility:"backfaceVisibility",perspective:"perspective",transformStylePreserve3d:"transformStylePreserve3d",transformOriginX:"transformOrigin",transformOriginY:"transformOrigin",transition:"transition",formInputFontSize:"formInputFont",formInputFontFamily:"formInputFont",formInputFontSelector:"formInputFont",formInputFontWeight:"formInputFont",formInputFontStyle:"formInputFont",formInputPlaceholderColor:"formPlaceholderColor",formInputFontColor:"formInputColor",formInputFontLetterSpacing:"formInputFont",formInputFontLetterSpacingUnit:"formInputFont",formInputFontLineHeight:"formInputFont",formInputFontLineHeightUnit:"formInputFont",formInputFontTextAlignment:"formInputFont",formInputOpenTypeFontFeatures:"formInputFont",formInputVariationAxes:"formInputFont",formTextInputType:"formTextInputType",formTextAreaResizable:"formInputTextAreaResize",formTextInputMinNumber:"formTextInputTypeMin",formTextInputMaxNumber:"formTextInputTypeMax",formInputMaxLength:"formInputMaxLength",formInputStep:"formInputStep",formBooleanInputType:"formBooleanInputType",formBooleanInputValue:"formBooleanInputValue",formBooleanInputCheckedBorderColor:"formBooleanInputCheckedEffect",formBooleanInputCheckedBorderWidth:"formBooleanInputCheckedEffect",formBooleanInputCheckedBorderStyle:"formBooleanInputCheckedEffect",formBooleanInputCheckedBoxShadow:"formBooleanInputCheckedEffect",formBooleanInputCheckedFillColor:"formBooleanInputCheckedEffect",formBooleanInputCheckedTransition:"formBooleanInputCheckedEffect",formInputFocusedBackgroundColor:"formInputFocusedFill",formInputFocusedBorderColor:"formInputFocusedBorder",formInputFocusedBorderStyle:"formInputFocusedBorder",formInputFocusedBorderWidth:"formInputFocusedBorder",formInputFocusedBoxShadow:"formInputFocusedBoxShadow",formInputFocusedTransition:"formInputFocusedTransition",formInputInvalidTextColor:"formInputInvalidTextColor",formInputIconImage:"formInputIcon",formInputIconColor:"formInputIcon",viewTransitionNone:"viewTransitionNone"};function FF(e){let o=[],t;for(t in Oa){let r=Oa[t];e.includes(r)&&o.push(t)}return o}function Jl(e,o,t){let r=t.getControlPropSourceIdentifier();if(!r)return{};let n=e.getPropertyControlsForIdentifier(r);if(!n)return{};let a={};return Object.entries(n).forEach(([i,l])=>{if(!l||Dt(t)&&l.type==="slot")return;let u=Ee(i),s=o[u];Ei(s)&&s.type&&Zd(l.type,s.type)&&(l.type==="enum"&&!Md(l,s.value)||(a[u]=s))}),a}function V(e,o){return o?new Set(Ye(o)?o:[o]).has(e):!0}function Ga(e,o,t,r,n,a,i){let l=e.getScopeNodeFor(r);function u(c){return!Se(c)||l&&zt(l)&&l.hasVariable(c.id)?c:a?.[c.id]??c}let s={};if(bc(e,r)||ho(t)&&(t.widthType===4&&(s.widthType=1),t.heightType===4&&(s.heightType=1)),V("visibility",i)&&kr(t)&&kr(r)&&(s.visible=u(t.visible)),V("border",i)&&Co(t)&&Co(r)&&(s.borderEnabled=t.borderEnabled,s.borderWidth=t.borderWidth,s.borderColor=t.borderColor,s.borderStyle=t.borderStyle,s.borderPerSide=t.borderPerSide,s.borderLeft=t.borderLeft,s.borderTop=t.borderTop,s.borderRight=t.borderRight,s.borderBottom=t.borderBottom),V("border",i)&&Co(t)&&Lt(r))if(ue(t.borderEnabled)){let c=t.resolveValue("borderEnabled");er(c)?(s.strokeEnabled=!0,s.strokeWidth=c.borderWidth,s.strokeColor=c.borderColor):s.strokeEnabled=!1}else s.strokeEnabled=t.borderEnabled,s.strokeWidth=t.borderWidth,s.strokeColor=t.borderColor;if(V("stroke",i)&&Lt(t)&&Lt(r)&&(s.strokeEnabled=t.strokeEnabled,s.strokeColor=t.strokeColor,s.strokeWidth=t.strokeWidth,s.strokeAlignment=t.strokeAlignment,s.lineJoin=t.lineJoin,s.lineCap=t.lineCap,s.strokeMiterLimit=t.strokeMiterLimit,s.strokeDashArray=t.strokeDashArray,s.strokeDashOffset=t.strokeDashOffset),V("stroke",i)&&Lt(t)&&Co(r)&&(s.borderEnabled=t.strokeEnabled,s.borderWidth=t.resolveValue("strokeWidth"),s.borderColor=t.resolveValue("strokeColor")),V("formInputTextAreaResize",i)&&zd(t)&&(s.formTextAreaResizable=t.formTextAreaResizable),V("formInputFocusedFill",i)&&mo(t)&&mo(r)&&(s.formInputFocusedBackgroundColor=t.formInputFocusedBackgroundColor),V("formInputFocusedBorder",i)&&mo(t)&&mo(r)&&(s.formInputFocusedBorderColor=t.formInputFocusedBorderColor,s.formInputFocusedBorderWidth=t.formInputFocusedBorderWidth,s.formInputFocusedBorderStyle=t.formInputFocusedBorderStyle),V("formInputFocusedBoxShadow",i)&&mo(t)&&mo(r)&&(s.formInputFocusedBoxShadow=t.formInputFocusedBoxShadow?[...t.formInputFocusedBoxShadow]:void 0),V("formInputFocusedTransition",i)&&mo(t)&&mo(r)&&(s.formInputFocusedTransition=t.formInputFocusedTransition),V("formInputColor",i)&&pr(t)&&pr(r)&&(s.formInputFontColor=t.formInputFontColor),V("formPlaceholderColor",i)&&vl(t)&&vl(r)&&(s.formInputPlaceholderColor=t.formInputPlaceholderColor),V("formInputPadding",i)&&uo(t)&&uo(r)&&(s.padding=t.padding,s.paddingPerSide=t.paddingPerSide,s.paddingTop=t.paddingTop,s.paddingRight=t.paddingRight,s.paddingBottom=t.paddingBottom,s.paddingLeft=t.paddingLeft),V("shadows",i)&&tr(t)&&tr(r)){let c=u(t.boxShadows);Gd(r)?s.boxShadows=c:ue(c)||(s.boxShadows=c?.filter(f=>f.type!=="realistic"))}if(V("shadows",i)&&Bs(t)&&Bs(r)&&(s.shadows=t.shadows),V("rotation",i)&&Go(t)&&Go(r)&&(s.rotation=t.rotation,ot(r)&&ot(t)&&(s.rotate3d=t.rotate3d,s.rotateX=t.rotateX,s.rotateY=t.rotateY)),V("overflow",i)&&po(t)&&po(r)&&(s.overflow=u(t.overflow)),V("overscroll",i)&&Rs(t)&&Rs(r)&&(s.overscrollBehavior=u(t.overscrollBehavior)),V("cursor",i)&&cn(t)&&cn(r)&&(s.cursor=u(t.cursor)),V("customCursor",i)&&cn(t)&&cn(r)&&(s.customCursorType=t.customCursorType,s.customCursorSmartComponentId=t.customCursorSmartComponentId,s.customCursorVariant=t.customCursorVariant,s.customCursorFollow=t.customCursorFollow,s.customCursorOffsetX=t.customCursorOffsetX,s.customCursorOffsetY=t.customCursorOffsetY,s.customCursorTransitionEnabled=t.customCursorTransitionEnabled,s.customCursorTransition=t.customCursorTransition,s.customCursorPlacement=t.customCursorPlacement,s.customCursorAlignment=t.customCursorAlignment),Cn(t)&&Cn(r))for(let c of wf){let f=Oa[c];V(f,i)&&(s[c]=u(t[c]))}if(V("blending",i)&&ks(t)&&ks(r)&&(s.blendingMode=u(t.blendingMode)),V("transition",i)&&ul(t)&&ul(r)){let c=Fe(t)?t.variantTransition:t.transition;Fe(r)?s.variantTransition=c:s.transition=c}if(V("fill",i)&&Ot(t)&&Ot(r)){s.fillColor=u(t.fillColor),s.fillType=t.fillType,s.fillLinearGradient=t.fillLinearGradient,s.fillRadialGradient=t.fillRadialGradient,s.fillConicGradient=t.fillConicGradient,s.fillType==="conic-gradient"&&!Vc(r)&&(s.fillType=r.fillType??"color");let c=u(t.fillImage);ue(c)?ue(c)&&r.supportsDynamicValues()&&(s.fillImage=c):s.fillImage=c,V("fillImageAlts",i)&&Bc(e,r)&&$i(t)&&(s.fillImageAlts=t.fillImageAlts?[...t.fillImageAlts]:void 0),s.fillImageResize=t.fillImageResize,s.fillImagePixelWidth=t.fillImagePixelWidth,s.fillImagePixelHeight=t.fillImagePixelHeight,s.fillImagePositionX=t.fillImagePositionX,s.fillImagePositionY=t.fillImagePositionY,s.fillImageTileSize=t.fillImageTileSize}if(V("fill",i)&&Mo(t)&&Mo(r)&&(s.fillEnabled=t.fillEnabled),(V("size",i)||V("fill",i))&&ho(t)&&ho(r)){let c=s.fillType??(Ot(r)?r.fillType:void 0),f=s.heightType??r.heightType;(s.widthType??r.widthType)===5&&c!=="image"&&(s.width=r.rect().width,s.widthType=0),f===5&&c!=="image"&&(s.height=r.rect().height,s.heightType=0)}if(V("opacity",i)&&sl(t)&&sl(r)&&(s.opacity=u(t.opacity)),V("radius",i)&&Vo(t)&&Vo(r)&&(s.radius=u(t.radius),Fs(t)&&Fs(r)&&(s.radiusIsRelative=t.radiusIsRelative),Zo(t)&&Zo(r)&&(s.radiusPerCorner=t.radiusPerCorner,s.radiusBottomLeft=t.radiusBottomLeft,s.radiusBottomRight=t.radiusBottomRight,s.radiusTopLeft=t.radiusTopLeft,s.radiusTopRight=t.radiusTopRight)),V("cornerShape",i)&&xs(t)&&xs(r)&&(s.cornerShape=u(t.cornerShape)),V("pointerEvents",i)&&Ls(t)&&Ls(r)&&!Pt(l)&&(s.pointerEvents=u(t.pointerEvents)),V("draggable",i)&&al(t)&&al(r)&&(s.draggable=u(t.draggable)),V("userSelect",i)&&Vs(t)&&Vs(r)&&(s.userSelect=u(t.userSelect)),V("imageRendering",i)&&Ds(t)&&Ds(r)&&(s.imageRendering=u(t.imageRendering)),V("overflowX",i)&&po(t)&&po(r)&&(s.overflowX=u(t.overflowX)),V("overflowY",i)&&po(t)&&po(r)&&(s.overflowY=u(t.overflowY)),V("zIndex",i)&&zs(t)&&zs(r)&&(s.zIndex=u(t.zIndex)),V("scrollbars",i)&&gl(t)&&gl(r)&&(s.hideScrollbars=u(t.hideScrollbars)),V("textVerticalAlignment",i)&&yl(t)&&yl(r)&&(s.textVerticalAlignment=t.textVerticalAlignment),V("textWrapBalance",i)&&rl(t)&&rl(r)&&(s.textWrapBalance=t.textWrapBalance),V("styledText",i)&&dt(t)&&hc(r)){s.font=t.getFonts(!1)[0],s.textColor=t.getTextColors(!1)[0];let c=t.getFontSizes(!1)[0];s.fontSize=en(c)?c[0]:c;let f=t.getLetterSpacings(!1)[0];s.letterSpacing=ne(f)?f:Fd(f),s.textTransform=t.getTextTransforms(!1)[0],s.textDecoration=t.getTextDecorations(!1)[0],s.lineHeight=t.getLineHeights(!1)[0],s.textAlignment=t.getTextAlignments(!1)[0],s.styledText=r.styledText.setFont(void 0,!1).setTextColor(void 0,!1).setFontSize(void 0,!1).setLetterSpacing(void 0,!1).setTextTransform(void 0,!1).setTextDecoration(void 0,!1).setLineHeight(void 0).setTextAlignment(void 0)}if(V("link",i)&&dt(t)&&dt(r)&&(s.linkFont=t.linkFont,s.linkTextColor=t.linkTextColor,s.linkFontSize=t.linkFontSize,s.linkTextTransform=t.linkTextTransform,s.linkTextDecoration=t.linkTextDecoration,s.linkHoverFont=t.linkHoverFont,s.linkHoverTextColor=t.linkHoverTextColor,s.linkHoverFontSize=t.linkHoverFontSize,s.linkHoverTextTransform=t.linkHoverTextTransform,s.linkHoverTextDecoration=t.linkHoverTextDecoration,s.linkCurrentFont=t.linkCurrentFont,s.linkCurrentTextColor=t.linkCurrentTextColor,s.linkCurrentFontSize=t.linkCurrentFontSize,s.linkCurrentTextTransform=t.linkCurrentTextTransform,s.linkCurrentTextDecoration=t.linkCurrentTextDecoration),V("mask",i)&&ol(t)&&ol(r)&&(s.masks=t.masks),_e(t)&&_e(r)){if(V("fontSize",i)&&(s.textFitScale=t.textFitScale,s.textFitViewBoxSize=t.textFitViewBoxSize),V("paragraphSpacing",i)&&(s.paragraphSpacing=t.paragraphSpacing),V("styledText",i)){let c=t.getTextStrokeWidths(!1)[0],f=t.getTextStrokeColors(!1)[0];ne(c)||(s.textStrokeWidth=c),f&&(s.textStrokeColor=f)}if(V("richText",i))for(let c of Lr){let f=t[c];e.has(f)&&(s[c]=f)}}if(V("controlProps",i)&&on(t)&&on(r)){let c=Jl(o,t,r);Object.assign(s,c)}if(V("controlProps",i)&&Cl(t)&&Cl(r)){let c=Jl(o,t,r);Object.assign(s,c)}if(V("codeOverride",i)&&Nr(t)&&Nr(r)&&(s.codeOverrideEnabled=t.codeOverrideEnabled,s.codeOverrideIdentifier=t.codeOverrideIdentifier),V("formInputFont",i)&&pr(t)&&pr(r)&&(s.formInputFontFamily=t.formInputFontFamily,s.formInputFontWeight=t.formInputFontWeight,s.formInputFontStyle=t.formInputFontStyle,s.formInputFontSize=t.formInputFontSize,s.formInputFontSelector=t.formInputFontSelector,s.formInputFontLetterSpacing=t.formInputFontLetterSpacing,s.formInputFontLetterSpacingUnit=t.formInputFontLetterSpacingUnit,s.formInputFontLineHeight=t.formInputFontLineHeight,s.formInputFontLineHeightUnit=t.formInputFontLineHeightUnit,s.formInputFontTextAlignment=t.formInputFontTextAlignment,s.formInputOpenTypeFontFeatures=t.formInputOpenTypeFontFeatures,s.formInputVariationAxes=t.formInputVariationAxes),V("layout",i)&&ie(r)){let c=wt(t),f=ud(t);(c||f)&&(ut(r)||(s.layout=t.layout),s.gap=t.gap,s.padding=t.padding,s.paddingPerSide=t.paddingPerSide,s.paddingTop=t.paddingTop,s.paddingRight=t.paddingRight,s.paddingBottom=t.paddingBottom,s.paddingLeft=t.paddingLeft,c&&(s.stackDirection=t.stackDirection,s.stackDistribution=t.stackDistribution,s.stackAlignment=t.stackAlignment),f&&(s.gridAlignment=t.gridAlignment,s.gridColumnCount=t.gridColumnCount,s.gridColumnWidthType=t.gridColumnWidthType,s.gridColumnWidth=t.gridColumnWidth,s.gridColumnMinWidth=t.gridColumnMinWidth,s.gridRowHeightType=t.gridRowHeightType,s.gridRowHeight=t.gridRowHeight,s.gridRowCount=t.gridRowCount,s.gridType=t.gridType))}if(V("position",i)&&Object.assign(s,Dr(t,n)),V("perspective",i)&&ot(t)&&ot(r)&&(s.perspective=u(t.perspective)),V("overlay",i)&&go(t)&&go(r)&&n){let c=Bo(t);Object.assign(s,c)}if(V("effects",i)&&Pn(t)&&Pn(r)&&Object.assign(s,Np(r,t)),V("transformOrigin",i)&&ot(t)&&ot(r)&&Object.assign(s,{transformOriginX:t.transformOriginX,transformOriginY:t.transformOriginY}),V("backfaceVisibility",i)&&ot(t)&&ot(r)&&Object.assign(s,{backfaceVisibility:t.backfaceVisibility}),V("transformStylePreserve3d",i)&&ot(t)&&ot(r)&&Object.assign(s,{transformStylePreserve3d:t.transformStylePreserve3d}),V("translateZ",i)&&ot(t)&&ot(r)&&Object.assign(s,{translateZ:t.translateZ}),V("scale",i)&&ot(t)&&ot(r)&&Object.assign(s,{scale:t.scale}),V("skew",i)&&ot(t)&&ot(r)&&Object.assign(s,{skewX:t.skewX,skewY:t.skewY}),V("formBooleanInputType",i)&&cr(t)&&cr(r)&&Object.assign(s,{formBooleanInputType:t.formBooleanInputType}),V("formBooleanInputValue",i)&&cr(t)&&cr(r)&&Object.assign(s,{formBooleanInputValue:t.formBooleanInputValue}),V("formBooleanInputCheckedEffect",i)&&cr(t)&&cr(r)){let c={formBooleanInputCheckedBorderColor:t.formBooleanInputCheckedBorderColor,formBooleanInputCheckedBorderWidth:t.formBooleanInputCheckedBorderWidth,formBooleanInputCheckedBorderStyle:t.formBooleanInputCheckedBorderStyle,formBooleanInputCheckedFillColor:t.formBooleanInputCheckedFillColor,formBooleanInputCheckedBoxShadow:t.formBooleanInputCheckedBoxShadow,formBooleanInputCheckedTransition:t.formBooleanInputCheckedTransition};Object.assign(s,c)}return V("formInputIcon",i)&&Tl(t)&&Tl(r)&&Object.assign(s,{formInputIconImage:t.formInputIconImage,formInputIconColor:t.formInputIconColor}),V("viewTransitionNone",i)&&dl(t)&&dl(r)&&(s.viewTransitionNone=t.viewTransitionNone),s}var Bf=e=>{let o=[];return e.forEach((t,r)=>{for(let n=r+1;n<e.length;n++){let a=e[n];o.push([t,a])}}),o};function Wf(e,o,t){let r=o.map(f=>e.convertFrameToCanvas(f));if(r.length===2){let[f,g]=r,y=aC(f,g),S=sC(f,g);if(y&&!S)return"vertical";if(S&&!y)return"horizontal"}let n=r.map(f=>W.center(f));if(n.length<=1){if(r.length===1){let[f]=r,g=t.width/Math.max(1,f.width),y=t.height/Math.max(1,f.height);return g<y?"vertical":"horizontal"}return t.width<t.height?"vertical":"horizontal"}let a=Bf(n),i=[],l=[];a.forEach(([f,g])=>{i.push(Math.abs(f.x-g.x)),l.push(Math.abs(f.y-g.y))});let u=i.reduce((f,g)=>f+g,0),s=l.reduce((f,g)=>f+g,0);return u>s?"horizontal":"vertical"}function Mf(e,o,t){return[...o].sort((r,n)=>{let a=e.tree.getRect(r),i=e.tree.getRect(n);return t==="horizontal"?a.x-i.x:a.y-i.y})}function nC(e){if(ue(e))return!0;switch(e){case"start":case"center":case"end":return!0;default:return!1}}function Zl(e,o,t){let r=Wf(e.tree,o,t),n=e.stores.persistedUserDefaults.layoutGap;return{layout:"stack",stackDirection:r,gap:n,stackDistribution:id,stackAlignment:ci,stackWrapEnabled:!1,padding:0,paddingPerSide:!1,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0}}function iC(e,o){o.forEach((t,r)=>{e.tree.moveNodeIndex(t,r)})}function zf(e,o,t,r,n){t==="horizontal"&&o.heightType===2||t==="vertical"&&o.widthType===2||Of(e,r,t,n,{})}function Of(e,o,t,r,n){if(t==="horizontal"||ue(n.padding))return;let a={...r};if(n.paddingPerSide)n.paddingLeft&&(a.width-=n.paddingLeft),n.paddingRight&&(a.width-=n.paddingRight),n.paddingTop&&(a.height-=n.paddingTop),n.paddingBottom&&(a.height-=n.paddingBottom);else if(n.padding){let l=n.padding*2;a.width-=l,a.height-=l}a.width=Math.max(0,a.width),a.height=Math.max(0,a.height);let i=a.width;i>0&&o.forEach(l=>{if(!pe(l)||de(l)||aa(l)||ia(l)||l.widthType===2||l.widthType===4)return;if(e.tree.getRect(l).width/i>.96){let c=e.tree.getParent(l.id),f=e.tree.getParentSizeInfo(l);f.sizing&&l.heightType===4&&(f.sizing={...a,height:f.sizing.height});let g=e.tree.getRect(l),y=l.updateForRect({rect:g,parentSizeInfo:f,constraintsLocked:!0,shouldGuessPinToBottom:ur(e.tree,l),shouldGuessPinToRight:_t(e.tree,l,c)});y.width=1,l.width!==1&&(y.widthType=3),l.set(y)}})}function Gf(e,o,t,r,n){if(!e.tree.getNode(o))return;Mf(e,r,n).forEach(l=>{if(Ri(l)&&_o(l)||rn(l))return;let u=e.tree.getParent(l.id),s=e.tree.getRect(l),c=W.offset(s,$.reverse(t));e.moveNode(l.id,o);let f={...t},g=e.tree.getParentSizeInfo(l);mc(l)&&g.sizing&&(f.width=g.sizing.width),fc(l)&&g.sizing&&(f.height=g.sizing.height),e.tree.current(l)?.set({...l.updateForRect({rect:c,parentSizeInfo:{sizing:f,positioning:t,viewport:g?.viewport??null,layout:Yt(u)},constraintsLocked:!1,shouldGuessPinToBottom:!0,shouldGuessPinToRight:_t(e.tree,l,u)}),top:null,left:null,bottom:null,right:null,position:void 0}),Wo(e.tree,l).forEach(({replicaRoot:S,relatedNode:v})=>{J.resetOverridesByProperty(e.tree,S,v,["position"])})})}function aC(e,o){let t=W.maxX(e),r=W.maxX(o);return t>o.x&&r>e.x}function sC(e,o){let t=W.maxY(e),r=W.maxY(o);return t>o.y&&r>e.y}function eu(e,o,t){if(!Be(t))return;let r=o==="width"?"widthType":"heightType";t.children.forEach(n=>{if(pe(n)&&(n[r]===3||n[r]===1)){let a=e.getRect(n),i={[r]:0,[o]:a[o]};Fr(n)&&(i.aspectRatio=null),e.current(n)?.set(i)}})}function fE(e,o){if(!Be(o)||!pe(o))return;let t=new Set;o.children.forEach(r=>{if(!pe(r)||!Ui(r))return;let n=e.getRect(r),a={};o.widthType===2&&(r.widthType===3||r.widthType===1)&&(a.minWidth=n.width,t.add(r)),o.heightType===2&&(r.heightType===3||r.heightType===1)&&(a.minHeight=n.height),Object.keys(a).length>0&&(t.add(r),e.current(r)?.set(a))}),t.size>0&&lC()}function lC(){ba({type:"add",variant:"info",key:"setting-stack-direction-causes-children-change",primaryText:"Min sizing added",secondaryText:"to prevent layout collapse.",icon:"thumbnail",duration:5e3,showCloseButton:"always"})}function _a(e,o,t={}){if(!ko(o)||!Be(o)||so(o))return;let r={layout:"stack",...t},n=e.tree.getRect(o),a=e.tree.getScopeNodeFor(o),i=Op(o)||Fe(o)&&w(a)||o.__unsafeIsGroundNode(e.tree)&&bt(a),l=i?"vertical":Wf(e.tree,o.children,n),u=Mf(e,o.children,l);xe(o)||iC(e,u);let s=pi(o),c=o.gap??e.stores.persistedUserDefaults.layoutGap,f=i?"start":"center";r.stackDirection=s?o.stackDirection??l:l,r.stackDistribution=s?o.stackDistribution??f:f,r.gap=s||nC(f)?c:0,r.stackAlignment=s?o.stackAlignment??ci:ci,r.stackWrapEnabled=s?o.stackWrapEnabled??!1:!1;let g=s&&uo(o)?{padding:o.padding,paddingPerSide:o.paddingPerSide,paddingLeft:o.paddingLeft,paddingRight:o.paddingRight,paddingTop:o.paddingTop,paddingBottom:o.paddingBottom}:{...Ed};if(l==="horizontal"&&t.heightType===2||l==="vertical"&&t.widthType===2||Of(e,o.children,l,n,g),g.paddingPerSide){let{paddingTop:S,paddingRight:v,paddingBottom:F,paddingLeft:D}=g;S===v&&S===F&&S===D&&(g.paddingPerSide=!1,g.padding=S)}o.set({...r,...g})}var Hf=900;function VE(e){return e.intrinsicWidth>=Hf}function Ua(e,o,t){if(dt(o))return!1;let r=t??e.getParent(o.id);return!!(r&&ge(r))}function wE(e){return e<=.5}function uC(e,o,t){if(!ie(o)||!St(o)||!ge(o)||ao(o)||!Ua(e,t,o))return!1;let r=et(t)&&ho(t)&&t.widthType===1&&t.width===1;if(et(t)&&t.width<Hf&&!r)return!1;let n=o.children.filter(c=>c.id!==t.id);if(n.length===0)return!0;let i=e.getRect(o).width||1,l=n.map(c=>e.getRect(c));return l.some(c=>c.width/i<.5)?!1:l.every((c,f)=>l.every((g,y)=>f===y?!0:!W.intersects(c,g)))}function BE(e,o,t,r){if(!ko(o)||!uC(e.tree,o,t))return;let n={};r.height>500&&(n.heightType=2),_a(e,o,n),o.set({gap:0})}function _f(e,o){for(let t of Object.values(e.variables))if(t?.type==="collectionreference"&&t.dataIdentifier===o)return t}function Uf(e,o){return Object.values(e.variables).find(t=>t?.type==="multicollectionreference"&&t.dataIdentifier===o)}function dC(e,o){let t=lp(o);if(Ss(t))return{targetDataIdentifier:t.dataIdentifier,targetProviderId:t.id};let r=e.stores.scopeStore.active;if(Ze(r))return{targetDataIdentifier:r.dataIdentifier,targetProviderId:r.id}}function WE(e,o,t){if(!Ss(t))return;let r=dC(e,o);if(!r)return;let{targetDataIdentifier:n,targetProviderId:a}=r,i=rr(e.tree,t.dataIdentifier),l=rr(e.tree,n);if(!i||!l)return;let u=_f(i,n),s=Uf(i,n),c=_f(l,t.dataIdentifier),f=Uf(l,t.dataIdentifier),g;f?g={id:qe(),itemKey:"id",transforms:[{id:qe(),type:"valueTransform",name:"isIncludedIn",value:ht(f.id,a)}]}:c?g={id:qe(),itemKey:"id",transforms:[{id:qe(),type:"valueTransform",name:"equals",value:ht(c.id,a)}]}:s?g={id:qe(),itemKey:s.id,transforms:[{id:qe(),type:"valueTransform",name:"contains",value:ht(fl,a)}]}:u&&(g={id:qe(),itemKey:u.id,transforms:[{id:qe(),type:"valueTransform",name:"equals",value:ht(fl,a)}]}),g&&t.set({collectionFilters:{filters:[g]}})}function ME(e,o,t,r){if(!ie(o)||!St(o)||!ge(o)||!so(o)||o.stackDirection!=="vertical"||!Ua(e.tree,t,o)||o.heightType===2||!Am(e.tree,e.componentLoader,o).height[2])return;let a=o.children.filter(s=>s.id!==t.id);if(a.length===0)return;let i=e.tree.getRect(o),l=a.map(s=>e.tree.getRect(s));W.merge(...l).height+r.height<=i.height||(o.set({height:i.height,heightType:2}),a.forEach((s,c)=>{let f=l[c];N(f,"Child rect must be defined"),et(s)&&ho(s)&&s.heightType===3&&s.set({height:f.height,heightType:0})}))}function tu(e){let o=rt.boundingBox(e),t=e.pathSegments.map(r=>r.merge({x:r.x-o.x,y:r.y-o.y}));return[{pathClosed:e.pathClosed,pathSegments:t},o]}function jf(e,o,t,r){let n=ft("app:importSVG"),a=e,i,l;if(r&&r.colorable){let v=Ps(e,"image/svg+xml").documentElement;if(!v)throw new Error(`Unsupported SVG: ${e}}`);let F=v.getAttribute("fill"),D=!(F&&F.toLowerCase()==="none");if(D){if(r.fillType==="linear-gradient"&&r.fillLinearGradient instanceof qc)i={fillType:"linear-gradient",fillLinearGradient:r.fillLinearGradient};else if(r.fillType==="image"&&r.fillImage)i={fillType:"image",fillImage:r.fillImage,fillImageResize:r.fillImageResize,fillImagePixelWidth:r.fillImagePixelWidth,fillImagePixelHeight:r.fillImagePixelHeight};else if(r.fillType==="color"&&L(r.fillColor)){let k=ga(),M=new k.Color(r.fillColor).toCSS(!1);D&&v.setAttribute("style",`fill: ${M}; color: ${M}`);let U=v.getAttribute("stroke");U&&U.toLowerCase()==="currentcolor"&&v.setAttribute("stroke",M)}a=v}}let u=cC(a);a=u.svgElement,l=u.svgSize;let s=!1,f=ga().project.importSVG(a,{expandShapes:!0,insert:!1,size:t,onError:S=>{n.reportError(S),s=!0;let v=document&&document.getElementsByTagName("body");if(v&&v[0]){let F=v[0].lastElementChild;for(;F&&F.tagName==="svg";)F.remove(),F=v[0].lastElementChild}}});if(s)return null;let g;try{g=$f({item:f,fillOverrides:i,tree:o()})}catch(S){return n.reportError(S),null}let y=g[0];return y?(et(y)&&l&&y.set({width:l.width,height:l.height}),o().insertNodes(g).getNode(y.id)):null}function $f({item:e,tree:o,nodes:t=[],parent:r=null,parentAbsolutePosition:n=$(0,0),fillOverrides:a}){let i=ga();return e instanceof i.Group?fC({group:e,nodes:t,parent:r,parentAbsolutePosition:n,tree:o,fillOverrides:a}):e instanceof i.PathItem?mC({item:e,nodes:t,parent:r,parentAbsolutePosition:n,fillOverrides:a}):(console.warn("Unhandled Paper item:",e),t)}function cC(e){let o=L(e)?Ps(e,"image/svg+xml").documentElement:e;if(!o)throw new Error(`Unsupported SVG: ${e}}`);let t,r=o.getAttribute("viewBox"),n=o.getAttribute("width"),a=o.getAttribute("height");if(r){let[i,l,u,s]=r.split(" ");u&&s&&(o.setAttribute("width",u),o.setAttribute("height",s),t={width:parseInt(u),height:parseInt(s)})}else n&&a&&(t={width:parseInt(n),height:parseInt(a)});return Yf(o),{svgElement:o,svgSize:t}}function Yf(e){pC(e);for(let o of e.children)Yf(o)}function pC(e){let o=e.getAttribute("rx"),t=e.getAttribute("ry");!o&&!t||o&&t||(o?e.setAttribute("ry",o):t&&e.setAttribute("rx",t))}function mC({item:e,nodes:o=[],parent:t=null,parentAbsolutePosition:r=$(0,0),fillOverrides:n}){let a=pm({item:e,parentAbsolutePosition:r}),i=mm(e),l=t?t.id:Qe;if(a.length===1){let s=a[0];N(s,"Path must be defined");let[{pathSegments:c,pathClosed:f},g]=tu(s);if(c.length){let y=new Dn({parentid:l,pathSegments:c,pathClosed:f,...i,...n,...g});o.push(y)}}else if(a.length){let s=qf(e),c=s.x-r.x,f=s.y-r.y,g=qe(),y=[];if(a.forEach(S=>{let[{pathSegments:v,pathClosed:F},D]=tu(S);if(!v.length)return;let k=new Dn({parentid:g,pathSegments:v,pathClosed:F,...n,x:D.x-c,y:D.y-f,width:D.width,height:D.height});y.push(k)}),y.length){let S=e.fillRule==="evenodd"?3:4,v=new Ca({id:g,parentid:l,pathBoolean:S,...i,...n,x:c,y:f,width:s.width,height:s.height});o.push(v,...y)}}return o}function fC({group:e,tree:o,nodes:t=[],parent:r=null,parentAbsolutePosition:n=$(0,0),fillOverrides:a}){let i=qf(e),l=r?r.id:Qe,u,s;return l?(u=new fm({parentid:l,x:i.x-n.x,y:i.y-n.y,width:i.width,height:i.height}),s=$(i.x,i.y)):(u=new dr({parentid:l,left:0,top:0,width:i.x+i.width,height:i.y+i.height,fillEnabled:!1}),s=$(0,0)),t.push(u),e.children.forEach(c=>{$f({item:c,nodes:t,parent:u,parentAbsolutePosition:s,tree:o,fillOverrides:a})}),t}function qf(e){let{x:o,y:t,width:r,height:n}=e.bounds;return{x:o,y:t,width:r,height:n}}function hC(e){return lt(e)&&"iconURL"in e}function i0(e){return lt(e.icon)?e.id==="WorkspacePluginsCategory"?!0:hC(e.icon):!1}var gC={DefaultCategory:!0,PluginsCategory:!0,ManagedCollectionPluginsCategory:!0,WorkspacePluginsCategory:!0};function a0(e){return L(e)?Object.hasOwn(gC,e):!1}var yC={FindNodesCategory:!0,PluginsCategory:!0,ManagedCollectionPluginsCategory:!0,WorkspacePluginsCategory:!0};function s0(e){return Object.hasOwn(yC,e)}function l0(e){return e?.kind==="item"}var Kf=e=>e.root.children.reduce((t,r)=>(w(r)&&r.abTestingParentId&&t.add(r.abTestingParentId),t),new Set).size;function Xf(e,o,{isAddingTest:t}){N(e.stores.projectStore.project,"Project should be defined");let{settings:r,usage:n,license:a}=e.stores.projectStore.project,i=Kf(e.tree)+(t?1:0),l=r.featureFlags.canUseAdvancedAnalytics==="on"?r.resourceLimits.abTests??1/0:0,u=r.resourceLimits.maxAbTests??1/0;if(i<=l)return!1;if(a.type==="enterpriseSite")return e.stores.modalStore.set({type:"Confirmation",title:"Increase Limits",description:"You\u2019ve reached the limit for A/B tests. Please contact your account manager to increase your limits.",source:o,confirmLabel:"Contact Us",cancelLabel:"Maybe Later",onConfirm:()=>Ia(Pa)}),!0;if(i<=u){let c=Math.max(n.advancedAnalytics?.currentMonth??0,n.advancedAnalytics?.previousMonth??0,1);return e.stores.modalStore.set({type:"AcquireAddonModal",source:o,addonInfo:{addonLicenseType:"advancedAnalytics",quantity:c}}),!0}return i>Dm?(e.stores.modalStore.set({type:"UpsellEnterprise",source:o,description:"Sign up for an Enterprise plan to add even more A/B Tests, and get access to other powerful features.",upsell:"advanced-analytics-enterprise-upsell",upsellFeatures:["Custom Limits","Custom Hosting","Custom Proxy Support","Enterprise Security","Dedicated Support"]}),!0):(e.stores.modalStore.set({type:"UpsellFeature",upsellFeature:"abTests",title:"Advanced Analytics",description:"Upgrade your site to start improving your site with A/B testing.",source:o}),!0)}function IC(e){if(!e.project)return null;let{settings:o,usage:t,license:r}=e.project,n=o.resourceLimits.trackingEventsLimit??1/0,a=o.resourceLimits.maxTrackingEventsLimit??1/0,i=Math.max(t.advancedAnalytics?.currentMonth??0,t.advancedAnalytics?.previousMonth??0);return i<=n?null:r.type==="enterpriseSite"?{action:0,eventsUsage:i,trackingEventsLimit:n}:i<=a?{action:1,eventsUsage:i,trackingEventsLimit:n}:i>Rm?{action:2,eventsUsage:i,trackingEventsLimit:n}:{action:3,eventsUsage:i,trackingEventsLimit:n}}function bC(e,o,t){switch(t.action){case 0:e.stores.modalStore.set({type:"Confirmation",title:"Increase Limits",description:"You\u2019ve reached the limit for Advanced Analytics events. Please contact your account manager to increase your limits.",source:o,confirmLabel:"Contact Us",cancelLabel:"Maybe Later",onConfirm:()=>Ia(Pa)});return;case 1:e.stores.modalStore.set({type:"AcquireAddonModal",source:o,addonInfo:{addonLicenseType:"advancedAnalytics",quantity:Math.max(t.eventsUsage,1)}});return;case 2:e.stores.modalStore.set({type:"UpsellEnterprise",source:o,description:"Sign up for an Enterprise plan to increase your analytics events limit and get access to other powerful features.",upsell:"advanced-analytics-enterprise-upsell",upsellFeatures:["Custom Limits","Custom Hosting","Custom Proxy Support","Enterprise Security","Dedicated Support"]});return;case 3:e.stores.modalStore.set({type:"UpsellFeature",upsellFeature:"trackingEventsLimit",title:"Advanced Analytics",description:"You\u2019ve exceeded your analytics events limit. Upgrade your plan to continue using funnels and A/B testing.",source:o});return;default:Z(t.action)}}function Qf(e,o){let t=IC(e.stores.projectStore);return t===null?!1:(bC(e,o,t),!0)}async function Jf(e,o,t){let r=[];e.forEach(n=>{let a=Ne(n);a&&a.kind==="externalModuleExport"&&r.push(a)}),r.length&&await o.preloadExternalModules(r),await Lm(t,e,o)}function Ha(e,o,t,r,n){if(Se(t.htmlContent))return;let a=e.getScopeNodeFor(o);N(a&&Mi(a),"Can't find scope with breakpoints");let l=a.getTopLevelVariants().map(u=>{let s=St(u)?t.id:Rt(u.id,t.id),c=e.get(s);return N(c&&_e(c),"Can't find rich text node in breakpoint"),[u,c]});for(let[u,s]of l){N(et(u),"Can't read width attribute of node");let c=ma(r,f=>(f.breakpointWidth??0)>u.width)??n;s.detachTextStylePreset(c,!0)}}var ou=["formButtonSuccessVariant","formButtonPendingVariant","formButtonErrorVariant","formButtonIncompleteVariant","whileOpenEffectVariant","appearEffectVisibleVariantId","appearEffectObscuredVariantId","dataLoaderLoadingVariant","dataLoaderDisabledVariant"];function eh(e,o,t){let r=o.tokenOverrides;!r||Po(r)||(th(e,t,r),o.set({tokenOverrides:void 0}))}function th(e,o,t){PC(e,o.id,t);let r=[];for(let n of o.variables){if(!nh(n)){r.push(n);continue}switch(n.type){case"border":r.push(er(n.initialValue)?{...n,initialValue:{...n.initialValue,borderColor:he(n.initialValue.borderColor,t)}}:n);break;case"color":r.push({...n,initialValue:he(n.initialValue,t)});break;default:Z(n,"Unsupported variable type.")}}o.set({variables:r})}function PC(e,o,t){let r=e.tree.get(o);if(r)for(let{node:n,skipChildren:a}of r.walkWithSkipChildren()){if(xe(n)){a();continue}if(oh(e,n,t),NC(e,n,t),!Q(n)||n.isVectorInstance)continue;let i=n.getLocalSmartComponentNodeId();if(!i){n.set({tokenOverrides:t});continue}let l=e.tree.get(i);Te(l)&&l.isLoaded()&&(th(e,l,t),e.stores.codeGenerationStore.updateComponent(l.id))}}function NC(e,o,t){let r=Wo(e.tree,o);for(let n of r){let{relatedNode:a,replicaRoot:i}=n;i.replicaInfo.overrides[o.id]&&oh(e,a,t)}}function oh(e,o,t){if(Ot(o)){let r=he(o.fillColor,t);r&&o.set({fillColor:r})}if(Co(o)){let r=he(o.borderColor,t);r&&o.set({borderColor:r})}if(Lt(o)){let r=he(o.strokeColor,t);r&&o.set({strokeColor:r})}if(_e(o))if(o.htmlContent)xC(e,o,t);else{let r=new Map;for(let n in t){if(!Us(n))continue;let a=t[n],i=Hd(n);i&&r.set(i,`var(${n}, ${a})`)}o.replaceColorTokenVariables(r),o.hasLinks()&&o.remapLinkStylePresets(n=>{let a=rh(e,n,t);if(Nt(a))return a})}else if(Q(o)){let r=e.componentLoader.componentForIdentifier(o.codeComponentIdentifier);if(!r)return;let n=o.getControlProps(r.properties);if(!n)return;for(let a in n){let i=n[a];if(!(!i||!nh(i)))switch(i.type){case"border":if(!er(i.value))break;o.setControlProp(a,{...i,value:{...i.value,borderColor:he(i.value.borderColor,t)}});break;case"color":o.setControlProp(a,{...i,value:he(i.value,t)});break;default:Z(i,"Unsupported control type.")}}}}function xC(e,o,t){for(let r of Lr){let n=o[r];if(!n)continue;let a=rh(e,n,t);En(a)&&o.set({[r]:a.id})}}function rh(e,o,t){let r=e.tree.getNodeWithTrait(o,En);if(!r)return;let n=FC(r,t);if(Zf(r,n))return r;let a=Qt.ensure(e.tree),i=a.getStylePresets().filter(l=>l.id!==o&&Zf(l,n));return i.length?i?.[0]:(e.tree.insertNode(n,a.id),e.stores.codeGenerationStore.createModuleFromComponentSource(n).catch(Ut),n)}function Zf(e,o){return e.__class!==o.__class?!1:yt(e)&&yt(o)||Nt(e)&&Nt(o)||Do(e)&&Do(o)||Mt(e)&&Mt(o)||Ro(e)&&Ro(o)?e.equals(o):!1}function FC(e,o){let t=e.clone();return EC(t,o),t}function EC(e,o){yt(e)?(e.textColor=he(e.textColor,o),e.textStrokeColor=he(e.textStrokeColor,o),e.textDecorationColor=he(e.textDecorationColor,o)):Nt(e)?(e.linkTextColor=he(e.linkTextColor,o),e.linkTextDecorationColor=he(e.linkTextDecorationColor,o),e.linkTextBackgroundColor=he(e.linkTextBackgroundColor,o),e.linkHoverTextColor=he(e.linkHoverTextColor,o),e.linkHoverTextDecorationColor=he(e.linkHoverTextDecorationColor,o),e.linkHoverTextBackgroundColor=he(e.linkHoverTextBackgroundColor,o),e.linkCurrentTextColor=he(e.linkCurrentTextColor,o),e.linkCurrentTextDecorationColor=he(e.linkCurrentTextDecorationColor,o),e.linkCurrentTextBackgroundColor=he(e.linkCurrentTextBackgroundColor,o)):Ro(e)?e.borderColor=he(e.borderColor,o):Do(e)?(e.textColor=he(e.textColor,o),e.textDecorationColor=he(e.textDecorationColor,o),e.textStrokeColor=he(e.textStrokeColor,o),e.borderColor=he(e.borderColor,o),e.fillColor=he(e.fillColor,o),e.lineColor=he(e.lineColor,o)):Mt(e)&&(e.inlineCodeTextColor=he(e.inlineCodeTextColor,o),e.inlineCodeFillColor=he(e.inlineCodeFillColor,o),e.borderColor=he(e.borderColor,o))}function he(e,o){if(we(e)||!qt(e))return e;let{customProperty:t,metadata:r}=Ud(e);if(!Us(t))return e;let n=o[t];if(!n)return e;let a=`var(${t}, ${n})`;return r?`${a} ${r}`:a}function nh(e){switch(e.type){case"color":case"border":return!0;case"array":case"boolean":case"number":case"string":case"richtext":case"eventhandler":case"image":case"file":case"scrollsectionref":case"customcursor":case"cursor":case"transition":case"boxshadow":case"gap":case"padding":case"borderradius":case"collectionreference":case"multicollectionreference":case"trackingid":case"vectorsetitem":case"date":case"enum":case"link":case"linkrelvalues":case"fusednumber":case"object":case"font":case"pagescope":case"slot":case"slug":case"controlReference":case"nodePropertyControlReference":return!1;default:Z(e,"Check if we support this variable type.")}}function ih(e){if(!w(e))return!1;for(let o of e.children)if(!ge(o)||Be(o)&&o.children.length>0)return!1;return!0}function ah(e,o,t){if(Ze(t))return;let r;e.stores.scopeStore.removeNode(o);let n=fo(e.tree,t.id);n&&e.tree.removeNode(n);let a=e.tree.root.homePageNodeId,i=fo(e.tree,o.id);i&&(o.id===a?e.tree.removeNode(i):i.set({webPageId:t.id})),e.tree.current(t)?.set({name:o.name,pagePath:o.pagePath}),e.tree.has(a)||(r??={},r.homePageNodeId=t.id),r&&e.tree.root.set(r)}function CA(e,o){return AC(e,o).map(t=>t.replicaInfo.overrides[t.originalid]).filter(Fo)}function jn(e,o){return e.filter(t=>Oe(t)&&t.originalid===o.id).sort((t,r)=>(r.breakpointWidth??0)-(t.breakpointWidth??0))}function AC(e,o){let t=Qt.get(e);N(t,"Can't find PresetsListNode");let r=t.children.filter(yt);return jn(r,o)}function Zt(e){if(!e)return!1;let o=Ne(e);return o?o.kind==="externalModuleExport"||o.kind==="localModuleExport":!1}function ja(e,o){if(Q(e)&&Zt(e.codeComponentIdentifier)&&o(e.codeComponentIdentifier),Tr(e)&&e.dataIdentifier&&o(e.dataIdentifier),Nr(e)&&Zt(e.codeOverrideIdentifier)&&o(e.codeOverrideIdentifier),hl(e)&&e.codeOverrides?.forEach(t=>{o(t.identifier)}),Wt(e)&&vm(e).forEach(o),vs(e)&&Zt(e.shaderModuleIdentifier)&&o(e.shaderModuleIdentifier),zt(e)){for(let t of e.variables)if(t.type==="controlReference")Zt(t.entityIdentifier)&&o(t.entityIdentifier);else if(t.type==="vectorsetitem"){let{initialValue:r}=t;un(r)&&Zt(r.identifier)&&o(r.identifier)}}}function $a(e,o){let t={};if(Q(e)&&Zt(e.codeComponentIdentifier)){let n=o(e.codeComponentIdentifier);n&&(t.codeComponentIdentifier=n)}if(Tr(e)&&e.dataIdentifier){let n=o(e.dataIdentifier);n&&(N(Ur(n)),t.dataIdentifier=n)}if(Nr(e)&&Zt(e.codeOverrideIdentifier)){let n=o(e.codeOverrideIdentifier);n&&(t.codeOverrideIdentifier=n)}if(hl(e)&&e.codeOverrides){let n=!1,a=e.codeOverrides.map(i=>{let l=o(i.identifier);return l?(n=!0,{...i,identifier:l}):i});n&&(t.codeOverrides=a)}if(Wt(e)){let n=Tm(e,o);n&&Object.assign(t,n)}if(vs(e)&&Zt(e.shaderModuleIdentifier)){let n=o(e.shaderModuleIdentifier);n&&(t.shaderModuleIdentifier=n)}if(zt(e)){let n=!1,a=e.variables.map(i=>{if(i.type==="controlReference"){if(!Zt(i.entityIdentifier))return i;let l=o(i.entityIdentifier);return l?(n=!0,{...i,entityIdentifier:l}):i}if(i.type==="vectorsetitem"){if(!un(i.initialValue)||!Zt(i.initialValue.identifier))return i;let l=o(i.initialValue.identifier);return l?(n=!0,{...i,initialValue:{...i.initialValue,identifier:l}}):i}return i});n&&(t.variables=a)}if(Object.keys(t).length!==0)return t}function ek(e,o,t){if(!_e(t))return;let r=t.getStylePresetsForCodeGeneration(e);for(let n of r){let a=e.getNodes(n.cache.replicaInstances??[]);for(let i of a)o[i.id]??=i.toJS();o[n.id]??=n.toJS()}}function ru(e,o,t){for(let r of o){let n=e[r];if(!n)continue;let a=t(n);a&&a.id!==n&&e.set({[r]:a.id})}}function lh({engine:e,node:o,pastedPresetMap:t,stylePresetNodes:r,shouldDetachTextStyles:n,breakpointVariantIds:a,shouldCreateNewPresets:i,reusePresetWithSameId:l}){if(!r)return;let u={pastedPresetMap:t,stylePresetNodes:r,shouldCreateNewPresets:i,reusePresetWithSameId:l},s=g=>kC(e,g,u);if(ru(o,Zp,s),o.remapTextStylePresets(s),!n)return;let c=Xr(o),f=e.tree.getGroundNodeFor(o);for(let g of o.getStylePresetIdsForCodeGeneration()){let y=r.find(v=>v.id===g);if(!y||!vi(y))continue;let S=jn(r,y);if(c){Ha(e.tree,c,o,S,y);continue}if(a?.has(f.id)&&et(f)){let v=ma(S,F=>(F.breakpointWidth??0)>f.width)??y;o.detachTextStylePreset(v,!1);continue}o.detachTextStylePreset(y,!1)}}function kC(e,o,{pastedPresetMap:t,stylePresetNodes:r,shouldCreateNewPresets:n,reusePresetWithSameId:a}){if(!r)return;let i=r.find(g=>g.id===o);if(!i)return;let l=e.tree.get(o);if(vi(l)&&(a||l.equals(i)))return t.set(o,l),l;if(!n)return;let u=Qt.ensure(e.tree),s=u.getTextStylePresets().find(g=>g.equals(i));if(s&&vi(s))return t.set(o,s),s;let c=l?i.clone():i.cloneWithIds();e.tree.insertNode(c,u.id),t.set(o,c);let f=r.filter(g=>g.originalid===o);for(let g of f){let y=e.tree.get(o);if(y&&yd(y)&&y.equals(g)){t.set(o,y);continue}let v=y?g.clone():g.cloneWithIds();e.tree.insertNode(v,u.id),t.set(o,v)}return c}function uh({engine:e,node:o,pastedPresetMap:t,stylePresetNodes:r}){if(!r)return;let n={pastedPresetMap:t,stylePresetNodes:r},a=i=>DC(e,i,n);ru(o,tm,a),o.remapLinkStylePresets(a)}function DC(e,o,{pastedPresetMap:t,stylePresetNodes:r}){if(!r)return;let n=r.find(c=>c.id===o);if(!n||!Nt(n))return;let a=e.tree.get(o);if(a&&Nt(a)&&a.equals(n))return t.set(o,a),a;let l=Qt.ensure(e.tree),u=l.getLinkStylePresets().find(c=>c.equals(n));if(u&&Nt(u))return t.set(o,u),u;let s=a?n.clone():n.cloneWithIds();return e.tree.insertNode(s,l.id),t.set(o,s),s}function dh({engine:e,node:o,pastedPresetMap:t,stylePresetNodes:r}){if(!r)return;let n={pastedPresetMap:t,stylePresetNodes:r},a=i=>RC(e,i,n);ru(o,om,a),o.remapInlineCodeStylePresets(a)}function RC(e,o,{pastedPresetMap:t,stylePresetNodes:r}){if(!r)return;let n=r.find(c=>c.id===o);if(!n||!Mt(n))return;let a=e.tree.get(o);if(a&&Mt(a)&&a.equals(n))return t.set(o,a),a;let l=Qt.ensure(e.tree),u=l.getInlineCodeStylePresets().find(c=>c.equals(n));if(u&&Mt(u))return t.set(o,u),u;let s=a?n.clone():n.cloneWithIds();return e.tree.insertNode(s,l.id),t.set(o,s),s}function tk(e){if(w(e))return{id:e.id,pagePath:e.pagePath,webMetadata:e.webMetadata,dataIdentifier:e.dataIdentifier}}function ok(e,o,t,r,n){let a={},i=new Set;function l(u){ja(u,s=>{if(n.has(s))return;let c=LC(e,s);c&&(a[s]=c);let f=Rp(s,o,e,i);f&&Object.assign(a,f)})}for(let u of t.walk())l(u);return w(r)&&l(r),{moduleData:a}}function LC(e,o){let t=Ne(o);if(t&&t.kind==="localModuleExport"){let r=e.getPersistedModuleByLocalId(t.localId);return r?(N(r.files.module,"expected module typed file in persisted module"),si(r.id,r.saveId,r.files.module,t.exportSpecifier)):void 0}if(t&&t.kind==="externalModuleExport")return t}function VC(e,o,t){let r=Ne(o);if(Ht(r))return N(e.initialized,"Cannot paste modules before modulesStore has been initialized."),e.getPersistedModuleByLocalId(r.localId)?.id===t.moduleId?null:t.value;if(ju(r)&&r.kind==="externalModuleExport"){let n=e.getPersistedModuleByGlobalId(r.moduleId)?.localId;return n?li(r,n).value:null}return null}function wC(e,o,t,r,n){let a=r.cloneWithIds();a.set(n),e.removeNode(r),e.insertNode(a,o,t)}function rk(e,o,t,r){if(!r)return t;for(let n of t.root.walk())Be(n)&&n.children.forEach((a,i)=>{if(r){let l=$a(a,s=>{let c=r[s];if(!c)return;let f=VC(o,s,c);return f||void 0});if(!l)return;let u=t.current(a);if(!u)return;wC(t,n.id,i,u,l)}});return t.commit(e)}function BC(e){return Oe(e)&&et(e)}function nk(e,o,t){let r=e.get(t.id);if(!r)return;let n=Xr(r);if(!n||!ge(n))return;let a=e.getNodes(n.cache.replicaInstances??[]).filter(BC);for(let{width:i,replicaInfo:l}of a){let u=o.get(i)??{},s=l.overrides[t.id];s&&(u[t.id]=s),o.set(i,u)}et(n)&&!o.get(n.width)&&o.set(n.width,{})}function ye(e,o,t,r){if(o){if(qt(o)){let n=Vi(o),a=e.get(n);if(a&&!(a.id in t)){let i=a.cloneWithIds();t[i.id]=i.toJS(),r&&(r[a.id]=Tc())}return}if(Bd(o)){ye(e,o.color,t,r);return}if(Yc(o)||$c(o)||Kc(o)){for(let n of o.stops)ye(e,n.value,t,r);return}if(Ye(o)){for(let n of o)ye(e,n,t,r);return}if(er(o)){ye(e,o.borderColor,t,r);return}}}function ik(e,o,t,r){for(let n in o)ye(e,o[n],t,r);if(_e(o)){let n=o.getInlineStyleTokenVariables();if(ye(e,n,t,r),ue(o.htmlContent)||ue(o.textContent)){WC(e,o,t,r);return}let a=o.getTextStylePresets(!1);for(let i of a)i&&ch(e,i,t,r);if(o.hasLinks()){let i=o.getLinkStylePresets(!0);for(let l of i){let u=e.getNodeWithTrait(l,Nt);u&&ph(e,u,t,r)}}}}function ch(e,o,t,r){let n=e.getNodeWithTrait(o,En);n&&(yt(n)?(ye(e,n.textColor,t,r),ye(e,n.textStrokeColor,t,r),ye(e,n.textDecorationColor,t,r)):Nt(n)?ph(e,n,t,r):Do(n)?(ye(e,n.textColor,t,r),ye(e,n.textDecorationColor,t,r),ye(e,n.textStrokeColor,t,r),ye(e,n.borderColor,t,r),ye(e,n.fillColor,t,r),ye(e,n.lineColor,t,r)):Mt(n)?(ye(e,n.inlineCodeTextColor,t,r),ye(e,n.inlineCodeFillColor,t,r),ye(e,n.borderColor,t,r)):Ro(n)&&ye(e,n.borderColor,t,r))}function WC(e,o,t,r){for(let n of Lr){let a=o[n];a&&ch(e,a,t,r)}}function ph(e,o,t,r){ye(e,o.linkTextColor,t,r),ye(e,o.linkTextDecorationColor,t,r),ye(e,o.linkTextBackgroundColor,t,r),ye(e,o.linkHoverTextColor,t,r),ye(e,o.linkHoverTextDecorationColor,t,r),ye(e,o.linkHoverTextBackgroundColor,t,r),ye(e,o.linkCurrentTextColor,t,r),ye(e,o.linkCurrentTextDecorationColor,t,r),ye(e,o.linkCurrentTextBackgroundColor,t,r)}function ak(e,o,t){let r=t-o;return Math.ceil(e/100*r+o)}function sh(e,o,t){if(Ze(o)){let r=Ne(o.dataIdentifier);if(!Ht(r))return;let n=e.getNodeWithTrait(r.localIdName,Ue);n&&(t.set(o.dataIdentifier,n),sh(e,n,t))}if(Ue(o))for(let r of o.variables){if(!wi(r))continue;let n=Ne(r.dataIdentifier);if(!Ht(n))continue;let a=e.getNodeWithTrait(n.localIdName,Ue);a&&(t.has(r.dataIdentifier)||(t.set(r.dataIdentifier,a),sh(e,a,t)))}}function mh(e,o,t,r,n,a){let i=sc(n,w(t,!0));N(i.length>0,"Path must have at least one segment");let l=Pr(e);return i.forEach((u,s)=>{let c=s===i.length-1,f=c?a?.positionInParent:void 0,g=zi(u)?r:void 0;g&&(u=$l(g,u,e,o));let y=l.children.find(v=>v.segment===u),S=y&&c&&t;if(!y||S&&y.webPageId){let v=new um({segment:u,webPageId:c?t?.id:void 0,dataIdentifier:g});e.insertNode(v,l.id,f),l=v}else S&&y.set({webPageId:t.id,dataIdentifier:g}),l=y}),N(lo(l),"Current parent should be the created RouteSegmentNode"),l}function fh(e,o){let t=fo(e,o);return e.get(t?.parentid)?.children.findIndex(n=>n.id===t?.id)}function Br(e,o,t=!1){let r={};for(let n in e){let a={...e[n]};"itemsOrder"in a&&Array.isArray(a.itemsOrder)&&t&&(a.itemsOrder=_n(a.itemsOrder,o)),r[o.get(n)??n]=a}return r}var Ya=class extends Map{get(o){let t=super.get(o);for(;t;){let r=super.get(t);if(r===void 0)break;t=r}return t}};function MC(e,o){if(oa(e)){if(!e.controls.target?.value)return;let t=o.get(e.controls.target.value);return t?{target:{...e.controls.target,value:t}}:void 0}if(va(e)){if(!e.controls.variantId?.value)return;let t=o.get(e.controls.variantId.value);return t?{variantId:{...e.controls.variantId,value:t}}:void 0}if(Ys(e)){if(!e.controls.overlay?.value)return;let t=o.get(e.controls.overlay.value);return t?{overlay:{...e.controls.overlay,value:t}}:void 0}}function hh(e,o,t,r,n){let a=Q(t),i={},l=!1,u=sp(o,t);for(let s in u){let c=a?Ee(s):s;if(!Me(e,t,c))continue;let f=u[s];if(!Ye(f))continue;let g=[],y=!1;for(let S of f){if(n&&(Ys(S)||Gi(S))){y=!0;continue}let F=MC(S,r);if(!F){g.push(S);continue}g.push({...S,controls:{...S.controls,...F}}),y=!0}y&&(a?i[Ee(s)]={type:"eventhandler",value:g}:i[s]=g,l=!0)}l&&t.set(i,e)}function zC(e,o,t,r){let n={};function a(u){let s=e.get(u);s&&e.linkNodeChangesTo(s,t.id)}let i=bm(t,o);for(let u of i){if(!Me(e,t,Ee(u)))continue;let s=t.getRawControlProp(u);if(s){if(s.type==="slot"&&Ye(s.value)){let c=!1,f=s.value.map(g=>{if(!lt(g))return g;let y="reference";if(!L(g[y]))return g;let S=r.get(g.reference);return S?(c=!0,a(S),{...g,[y]:S}):g});if(!c)continue;n[u]={type:"slot",value:f}}else if((s.type===null||s.type==="componentinstance")&&L(s.value)){let c=r.get(s.value);if(!c)continue;n[u]={type:"slot",value:[{id:"first-item",reference:c}]},a(c)}else if(Ye(s.value)){let c=!1,f=[];for(let g=0;g<s.value.length;g++){let y=s.value[g];if(!Ei(y)||y.type!==null&&y.type!=="componentinstance"||!L(y.value))continue;let S=Ld(y)?y.id:qe(),v=r.get(y.value);f.push({id:S,reference:v??y.value}),v&&(a(v),c=!0)}if(!c)continue;n[u]={type:"slot",value:f}}}}if(Po(n))return;let l=Ir(n);t.set(l,e)}function OC(e,o,t,r){let n={},a=o.componentForIdentifier(t.codeComponentIdentifier)?.properties;for(let i in a){if(!Me(e,t,Ee(i)))continue;let l=a[i];if(l?.type!=="scrollsectionref")continue;let u=t.getRawControlProp(i);if(!u)continue;let s=ec(l,u);if(!s||Se(s)||!L(s.target))continue;let c=r.get(s.target);c&&(n[i]={type:"scrollsectionref",value:{...s,target:c}})}Po(n)||t.set(Ir(n),e)}function GC(e,o){if(gp(e)&&Ye(e.appearEffectScrollTargets)){let t=e.appearEffectScrollTargets.map(r=>{if(!r.target||Se(r.target))return r;let n=o.get(r.target);return n?{id:qe(),variant:r.variant,target:n}:r});e.set({appearEffectScrollTargets:t})}if(fp(e)&&L(e.styleAppearEffectScrollTarget)){let t=o.get(e.styleAppearEffectScrollTarget);t&&e.set({styleAppearEffectScrollTarget:t})}if(hp(e)&&Ye(e.styleTransformEffectScrollTargets)){let t=e.styleTransformEffectScrollTargets.map(r=>{if(!r.target||Se(r.target))return r;let n=o.get(r.target);return n?{id:qe(),style:r.style,target:n}:r});e.set({styleTransformEffectScrollTargets:t})}if(cp(e)&&e.dragEffectConstraintElement){let t=o.get(e.dragEffectConstraintElement);t&&e.set({dragEffectConstraintElement:t})}if(bp(e)&&L(e.textEffectScrollTarget)){let t=o.get(e.textEffectScrollTarget);t&&e.set({textEffectScrollTarget:t})}}function To(e,o,t,r,n){if(t=t.draftOrCurrent(),(xr(t)||Cc(t))&&hh(e,o,t,r,n),Q(t)&&(hh(e,o,t,r,n),zC(e,o,t,r),OC(e,o,t,r)),Pn(t)&&GC(t,r),Oi(t)&&t.formSubmitButtonId){let i=r.get(t.formSubmitButtonId);i&&t.set({formSubmitButtonId:i})}if(zp(t)&&t.dataSourceLoaderId){let i=r.get(t.dataSourceLoaderId);i&&t.set({dataSourceLoaderId:i})}if(dd(t)&&t.collectionRepeatedItemId){let i=r.get(t.collectionRepeatedItemId);i&&t.set({collectionRepeatedItemId:i})}if(Ze(t)){let i=gh(t.dataIdentifier,r);i&&t.set({dataIdentifier:i})}if(Ue(t)){let i=t.variables.map(l=>{if(!wi(l))return l;let u=gh(l.dataIdentifier,r);return u?{...l,dataIdentifier:u}:l});Yr(t.variables,i)||t.set({variables:i})}Wt(t)&&_C(t,r);let a=Yp(e,t,i=>{if(!i.providerId)return;let l=r.get(i.providerId);if(l)return ht(r.get(i.id)??i.id,l)});if(a&&t.set(a),t.children)for(let i of t.children)To(e,o,i,r,n);return t}function gh(e,o){let t=Ne(e);if(!Ht(t))return null;let r=o.get(t.localIdName);return r?Hr(t.type,r,t.exportSpecifier).value:null}function _C(e,o){let t=e.getControlProps();for(let[r,n]of Object.entries(t)){if(n?.type==="collectionreference"&&L(n.value)){let a=o.get(n.value);a&&e.setControlProp(r,{...n,value:a})}if(n?.type==="multicollectionreference"&&!ne(n.value)&&!ue(n.value)){let a=n.value.map(i=>o.get(i)??i);Yr(n.value,a)||e.setControlProp(r,{...n,value:a})}}}function yh(e){return Ba(e)||Ue(e)}var Ch=75,UC={mutable:!0,update:0};function $n(e,o,t,r,n=!1){function a(i,l,u=!1){let s=new i.constructor;s.assign(i,UC,{cache:s.cache,id:s.id}),Pc(s)&&(s.itemsOrder=void 0),i.cache.insideVariant=u;let c=ir(i)?i.getChildrenInVisualOrder():i.children;c&&(s.children=c.map(g=>a(g,s.id,u)));let f={parentid:l,...nu(i,o,t)};if(Oe(i)&&!Fe(i)&&Object.assign(f,{replicaInfo:void 0,originalid:void 0,...i.replicaInfo.overrides[i.replicaInfo.master],_deleted:void 0}),n&&Object.assign(f,{duplicatedFrom:yc(i.duplicatedFrom,i.id)}),s.assign(f),r){if(r.has(i.id)){let g=r.get(i.id);g&&r.set(g,s.id)}r.set(i.id,s.id),i.originalid&&!r.has(i.originalid)&&r.set(i.originalid,s.id)}return s}return a(e,void 0,Fe(e))}function nu(e,o,t){return $a(e,r=>{let n=Ne(r);if(n.kind==="localModuleExport"){let a=o.get(n.localId);if(!a)return;let{moduleId:i,saveId:l,file:u}=Ne(a);return fs(n,i,l,u).value}if(n.kind==="externalModuleExport"){let a=t.get(n.moduleId);return a?li(n,a).value:void 0}})}function HC(e){let o=new Map;for(let t of e)if(t.type==="local"){let r=t.moduleId;o.set(t.localId,si(r,t.saveId,t.file).value)}return o}async function Sh(e){let o=new Map;for await(let t of e)if(t.type==="local"&&t.moduleType==="css"){let r=await vh({moduleId:t.moduleId,saveId:t.saveId}),{__treeSerializationVersion:n,...a}=r,i=n||Ch,{root:l}=qs({root:a,version:i}),u=Pl(l);yt(u)&&o.set(u.id,u)}return[...o.values()]}function Th(e,o,t){let r=HC(t.imports),n=new Map,a=[];for(let i of e.walk())ja(i,l=>{let u=Ne(l);if(Ht(u)){let s=r.get(u.localId);if(!s)return;let{moduleId:c,saveId:f,file:g}=Ne(s);u=fs(u,c,f,g)}if(u.kind==="externalModuleExport"){let s=o.getPersistedModuleByGlobalId(u.moduleId);s?n.set(u.moduleId,s.localId):a.push(u)}});return{identifiers:a,localIdsToExternalIdentifiers:r,externalModuleIdsToLocalIds:n}}async function vh({moduleId:e,saveId:o}){try{return await(await fetch(`${ai().modulesCDN}/${e}/${o}/tree.json`)).json()}catch(t){Ut(t)}}async function Ih(e,o){let[t,r]=await Promise.all([vh(o),e.stores.modulesStore.getModuleDependencies(o)]);N(t,"Can't get tree.json for module identifier"),N(r,"Can't get dependencies for module identifier");let{__treeSerializationVersion:n,...a}=t,i=n||Ch,{root:l}=qs({root:a,version:i}),u=Pl(l);return N(yh(u),"Node should be un-linkable."),{node:u,dependencies:r}}async function bh(e,o,t){if(e.remoteDocument?.projectId&&o.assets.length>0)try{await e.stores.assetStore.assetService?.duplicateModuleAssets(t.moduleId,t.saveId)}catch{}}function jC(e){return Vm.has(e)}function CD(e,o){let t=Dp(e.stores.modulesStore,e.tree,o);return t?jC(t.moduleId):!1}function SD(e,o){let t=e.tree.getNodeWithTrait(o,vd);if(!t)return!0;let r=e.componentLoader.componentForIdentifier(t.codeComponentIdentifier);return!!(r&&$u(r.annotations,"framerDisableUnlink"))}var YC=ft("importExternalSmartComponentOrWebpage");function qC(e,o,t){let r=new Set(e.stores.scopeStore.getSmartComponentNodes().map(n=>n.name).filter(L));return t||o===null?Gt(t??"Component",r):Gt(o,r)}function KC(e,o){let t={...e};switch(t.name){case"convertFromBoolean":{L(t.truthy)&&(t.truthy=o.get(t.truthy)??t.truthy),L(t.falsy)&&(t.falsy=o.get(t.falsy)??t.falsy);break}case"addImageAlt":case"arrayLength":case"arrayToArray":case"contains":case"containsAll":case"containsAny":case"convertFromEnum":case"convertFromString":case"endsWith":case"enumToDisplayName":case"equals":case"extractDateSegment":case"getGridColumnCSSValue":case"getGridRowCSSValue":case"getNumericColumnGap":case"greaterThan":case"htmlEscape":case"htmlUnescape":case"isAfter":case"isBefore":case"isBetweenDates":case"isEven":case"isIncludedIn":case"isOdd":case"isSet":case"jsonStringify":case"lessThan":case"negate":case"numberToPixelString":case"numberToString":case"offsetAndLimitArray":case"percentageToCornerShape":case"prefix":case"radiusForCorner":case"reverseArray":case"startsWith":case"suffix":case"toAxisOverflow":case"toBoolean":case"toDateString":case"toggleInList":case"toImageSrc":case"toNumber":case"toOverflowWithClipFallback":case"toResponsiveImage":case"toString":case"toZIndex":{YC.reportError("remapVariantIdsInValueTransform encountered a transform that can't handle. If it mapped to component variants, they are broken and the user needs to manually remap them.",{transformName:t.name});break}default:Z(t)}return t}function iu(e,o,t,r,{insertionIndex:n,preferredName:a,enterIsolation:i=!0,localIdsToExternalIdentifiers:l=new Map,externalModuleIdsToLocalIds:u=new Map,instance:s,renamedIds:c=new Map,isAutoDetach:f=!1,intrinsicSize:g,textStylePresets:y,linkStylePresets:S,inlineCodeStylePresets:v,pastedPresetMap:F=new Map,shouldPasteTextStyles:D=!1,reusePresetWithSameId:k,abTesting:j=!1,cloneWithScopeIds:M=!1}={}){let U=f?Ta.createWithRouteSegmentRoot():e.tree,K={children:[]};if(w(o)){let _=o.id===e.tree.root.homePageNodeId?"Home":Xt(e.tree,o),{suggestedName:ae,path:X}=Yl(a??_??"Page",e.tree,e.componentLoader,o,!0);K.pagePath=X,K.name=ae}else K.name=qC(e,o.resolveValue("name"),a);let G;M?G=o.cloneWithIds(K):(G=o.clone(K),c.set(o.id,G.id)),Te(o)&&Km({componentId:G.id,source:r});let oe=G.instanceIdentifier,ve=nu(G,l,u);ve&&G.set(ve);let z=ge(t),Ae=$n(t,l,u,c,z),Ie=[Ae];G.baseVariantId=Ae.id,G.addChild(Ae);for(let _ of o.children)if(!(_.id===t.id||vr(_)))if(Oe(_)&&Fe(_)){let ae=Br(_.replicaInfo.overrides,c,!0);if(pe(_)){ae[Ae.id]??={};let ke=ae[Ae.id];ke.top=_.top,ke.left=_.left,ke.right=_.right,ke.bottom=_.bottom,ke.centerAnchorX=_.centerAnchorX,ke.centerAnchorY=_.centerAnchorY}let X=J.create(e.tree,Ae,{overrides:ae,duplicatedFrom:mn(_)});c.set(_.id,X.id),Ie.push(X),G.addChild(X)}else{let ae=$n(_,l,u,void 0,z);Ie.push(ae),c.set(_.id,ae.id),G.addChild(ae)}U.insertNode(G,void 0,n);for(let _=0;_<o.children.length;_++){let ae=o.children[_];if(!vr(ae))continue;let X=J.create(U,Ae,{overrides:Br(ae.replicaInfo.overrides,c,!0),inheritsFrom:c.get(ae.replicaInfo.inheritsFrom),duplicatedFrom:mn(ae)});c.set(ae.id,X.id),Ie.push(X),U.insertNode(X,G.id,_)}let Vt=wa(U);for(let _ of Ie){if(To(U,e.componentLoader,_,c,!1),!y&&!S&&!v)continue;let ae=[];for(let X of _.walk())_e(X)&&ae.push(X);for(let X of ae){let ke=X.getStylePresetIdsForCodeGeneration();if(S&&uh({engine:e,node:X,pastedPresetMap:F,stylePresetNodes:S}),v&&dh({engine:e,node:X,pastedPresetMap:F,stylePresetNodes:v}),y){if(D)lh({engine:e,node:X,pastedPresetMap:F,stylePresetNodes:y,shouldDetachTextStyles:!1,shouldCreateNewPresets:D,reusePresetWithSameId:k});else for(let Et of y)if(ke.has(Et.id))if(w(o)&&ge(_)){if(At(_)){let Tt=jn(y,Et);Ha(U,Ae,X,Tt,Et)}}else(At(_)||Me(U,X,"html"))&&X.detachTextStylePreset(Et,!1)}}for(let X of ae){Me(U,X,"html")&&(X.remapTextStylePresets((ke,Et)=>{let Tt=Xc(Et)?Et:"p",it=X.getNodeTextStylePreset(U,Tt)??fa(U,Tt)??Jc.createDefault(Tt);return sm(e,it),it}),X.remapLinkStylePresets(()=>{let ke=X.getNodeLinkStylePreset(U)??im(U)??Qp.createDefault();return am(e,ke),ke}),X.remapInlineCodeStylePresets(()=>{let ke=X.getNodeInlineCodeStylePreset(U)??rm(U)??new Hp;return nm(e,ke),ke}));for(let ke in Vt)Me(U,X,ke)&&X.set({[ke]:Vt[ke]})}}let{codeGenerationStore:to}=e.stores;for(let _ of F.values())xe(_)||to.createModuleFromComponentSource(_).catch(Ut);if(f)return U.commit(e.componentLoader),G.draftOrCurrent();{let _=U.get(G.baseVariantId);if(_&&St(_))for(let ae of G.children)an(ae)&&ae.replicaInfo.master===_.id&&J.registerInInheritedNode(_,ae)}e.scheduler.process(()=>{if(!s)return;let _=e.tree.current(s)?.codeComponentIdentifier;if(_)for(let ae of e.stores.treeStore.treeIndex.codeComponentNodeIds){let X=e.tree.getNodeWithTrait(ae,Q);if(!X||X.codeComponentIdentifier!==_)continue;let ke={},Et={},Tt=X.getRawControlProps();if(Tt.variant?.value&&L(Tt.variant.value)){let it=c.get(Tt.variant.value)??Ae.id,oo={type:"enum",value:it};ke.variant=oo}else if(Tt.variant?.value&&io(Tt.variant.value)){let it=Tt.variant.value,oo=it.transforms.map(ti=>KC(ti,c)),Xo={type:"enum",value:{...it,transforms:oo}};ke.variant=Xo}for(let it of ou){let oo=X[it];L(oo)&&(Et[it]=c.get(oo)??void 0)}Wo(e.tree,X).forEach(({relatedNode:it,replicaRoot:oo})=>{let Xo=oo.replicaInfo.overrides[it.originalid];if(!Xo)return;let ti={};for(let ri of ou){if(!(ri in Xo))continue;let cs=Xo[ri];L(cs)&&(Et[ri]=c.get(cs)??void 0)}if(it.set(ti),!(Ee("variant")in Xo))return;let oi=it.getRawControlProp("variant");if(!oi||!L(oi.value))return;let ds=c.get(oi.value);if(!ds)return;let xu={type:"enum",value:ds};it.set(Ir({variant:xu}))}),X.set({codeComponentIdentifier:oe,...Et,...Ir(ke)})}});let gr=to.createModuleFromComponentSource(G,g);if(s&&gr.then(e.scheduler.wrapHandler(()=>{if(s=e.tree.get(s?.id),!s)return;let _=e.stores.treeStore.tree.getScopeNodeFor(s)?.loaded;if(!_||!wo(_))return;let ae=e.stores.treeStore.tree.get(_.baseVariantId);ae&&St(ae)&&to.updateComponent(_.id).catch(Ut)})).catch(Ut),i&&(e.stores.chromeStore.contentPanelTab="Layers",e.stores.scopeStore.select(G.id,{keepHistory:!0})),w(G)&&!j){N(L(K.pagePath),"pagePath should be a string");let _=fh(e.tree,o.id),ae=q(_)?_+1:void 0;mh(e.tree,e.componentLoader,G,G.dataIdentifier,K.pagePath,{positionInParent:ae})}return G.draftOrCurrent()}async function Nh(e,{identifier:o,enterIsolation:t,instance:r,isAutoDetach:n,renamedIds:a=new Map,info:i}){let{node:l,dependencies:u}=await Ih(e,o);N(Ba(l),"Should be a generated node.");let s=e.tree.get(r?.getPrimaryId());N(!s||Q(s),"instance should be a code component.");let c=l.children.find(D=>D.id===l.baseVariantId);N(c&&St(c),"Unlink: Can't unlink a tree which doesn't have a Primary Variant node");let{identifiers:f,localIdsToExternalIdentifiers:g,externalModuleIdsToLocalIds:y}=Th(l,e.stores.modulesStore,u);if(await Jf(f.map(D=>D.value),e.stores.modulesStore,e.componentLoader),f.some(D=>{let k=e.componentLoader.dataForIdentifier(D.value);return k?Wc(k):!1})){ba({type:"add",variant:"info",primaryText:"Remove references",secondaryText:"before unlinking."});return}let v=await Sh(u.imports);return await bh(e,u,o),await e.stores.modulesStore.addExternalModulesToProject(f,{onTreeUpdate:()=>{let D=e.tree.current(s),k=$s(i.module.metadata.intrinsicWidth,!0)??200,j=$s(i.module.metadata.intrinsicHeight,!0)??200,M=iu(e,l,c,"unlink",{enterIsolation:t,localIdsToExternalIdentifiers:g,externalModuleIdsToLocalIds:y,instance:D,renamedIds:a,isAutoDetach:n,intrinsicSize:{width:k,height:j},textStylePresets:v});return D&&Te(M)&&eh(e,D,M),M}})}async function pR(e,o){let t=await Nh(e,o);if(!t)return;N(Te(t),"node should be a smart component");let{isAutoDetach:r}=o;return r||await e.stores.codeGenerationStore.untilCompiled(t.id),t.draftOrCurrent()}async function mR(e,o){let[t]=await e.stores.modulesStore.preloadExternalModules([o]);if(!t)return;let r=await Nh(e,{identifier:o,enterIsolation:!1,info:t});N(w(r),"node should be a web page");let{path:n,suggestedName:a}=Yl(r.resolveValue("name")??"Page",e.tree,e.componentLoader,r,!0);return e.scheduler.processWhenReady(()=>{e.tree.current(r)?.set({name:a,pagePath:n});let i=e.stores.scopeStore.active;ih(i)&&ah(e,i,r),e.stores.scopeStore.select(r.id,{keepHistory:!1})}),r}function TR(e,o,t,r){let n=t===sr,a=lr.get(e.tree,o,n);if(we(a)){qa(e,t,r);return}a.parentid&&qa(e,a.parentid,r)}function qa(e,o,t){let r=e.tree.get(o);if(we(r))return;if(yn(r)){xh(e,r.id),e.stores.chromeStore.expandAssetEntityItem(r.id,t);return}if(!kt(r))return;let n=new Set;n.add(o);for(let a of r.ancestors())yn(a)?(n.add(a.id),xh(e,a.id)):kt(a)&&n.add(a.id);e.stores.chromeStore.expandAssetEntityItems(n,t)}function xh(e,o){switch(o){case sr:e.stores.chromeStore.codeFilesExpanded||e.stores.chromeStore.toggleCodeFiles();break;case Yi:e.stores.chromeStore.componentsExpanded||e.stores.chromeStore.toggleComponents();break;case qi:e.stores.chromeStore.layoutTemplatesExpanded||e.stores.chromeStore.toggleLayoutTemplates();break;case hn:e.stores.chromeStore.vectorSetsExpanded||e.stores.chromeStore.toggleVectorSets();break;case Oc:case Gc:case Uc:case _c:case Hc:case jc:e.stores.chromeStore.stylesExpanded||e.stores.chromeStore.toggleStyles();break;case Qs:case gn:break;default:Ku(o)}}function au(e,o,t){return e.root.homePageNodeId===o.id?"Home":o.dataIdentifier?t?`${t.name} Pages`:"No Name":sa(e,o)||Ap}function XC(e,o,t){let r=Ze(t)?o.dataForIdentifier(t.dataIdentifier):null;return au(e,t,r)}function xR(e,o,t){let r=e.get(t);return w(r)?XC(e,o,r):"Missing"}var Fh=function(e,o,t){let r=e.tree.getNodeWithTrait(o,w);if(!r||(r.abTestingParentId&&(r=e.tree.getNodeWithTrait(r.abTestingParentId,w)),!r))return;let n=r.getAbTestingFunnel(t);if(n)return n.id;let a=Ze(r)?e.componentLoader.dataForIdentifier(r.dataIdentifier):null,i=au(e.tree,r,a),l=new Gp({name:Ho(i),abTestingParentId:r.id}),u=new Up({name:`View ${i}`}),s=new _p({trackingEventType:"pageview",trackingRoutePath:Xt(e.tree,r)});return u.addChild(s),l.addChild(u),e.tree.insertNode(l,t.id),Nf(e.tree,gn,l.id),ze("funnel_create",{funnelId:l.id,abTestingParentId:r.id}),ze("funnel_step_create",{funnelId:l.id,stepId:u.id,eventType:"pageview",actionCount:1}),l.id};function Eh(e,o,t){let r=o.getAbTestingChildren(e.tree)??Uu(),n;for(let l=0;l<=r.length;l++){let u=l===0?"Variant":`Variant ${l}`;if(r.every(s=>s.name!==u)){n=u;break}}let a=r[r.length-1]??o,i=iu(e,o,o.getPrimaryVariant(),"duplicate",{enterIsolation:!1,preferredName:n,insertionIndex:e.tree.root.children.findIndex(l=>l.id===a.id)+1,abTesting:!0});if(i.set({abTestingParentId:o.abTestingParentId??o.id,abTestingDistributionWeightPpm:ym().abTestingDistributionWeightPpm,isDraft:void 0}),ze("ab_variant_create",{pageId:i.id,abTestingParentId:o.abTestingParentId??o.id}),e.stores.scopeStore.select(i.id,{keepHistory:!1}),e.stores.chromeStore.contentPanelTab="Pages",!o.abTestingParentId){let l=fo(e.tree,o.id)?.id??uc;l&&e.stores.chromeStore.expandRouteSegment(l)}if(t){let l=Xi.ensure(e.tree);e.loadScopesThenProcess([l],([u])=>{if(!u)return;let s=Fh(e,o.id,u);if(s){let c=Oo(s),f=e.tree.get(c);f&&e.tree.moveNode(f,t),qa(e,t,!1)}})}}function Ah(e,o,t,r){if(Xf(e,r,{isAddingTest:!1})||Qf(e,r))return;let n=o.getAbTestingFunnel(t)?.status===2,a=e.scheduler.wrapHandler(()=>Eh(e,o));if(!n)return a();e.stores.modalStore.set({type:"ConfirmUpdatingAbVariants",source:r,title:"Updating Variants",description:"Updating variants while running an A/B test could potentially skew your results.",confirmLabel:"Confirm",onConfirm:a,variant:"destructive"})}function kh(e){if(e!==void 0)switch(e){case 2:return"auto";case 0:return"fixed";case 3:return"fraction";case 1:return"percentage";case 4:return"viewport";case 5:return"fit-image";default:Z(e)}}function Dh(e,{widthType:o,heightType:t},r){if(!pe(e))return;let n=o!==void 0&&e.widthType!==o,a=t!==void 0&&e.heightType!==t;!n&&!a||Qm({widthType:kh(o),heightType:kh(t),source:r,nodeType:e.__class,componentId:Q(e)?e.codeComponentIdentifier:void 0})}function su(e){if(!Be(e)||de(e))return 0;let o=0,t=e.children.length;return o+=t,e.children.forEach(r=>{o+=su(r)}),o}function Rh(e,o,t,r,n){let a=Ma(r,t),i=new Map(Object.entries(a)),l=new Map;l.set(n,i);let u={};for(let s of e.walk()){let c=pa(o,n,s,l);c&&(u[s.getPrimaryId()]=c)}return u}function Lh(e){let{left:o,top:t,right:r,bottom:n,centerAnchorX:a,centerAnchorY:i,constraintsLocked:l,width:u,widthType:s,height:c,heightType:f,aspectRatio:g,name:y,...S}=e;return S}function Vh(e,o){let t=e.getPropertyControlsForIdentifier(o.codeComponentIdentifier);if(!t)return;let r={},n=Object.keys(t);for(let a of n){let i=t[a];if(!i||i.type!=="eventhandler")continue;let l=o.getRawControlProp(a);if(!l)continue;let{value:u}=l;!Array.isArray(u)||u.length===0||(r[a]=u)}return r}function Ka(e,{opacity:o,rotation:t}){if(Se(o))e.opacity=o;else if(e?.opacity||o){let r=q(o)?o:1;e.opacity=(e.opacity??1)*r}if(Se(t))e.rotation=t;else if(e?.rotation||t){let r=q(t)?t:0;e.rotation=(e.rotation??0)+r}}function DL(e){return e.every(o=>ie(o)||dt(o)||Q(o))}function RL(e,o,t){return t?!1:o.every(r=>{if(!ie(r)&&!Q(r)&&!_e(r)||ge(r)||ie(r)&&Ar(r).length===0)return!1;if(Q(r)){let n=r.getSupportedLayout(e);if(!xo(n.width)||!xo(n.height))return!1}return r.widthType!==2||r.heightType!==2})}function wh(e,o,t){for(let r of o)if(dt(r)||Q(r))r.set({widthType:2,heightType:2}),dt(r)&&t&&ze("layout_fit_text",{source:t});else if(ie(r)){let n={widthType:2,heightType:2,aspectRatio:null};so(r)||_a(e,r,n),eu(e.tree,"width",r),eu(e.tree,"height",r),Wp(r)&&(n.framePreset=null),r.set(n),t&&ze("layout_stack",{layoutType:"stack",source:t})}}var QC=/([a-z]+)([\dA-Z]+)/gu;function JC(e){return e.replaceAll(QC,(o,t,r)=>`${t}_${r.toLowerCase()}`)}function lu(e){return Object.fromEntries(Object.entries(e).map(([o,t])=>[JC(o),t]))}var $o=ft("ChatStreamer"),ZC="/ai/v2/chat/",Bh=-1,eS=qe(),Xa=class{constructor(o){this.type=o;B(this,"streamID","");B(this,"subscribers",new Set);B(this,"currentStream");B(this,"abortController");B(this,"cancel",()=>{this.abortController&&($o.debug("Stream",this.streamID,"cancelled"),this.abortController.abort(),this.abortController=void 0)})}async start({model:o,user:t,messages:r,responseFormat:n,reasoning:a,onText:i}){this.cancel(),Bh++,this.streamID=`${eS}-${Bh}-${this.type}`,this.emitChatEvent({type:"start",streamID:this.streamID,messages:r});let l=!1,u=y=>{let S;lt(y)&&L(y.message)?S=y.message:S=String(y),l||(l=!0,this.emitChatEvent({type:"done",streamID:this.streamID,error:S})),$o.warn("ChatStreamer error:",y)},s=()=>{l||(l=!0,this.emitChatEvent({type:"done",streamID:this.streamID}))};this.abortController=new AbortController;let c="",f=n?lu(n):void 0,g=lu({messages:r,model:o,stream:!0,user:t,responseFormat:f,reasoning:a});this.currentStream=Wm.postStream(ZC,{signal:this.abortController.signal,openWhenHidden:!0,onclose:()=>{if(l)return;l=!0;let y="Chat stream closed before done";throw new Error(y)},onerror:y=>{throw l=!0,y},onmessage:y=>{if($o.trace(y.event,y.id,y.data),y.data==="[DONE]"){$o.debug("ChatStreamer finished with content:",c),s();return}if(y.data.length===0){$o.debug("ChatStreamer stream empty");return}let S=JSON.parse(y.data);if("error"in S){let D=S.error,k=JSON.parse(D.metadata.raw);$o.error(`ChatStreamer error '${D.message}' with code`,D.code,"and raw error",k);return}let v=S.choices[0];if(!v)return;v.finish_reason&&$o.debug("Finishing chat completion with reason:",v.finish_reason);let{content:F}=v.delta;F&&(c+=F,this.emitChatEvent({type:"stream",streamID:this.streamID,content:F}),i(F))}},g);try{await this.currentStream}catch(y){throw u(y),y}finally{this.currentStream=void 0,this.abortController=void 0}return c}get isFinished(){return ne(this.currentStream)}async waitUntilFinished(){await this.currentStream}subscribeChatEvent(o){return this.subscribers.add(o),()=>{this.subscribers.delete(o)}}emitChatEvent(o){this.subscribers.forEach(t=>{try{t(o)}catch(r){$o.error(r)}})}};function Wh(e){switch(e){case" ":case`
`:case"\r":case"	":case"\f":case"\v":return!0;default:return!1}}var eo=class eo{constructor(o,t){this.separator=o;this.onAnnotation=t;B(this,"buffer","");B(this,"scanIndex",0);B(this,"inQuote",null);B(this,"text","");B(this,"inAnnotation",!1);B(this,"annotationBuffer","");B(this,"atCommandBoundary",!0)}append(o){this.text+=o,this.buffer+=o}getText(){return this.text}process(){for(;this.scanIndex<this.buffer.length;){if(this.inAnnotation&&!this.tryCloseAnnotation())return;if(this.inAnnotation)continue;let o=this.buffer[this.scanIndex]??"";if(o==='"'||o==="'"){this.isEscaped(this.scanIndex)||(we(this.inQuote)?this.inQuote=o:this.inQuote===o&&(this.inQuote=null)),this.atCommandBoundary=!1,this.scanIndex++;continue}if(this.tryOpenAnnotation())continue;if(this.shouldWaitForAnnotationStart())return;let t=this.tryExtractCommand();if(!ne(t))return t;if(we(this.inQuote)&&this.separator.length>1&&this.scanIndex>=this.buffer.length-this.separator.length+1)return;this.atCommandBoundary&&=Wh(o),this.scanIndex++}}tryCloseAnnotation(){let o=this.buffer.indexOf(eo.annotationEnd,this.scanIndex);if(o<0){let n=this.buffer[this.buffer.length-1]==="*"?this.buffer.length-1:this.buffer.length;return n>this.scanIndex&&(this.annotationBuffer+=this.buffer.slice(this.scanIndex,n),this.scanIndex=n),this.compactConsumedPrefix(),!1}this.annotationBuffer+=this.buffer.slice(this.scanIndex,o),this.scanIndex=o+eo.annotationEnd.length,this.inAnnotation=!1,this.emitAnnotation();let t=this.skipWhitespace(this.scanIndex);return this.buffer.startsWith(this.separator,t)&&(t+=this.separator.length),this.scanIndex=t,this.atCommandBoundary=!0,this.compactConsumedPrefix(),!0}tryOpenAnnotation(){return!we(this.inQuote)||!this.atCommandBoundary||!this.buffer.startsWith(eo.annotationStart,this.scanIndex)?!1:(this.inAnnotation=!0,this.annotationBuffer="",this.scanIndex+=eo.annotationStart.length,!0)}shouldWaitForAnnotationStart(){if(!we(this.inQuote)||!this.atCommandBoundary)return!1;let o=this.buffer.length-this.scanIndex;if(o>=eo.annotationStart.length)return!1;for(let t=0;t<o;t++)if(this.buffer[this.scanIndex+t]!==eo.annotationStart[t])return!1;return!0}tryExtractCommand(){if(!we(this.inQuote)||!this.buffer.startsWith(this.separator,this.scanIndex))return;let o=this.buffer.slice(0,this.scanIndex).trim();return this.buffer=this.buffer.slice(this.scanIndex+this.separator.length),this.scanIndex=0,this.atCommandBoundary=!0,o}isEscaped(o){let t=0,r=o-1;for(;r>=0&&this.buffer[r]==="\\";)t++,r--;return t%2===1}finalize(){this.buffer.trim().length!==0&&(this.buffer.endsWith(this.separator)||(this.buffer+=this.separator,this.text+=this.separator))}emitAnnotation(){let o=this.annotationBuffer.trim();this.annotationBuffer="",o.length>0&&this.onAnnotation?.(o)}skipWhitespace(o){let t=o;for(;t<this.buffer.length&&Wh(this.buffer[t]??"");)t++;return t}compactConsumedPrefix(){this.scanIndex!==0&&(this.buffer=this.buffer.slice(this.scanIndex),this.scanIndex=0)}};B(eo,"annotationStart","/**"),B(eo,"annotationEnd","*/");var uu=eo,Qa=class{constructor(o,t,r,n,a){this.separator=o;this.parseCommand=t;this.onCommand=r;this.onAnnotation=n;this.onError=a;B(this,"buffer");B(this,"commands",[]);this.buffer=new uu(o,this.onAnnotation)}addToken(o){return this.buffer.append(o),this.processBuffer(),this.buffer.getText()}processBuffer(){let o;for(;(o=this.buffer.process())!==void 0;)try{let t=this.parseCommand(o);this.commands.push(t),this.onCommand(t,o)}catch(t){this.onError?.(o,t)}}finalizeStep(){this.buffer.finalize(),this.processBuffer()}finalize(){return this.buffer.finalize(),this.processBuffer(),{commands:this.commands,text:this.buffer.getText()}}};var tS=ft("renameLayers"),oS=`Propose names for the elements in provided React JSX fragment of a web site.

**Naming Rules:**
1. Never use an ancestor's name in a descendant's name. A descendant's name must never repeat any part of its ancestors name.
    - INCORRECT: "Pricing Plans", "Pricing Plans Icon", "Pricing Plans Title"
    - CORRECT: "Pricing Plans", "Icon", "Title"
2. Evaluate the entire fragment, paying special attention to the text in the children of RichText components, to determine the theme of the content, e.g. "Savings Goals" or "Pricing Plans", and use this to inform the individual names.
3. When an element is a layout wrapper (e.g., flex, grid), describe its function or structure. Use this to replace generic wrappers like 'Body,' 'Content,' or 'Group.' (Example: '2x2 Grid,' 'Info Stack,' 'Action Bar'). (Never: 'Icon Flex,' 'Details Group').
4. Titles should be short. Aim for 1 word (80%). Use 2-3 words only when necessary (20%).
5. All names must use Title Case, including spaces.
6. Ignore "*-container" suffixes.
7. Ignore the attribute value of data-framer-name="*".

**Response Format:**
- Respond with a single line of text.
- Do not include any other text, explanation, or preamble.
- The line must be a list of "class-name Proposed Name" pairs separated by semicolons.
- The class name must be the class name of the JSX element.

**Example Output:**
framer-asifd Title; framer-adfda Content; framer-fdsafd Footer; framer-aht4dq Submit Button;
`,rS=";",nS=Ea.object({className:Ea.string(),name:Ea.string()});function iS(e){let o=e.trim();N(o.length>0,"Trimmed result is empty");let[t,...r]=o.split(" ");return nS.parse({className:t,name:r.join(" ")})}function aS(e){return bt(e)||w(e)||Pt(e)||Te(e)||gt(e)}async function Mh(e,o){let t=performance.now(),r=0,n=e.stores.scopeStore.active;if(aS(n))try{e.scheduler.process(()=>e.beginUndoGroup());for(let a of e.tree.withoutDescendants(o)){let{jsx:i,ctx:l}=await _m(a,n,{componentLoader:e.componentLoader,modulesStore:e.stores.modulesStore,treeStore:e.stores.treeStore,engineChanges:e.scheduler.changes,assetMap:e.stores.assetStore.assetMap},void 0,"",!0);if(!i)continue;let u=new Qa(rS,iS,s=>{e.scheduler.processWhenReadyAsync(()=>{let{className:c,name:f}=s,g=e.tree.get(l.css.getNodeIdForClassName(c));!g||!ea(g)||Ke(g)||ge(g)||L(g.name)||(g.set({name:Ac(f)}),r++)})});await new Xa("renameLayers").start({model:"google/gemini-2.5-flash",messages:[{role:"system",content:oS},{role:"user",content:`\`\`\`
${i.toString()}\`\`\``}],onText:s=>u.addToken(s)}),u.finalize()}}catch(a){throw tS.error("Failed to generate layer names:",a),a}finally{await e.scheduler.processWhenReadyAsync(()=>e.endUndoGroup()),ze("rename_layers",{duration:performance.now()-t,count:r})}}function lV(e){return Oe(e)&&!Fe(e)}function uV(e){return xe(e)&&!ut(e)}function zh(e){return Ge(e)&&!ut(e)}function Oh(e,o){return mi(o)&&(ft("app").warn("Inserting a symbol is no longer supported."),o.isMaster=!1,o.replicaInfo=null,o.originalid=null),N(!e.tree.has(o.id),"Tree should not contain node with same id as inserted template"),e.stores.scopeStore.insertNode(o),o}function Uh(e){let o={width:200,height:200,codeComponentIdentifier:e.identifier,intrinsicWidth:null,intrinsicHeight:null,slotsAreChildNodes:Xe.isOn("componentSlotsAreChildNodes")},{defaultProps:t,annotations:r}=e;if(t!==void 0&&(gs(t.width)&&(o.width=t.width,o.intrinsicWidth=t.width),gs(t.height)&&(o.height=t.height,o.intrinsicHeight=t.height)),r){let n=op(r);n.width&&(o.width=n.width),n.height&&(o.height=n.height)}return new xn(o)}function NV(e){return e.sort(sS)}var Gh=new Map;function _h(e){let o=Gh.get(e);if(o)return o;let t=e.split("/").map(r=>r.trim()).join("");return Gh.set(e,t),t}function sS(e,o){if(e.name===null)return-1;if(o.name===null)return 1;let t=_h(e.name),r=_h(o.name);return t.localeCompare(r,void 0,{numeric:!0})}function xV(e){if(qu(e)&&e.file==="./canvas.tsx"||e.identifier==="framer/Stack")return!1;let o=Ne(e.identifier);return Ht(o)&&o.type==="screen"?!1:e.type==="component"||e.type==="master"}function FV(e){let o=e.split("/"),t=o[o.length-1];return N(Fo(t),"Last section is required"),t.trim()}function EV(e,o,t){return o.name?o.name:t?So(e,t):"Unknown"}function Hh(e,{allowVariants:o,allowLockedNodes:t}={}){return!t&&_o(e)||At(e)||!o&&(Fe(e)||ut(e))||zh(e)||Ts(e)||de(e)||Id(e)?!1:pe(e)}async function dw(e,o,t,r){function n(){cS(e,[o],t,r)}if(!Q(t)){n();return}let a=Ne(t.codeComponentIdentifier);if(!a||a.kind!=="externalModuleExport"){n();return}await e.stores.modulesStore.addExternalModulesToProject([a],{onTreeUpdate:n})}function lS(e,o,t){if(!Fc(o))return;let r=xc(e.tree,o);if(!Te(r))return;N(r.isLoaded(),"smart component must be loaded"),t.set({formSubmitButtonId:o.id});let n=r.getPrimaryVariant();r.getReplicaVariants().forEach(a=>{J.resetOverridesByProperty(e.tree,a,a,["htmlTag","link"])}),pp(n)&&n.set({htmlTag:"button",link:void 0})}function uS(e,o,t){if(!Q(e)||!Q(o)||!e.cache.formContainerAncestorId)return;let r=t.tree.get(e.cache.formContainerAncestorId);Oi(r)&&lS(t,o,r)}function dS(e,o,t){let r=up(t.tree,e);r&&dp(e,r)&&r.set({dataSourceLoaderId:o.id})}function cS(e,o,t,r){let n={},a=new Set;o.forEach(i=>{let l=null;if(Ge(i)){if(!Dt(i))return;let S=Jt(e.tree,i),v=J.getReplicaForTemplateNode(e.tree,i);if(!S||!v||!Fe(v))return;i=S,l=v}let u=Oh(e,t);uS(i,u,e),dS(i,u,e);let s=e.tree.getNodeParent(i),c=s||e.tree.getScopeNodeFor(i)||e.stores.scopeStore.active,f=c.children.indexOf(i),g=Ga(e.tree,e.componentLoader,i,u,c);if(u.set(g),s&&go(i)&&_i(u)){u.set(Bo(i));let S=new Ya([[i.id,u.id]]);To(e.tree,e.componentLoader,s,S,Kt(s)||Hi(s)),a.add(u.id)}if(Q(u)&&mS(e.componentLoader,i,u,new Set(Object.keys(g))),Oe(i)&&!Fe(i)&&Q(u)&&pS(e,i,u),fS(e,c,i,u),Be(i))for(let S of i.children)Kt(S)&&e.moveNode(S.id,u.id);e.deleteNode(i.id),e.moveNode(u.id,c.id,f);let y=hS(e.tree,e.componentLoader,i,u);pe(u)&&y&&(r?e.tree.current(u)?.set({left:y.left,right:y.right,top:y.top,bottom:y.bottom,centerAnchorX:y.centerAnchorX,centerAnchorY:y.centerAnchorY}):e.tree.current(u)?.set(y)),l?n[i.id]=Rt(l.id,u.id):n[i.id]=u.id});for(let i of e.stores.selectionStore.ids)a.add(n[i]??i);e.stores.selectionStore.set(Array.from(a))}function pS(e,o,t){if(Fe(o))return;let r=t.getLocalSmartComponentNodeId();if(!r)return;let n=e.tree.getNode(r);if(!(!n||!Te(n))&&n.originalSymbolId===o.replicaInfo.master){for(let a of o.walk())if(!(!Mp(a)||!a.isTarget)&&a.originalid){if(ie(a)&&a.fillType==="image"&&L(a.fillImage)){let i=t.getRawControlProp(`symbol_${a.originalid}`);i&&i.type==="image"&&(i.value=a.fillImage)}else if(Ts(a)){let i=t.getRawControlProp(`symbol_${a.originalid}`);i&&i.type==="string"&&(i.value=a.styledText.text)}}}}function mS(e,o,t,r){let n;e:for(let i of o.walk()){if(!xr(i)&&!Q(i))continue;let l=ra(e,i);for(let[,u]of Object.entries(l))if(n===void 0)n=u;else if(n){n=null;break e}}if(!n)return;let a=e.componentForIdentifier(t.codeComponentIdentifier);if(a?.properties)for(let i in a.properties){if(r?.has(i)||a.properties[i]?.type!=="eventhandler")continue;let u={type:"eventhandler",value:n};t.set({[Ee(i)]:u});return}}function fS(e,o,t,r){let n=o?Xr(o):null;if(!n||!St(n))return;let a=e.tree.getSmartComponentNodeFor(n);if(a)for(let i of a.getReplicaVariants()){let l=i.replicaInfo;if(!(t.id in l.overrides))continue;let u={...l};u.overrides={...u.overrides};let s={},c=u.overrides[t.id];for(let f in c){let g=c[f];if(f==="_deleted"){if(!Ye(g))continue;let y=g.filter(S=>S in r);y.length&&(s._deleted=y)}else f in r&&(s[f]=g)}delete u.overrides[t.id],u.overrides[r.id]=s,e.tree.current(i)?.set({replicaInfo:u})}}function hS(e,o,t,r){if(!pe(t)||!pe(r))return;let n=t.constraintValues();if(pn(t)&&pn(r)&&(pc(t)&&(n.gridItemFillCellWidth=!0),cc(t)&&(n.gridItemFillCellHeight=!0)),!Q(r))return n;if(rp(t)){let a=r.getSupportedLayout(o),i=e.getRect(t);t.widthType===2&&!xo(a.width)&&(n.widthType=0,n.width=i.width),t.widthType===5&&(n.widthType=xo(a.width)?2:0),t.heightType===2&&!xo(a.height)&&(n.heightType=0,n.height=i.height),t.heightType===5&&(n.heightType=xo(a.height)?2:0)}return n}function cw(e){return Yu(e)?Uh(e):null}var jh=ii(bd(),1);function $h(e){let o={};for(let t of e.walk()){let r={};Lt(t)&&(r.strokeDashArray=t.strokeDashArray,r.strokeDashOffset=t.strokeDashOffset,ue(t.strokeWidth)||(r.strokeWidth=t.strokeWidth)),tr(t)&&(r.boxShadows=t.boxShadows),Vo(t)&&(r.radius=t.radius),Zo(t)&&(r.radiusTopLeft=t.radiusTopLeft,r.radiusTopRight=t.radiusTopRight,r.radiusBottomRight=t.radiusBottomRight,r.radiusBottomLeft=t.radiusBottomLeft),Zr(t)&&(r.pathSegments=t.pathSegments),Ot(t)&&t.fillType==="image"&&t.fillImageResize==="tile"&&(r.fillImageTileSize=t.fillImageTileSize??1),o[t.id]=r}return(0,jh.Map)(o)}function du(e,o,t){o.forEach((r,n)=>{let a=e.getNode(n);if(!a)return;let i={};Lt(a)&&(q(r.strokeWidth)&&(i.strokeWidth=mt(r.strokeWidth*t,2)),L(r.strokeDashArray)&&(i.strokeDashArray=yS(r.strokeDashArray,t)),q(r.strokeDashOffset)&&(i.strokeDashOffset=mt(r.strokeDashOffset*t,2))),_d(a)&&Wd(r.boxShadows)&&(i.boxShadows=gS(r.boxShadows,t)),Vo(a)&&(q(r.radius)&&(i.radius=mt(r.radius*t,2)),q(r.radiusTopLeft)&&(i.radiusTopLeft=mt(r.radiusTopLeft*t,2)),q(r.radiusTopRight)&&(i.radiusTopRight=mt(r.radiusTopRight*t,2)),q(r.radiusBottomRight)&&(i.radiusBottomRight=mt(r.radiusBottomRight*t,2)),q(r.radiusBottomLeft)&&(i.radiusBottomLeft=mt(r.radiusBottomLeft*t,2))),Zr(a)&&r.pathSegments&&(i.pathSegments=a.pathSegments.map((l,u)=>{let c=r.pathSegments[u].radius*t;return l.merge({radius:c})})),Ot(a)&&q(r.fillImageTileSize)&&(i.fillImageTileSize=r.fillImageTileSize*t),a.set(i)})}function gS(e,o){if(!(!e||ue(e)))return e.map(t=>ki(t,{x:mt(t.x*o,2),y:mt(t.y*o,2),blur:mt(t.blur*o,2),spread:mt(t.spread*o,2)}))}function yS(e,o){let t=[],r=e.split(",");for(let n of r){let a=parseFloat(n);if(!q(a))continue;let i=mt(a*o,2);t.push(i)}return t.join(", ")}function Yh(e,o){let t=e.getRect(o),r={width:t.width,height:t.height};if(!ie(o)||!ao(o))return r;let n=Ji(o);if(n.perSide)n.top&&(r.height-=n.top),n.bottom&&(r.height-=n.bottom),n.right&&(r.width-=n.right),n.left&&(r.width-=n.left);else if(n.top){let a=n.top*2;r.width-=a,r.height-=a}return r.width=Math.max(1,r.width),r.height=Math.max(1,r.height),r}function Hw(e,o,t,r){e.getNodesWithTrait(t,Ke).forEach(a=>{let{descendantPaths:i}=Gn(o,a,!0,t),l=i.valueSeq().toArray(),u=rt.boundingBox(l),s={...u};r==="horizontal"?(s.x=u.x+u.width,s.width=-u.width):(s.y=u.y+u.height,s.height=-u.height);let c=s.width>-1&&s.width<1?1:s.width,f=s.height>-1&&s.height<1?1:s.height,g=[u.x,u.x+u.width],y=[s.x,s.x+c],S=[u.y,u.y+u.height],v=[s.y,s.y+f],F=c/u.width,D=f/u.height;i.forEach((k,j)=>{let M=k.pathSegments.map(z=>z.merge({x:st(z.x,g,y,!1),y:st(z.y,S,v,!1),handleOutX:z.handleOutX*F,handleOutY:z.handleOutY*D,handleInX:z.handleInX*F,handleInY:z.handleInY*D}));N(o.tree===e);let U=e.get(j);if(!U)return;let K={pathSegments:M,pathClosed:U.pathClosed},oe={pathSegments:jo(e,U,[K])[0],pathClosed:U.pathClosed},ve=U.updateForPath(oe);U.set(ve)})})}function jw(e,o,t){let{tree:r}=e;o.forEach(n=>{let a=r.getRect(n),i=t(a);if(i.width&&i.width<1&&(i.width=1),i.height&&i.height<1&&(i.height=1),de(n))CS(e,n,i);else if(zo(n))SS(e,n,i);else{let l=r.getParent(n.id),u=l?Yh(r,l):null,s=n.updateForSize(i,u?{sizing:u,positioning:u,viewport:n.cache.viewportRect,layout:Yt(l)}:null);r.current(n)?.set(s)}})}function CS(e,o,t){let{tree:r}=e,n=r.getParent(o.id),a=n?r.getRect(n):null,i=o.updateForSize(t,a?{sizing:a,positioning:a,viewport:null,layout:Yt(n)}:null);i.sizeToFit=!1,r.current(o)?.set(i)}function SS(e,o,t){let{tree:r}=e,n=r.getRect(o),a=bi.update(n,t,Fr(o)?q(o.aspectRatio):!1),i={...n,...a},l=i.width>-1&&i.width<1?1:i.width,u=i.height>-1&&i.height<1?1:i.height,s=[n.x,n.x+n.width],c=[i.x,i.x+l],f=[n.y,n.y+n.height],g=[i.y,i.y+u],y=l/n.width,S=u/n.height,{descendantPaths:v,descendantBasicShapes:F}=Gn(e,o);v.forEach((D,k)=>{let M=jo(r,o,[D])[0].map(z=>z.merge({x:st(z.x+n.x,s,c,!1)-n.x,y:st(z.y+n.y,f,g,!1)-n.y,handleOutX:z.handleOutX*y,handleOutY:z.handleOutY*S,handleInX:z.handleInX*y,handleInY:z.handleInY*S})),U=mr(r,o,{pathSegments:M,pathClosed:!0});N(e.tree===r);let K=r.get(k);if(!K)return;let oe={pathSegments:jo(r,K,U)[0],pathClosed:K.pathClosed},ve=K.updateForPath(oe);K.set(ve)}),F.forEach((D,k)=>{if(D===null)return;let U=D.map(Ie=>r.convertPointToNode(o,Ie)).map(Ie=>({x:st(Ie.x+n.x,s,c,!1)-n.x,y:st(Ie.y+n.y,f,g,!1)-n.y})).map(Ie=>r.convertPointToCanvas(o,Ie)),K=r.get(k);if(!K)return;let G=U.map(Ie=>r.convertPointToNode(K,Ie)),oe=W.boundingRectFromPoints(G),ve=W.center(oe),z=ha(K,ve),Ae={x:z.x-oe.width/2,y:z.y-oe.height/2,width:oe.width,height:oe.height};K.set(Ae)})}function qh(e,o,t,r,n,a){let{tree:i}=e,l=i.getNode(o.id),u=a.width>-1&&a.width<1?1:a.width,s=a.height>-1&&a.height<1?1:a.height,c=u/n.width,f=s/n.height;t.forEach((g,y)=>{let S=i.getNode(y);if(!S)return;let F={pathSegments:g.pathSegments.map(M=>M.merge({x:M.x*c,y:M.y*f,handleOutX:M.handleOutX*c,handleOutY:M.handleOutY*f,handleInX:M.handleInX*c,handleInY:M.handleInY*f})),pathClosed:g.pathClosed},k={pathSegments:pf(i,l,S,[F])[0],pathClosed:S.pathClosed},j=S.updateForPath(k);S.set(j)}),r.forEach((g,y)=>{if(g===null)return;let S=g.map(k=>({x:k.x*c,y:k.y*f})),v=i.getNode(y),F=S.map(k=>Vr(i,l,v,k,!1)),D=W.boundingRectFromPoints(F);e.tree.get(y)?.set(D)})}function Kh(e,o,t,r,n,a=i=>i.canvasMatrix()){let i=r.width>-1&&r.width<1?1:r.width,l=r.height>-1&&r.height<1?1:r.height,u=[t.x,t.x+t.width],s=[r.x,r.x+i],c=[t.y,t.y+t.height],f=[r.y,r.y+l],g=i/t.width,y=l/t.height,S=n?{x:0,y:0}:o.rect;o.descendantPaths&&o.descendantPaths.forEach((v,F)=>{let k=(n?v.pathSegments:Ul(o.canvasMatrix.inverse(),[v])[0]??[]).map(oe=>oe.merge({x:st(oe.x+S.x,u,s,!1)-S.x,y:st(oe.y+S.y,c,f,!1)-S.y,handleOutX:oe.handleOutX*g,handleOutY:oe.handleOutY*y,handleInX:oe.handleInX*g,handleInY:oe.handleInY*y})),j=n?{pathSegments:k,pathClosed:v.pathClosed}:{pathSegments:Ul(o.canvasMatrix,[{pathSegments:k,pathClosed:v.pathClosed}])[0]??[],pathClosed:v.pathClosed},M=e.get(F);if(!M)return;let K={pathSegments:jo(e,M,[j])[0],pathClosed:M.pathClosed},G=M.updateForPath(K);M.set(G)}),o.descendantBasicShapes&&o.descendantBasicShapes.forEach((v,F)=>{if(v===null)return;let k=(n?v:v.map(z=>nt.convertPoint(o.canvasMatrix.inverse(),z))).map(z=>({x:st(z.x+S.x,u,s,!1)-S.x,y:st(z.y+S.y,c,f,!1)-S.y})),j=n?k:k.map(z=>nt.convertPoint(o.canvasMatrix,z)),M=e.get(F);if(!M)return;let U=j.map(z=>nt.convertPoint(a(M).inverse(),z)),K=W.boundingRectFromPoints(U),G=W.center(K),oe=ha(M,G),ve={x:hs(oe.x-K.width/2),y:hs(oe.y-K.height/2),width:K.width,height:K.height};M.set(ve)})}function Qh(e,o,t,r,n){if(t!==1)for(let[a]of r.parentsInitialState){let i=r.parentsInitialState.get(a);if(!i)continue;let l=[];for(let u of o)i.selectedNodeIds.has(u.id)&&l.push(u);Zh(l,t,bS(e,a,t,r,n),!0)}}function Jh(e,o){let t=new Map,r=new Map,n={},a=new Set;for(let i of e.tree.withoutDescendants(o)){let l=i.parentid;if(!l)continue;let u=e.tree.getNode(l);N(u,"Parent must exist"),TS(e,i,r,a),IS(e,i,u,t),n[l]??=[],n[l].push(i)}for(let[i,l]of t){let u=n[i];N(u,"Nodes must exist"),l.selectionBoundingFrame=e.tree.getBoundingFrameForNodes(u)}return{parentsInitialState:t,nodesInitialState:r,nonScalableNodes:a}}function TS(e,o,t,r){for(let{node:n,skipChildren:a}of o.walkWithSkipChildren()){if(t.has(n.id))continue;let i=n.id===o.id,l=e.tree.isInlineVectorNode(n),u=Ke(n)&&(l||i);if(!VS(e.componentLoader,n,i)){r.add(n.id),a();continue}let s=u?Gn(e,n):void 0,c=de(n)?cf(e,n):void 0,f=de(n)||u?$h(n.draftOrCurrent()):void 0,g=Q(n)?vS(e.componentLoader,n):void 0;t.set(n.id,{rect:W.round(e.tree.getRect(n,!1),2),matrix:e.tree.transformMatrixToNode(n),codeComponentControlProps:g,scalableShapeStylesMap:f,...s,...c}),de(n)&&a()}}function vS(e,o){let t=e.reactComponentForIdentifier(o.codeComponentIdentifier);if(!(!t||!t.properties))return o.getControlProps(t.properties)}function IS(e,o,t,r){let n=r.get(t.id)??{matrix:e.tree.transformMatrixToNode(t).invertSelf(),selectedNodeIds:new Set,selectionBoundingFrame:{x:0,y:0,width:0,height:0}};n.selectedNodeIds.add(o.id),r.set(t.id,n)}function bS(e,o,t,r,n){let a=r.parentsInitialState.get(o);N(a,"Parent must be present in initial state");let i=a.selectionBoundingFrame,l={...i,width:i.width*t,height:i.height*t};return{initialRect:i,resizedRect:l,engine:e,tree:e.tree,initialState:r,anchorPoint:n??{x:.5,y:.5}}}function Zh(e,o,t,r){if(e.length===0)return!1;let n=!1;for(let a of e){if(t.initialState.nonScalableNodes.has(a.id))continue;let i=wS(a)&&Zh(a.children,o,t,!1),l=PS(a,t,o,i,r);n||=l||i}return n}function PS(e,o,t,r,n){let a=RS(e,t,n),i=NS(e,o,t,r,n,a);return e.set(a),(i||r)&&ES(e,o,t,n),i}function NS(e,o,t,r,n,a){return _e(e)?xS(e,t,o,n,a):de(e)?FS(e,t,o,n,a):Ke(e)?BS(e,t,o):Q(e)?WS(e,t,o,n,a):et(e)?eg(e,t,o,r,n,a):!1}function xS(e,o,t,r,n){let a=!1;if(!e.textFitViewBoxSize){LS(e,t.tree);let i=e.draftOrCurrent().updateForScale(o);Object.assign(n,i),a=!0}return e.widthType!==2&&(a=Wr("width",e,o,t,!1,r,n)||a),e.heightType!==2&&(a=Wr("height",e,o,t,!1,r,n)||a),a}function FS(e,o,t,r,n){let a=t.initialState.nodesInitialState.get(e.id),i=a?.shapeContainerDescendantPaths,l=a?.shapeContainerDescendantBasicShapes,u=a?.scalableShapeStylesMap;return N(u,"Shape container styles should be available in initial state"),N(i,"Shape container paths should be available in initial state"),N(l,"Shape container shapes should be available in initial state"),qh(t.engine,e,i,l,e,{width:e.width*o,height:e.height*o}),du(t.tree,u,o),Wr("width",e,o,t,!0,r,n),Wr("height",e,o,t,!0,r,n),!0}function ES(e,o,t,r){if(r)AS(e,t,o);else if(pe(e)){let n={};e.left&&(n.left=O(e.left,t)),e.right&&(n.right=O(e.right,t)),e.top&&(n.top=O(e.top,t)),e.bottom&&(n.bottom=O(e.bottom,t)),e.set(n)}}function AS(e,o,t){if(!pe(e)&&!ta(e))return;let r=t.initialState.nodesInitialState.get(e.id);N(r,"Node must be present in initial state");let n=e.parentid?t.initialState.parentsInitialState.get(e.parentid):void 0;N(n,"Node parent must be present in the initial state"),n.selectedNodeIds.size===1?kS(e,o,t,r):DS(e,t,r,n)}function kS(e,o,t,r){let n=r.rect,a={...n,width:n.width*o,height:n.height*o},l=Ke(e)||de(e)?e.clone({rotation:0}):e,u=Za(n,t.anchorPoint),s=Za(a,t.anchorPoint),c=nt.convertPoint(l.originAdjustedMatrix(null,n),u),f=nt.convertPoint(l.originAdjustedMatrix(null,a),s),g=$.subtract(c,f),y=W.round(W.offset(a,g),2);if(pe(e)){let{widthType:S,heightType:v,maxHeight:F,minHeight:D,maxWidth:k,minWidth:j,...M}=il(e.constraints(),y,t.tree.getParentSizeInfo(e,t.tree.getParent(e.id)),null,!1);e.set(M)}else e.set({x:y.x,y:y.y})}function DS(e,o,t,r){let n=$.add(Za(o.initialRect,o.anchorPoint),o.initialRect),a=$.add(Za(o.resizedRect,o.anchorPoint),o.resizedRect),i=$.subtract(n,a),l=r.matrix??null,u=Xh(l,o.initialRect),s=Xh(l,W.offset(o.resizedRect,i)),c=[u.x,u.x+u.width],f=[s.x,s.x+s.width],g=[u.y,u.y+u.height],y=[s.y,s.y+s.height],S=t.rect,v={x:st(S.x,c,f,!1),y:st(S.y,g,y,!1)},F={x:st(S.x+S.width,c,f,!1),y:st(S.y+S.height,g,y,!1)},D=W.round(W.fromTwoPoints(v,F));if(pe(e)){let k=il(e.constraints(),D,o.tree.getParentSizeInfo(e,o.tree.getParent(e.id)),null,!1);delete k.widthType,delete k.heightType,e.set(k)}else e.set({x:D.x,y:D.y})}function Xh(e,o){if(!e)return o;let t=nt.convertPointsWithClipping(e,W.cornerPoints(o));return W.boundingRectFromPoints(t)}function RS(e,o,t){let r={};return Co(e)&&(r.borderWidth=O(e.borderWidth,o),r.borderBottom=O(e.borderBottom,o),r.borderLeft=O(e.borderLeft,o),r.borderTop=O(e.borderTop,o),r.borderRight=O(e.borderRight,o)),tr(e)&&(r.boxShadows=og(e.boxShadows,o)),Lt(e)&&(r.strokeWidth=O(e.strokeWidth,o)),uo(e)&&(r.padding=O(e.padding,o),r.paddingBottom=O(e.paddingBottom,o),r.paddingLeft=O(e.paddingLeft,o),r.paddingTop=O(e.paddingTop,o),r.paddingRight=O(e.paddingRight,o)),Zo(e)&&(r.radiusBottomLeft=O(e.radiusBottomLeft,o),r.radiusBottomRight=O(e.radiusBottomRight,o),r.radiusTopLeft=O(e.radiusTopLeft,o),r.radiusTopRight=O(e.radiusTopRight,o)),Vo(e)&&(r.radius=O(e.radius,o)),pi(e)&&(r.gridColumnMinWidth=O(e.gridColumnMinWidth,o),r.gridColumnWidth=O(e.gridColumnWidth,o),e.gridRowHeightType==="fixed"&&(r.gridRowHeight=O(e.gridRowHeight,o))),ao(e)&&(r.gap=tg(e.gap,o)),pr(e)&&(r.formInputFontSize=rg(e.formInputFontSize,o),e.formInputFontLetterSpacingUnit==="px"&&(r.formInputFontLetterSpacing=O(e.formInputFontLetterSpacing,o)),e.formInputFontLineHeightUnit==="px"&&(r.formInputFontLineHeight=O(e.formInputFontLineHeight,o))),Cn(e)&&(r.blur=O(e.blur,o,0),r.backgroundBlur=O(e.backgroundBlur,o,0)),Ot(e)&&e.fillType==="image"&&e.fillImageResize==="tile"&&(r.fillImageTileSize=O(e.fillImageTileSize??1,o)),Ui(e)&&(r.minWidth=Ja(e.minWidth,o,t),r.maxWidth=Ja(e.maxWidth,o,t),r.minHeight=Ja(e.minHeight,o,t),r.maxHeight=Ja(e.maxHeight,o,t)),r}function eg(e,o,t,r,n,a){if(!ho(e))return a.width=O(e.width,o),a.height=O(e.height,o),!0;let i=!1;return i=Wr("width",e,o,t,r,n,a)||i,i=Wr("height",e,o,t,r,n,a)||i,i}function LS(e,o){let t=e.getTextStylePresets(!1);for(let r of t){let n=o.getNode(r);yt(n)&&e.draftOrCurrent().detachTextStylePreset(n,!1)}}function Wr(e,o,t,r,n,a,i){let l=e==="width"?"widthType":"heightType",u=o[l],s=r.initialState.nodesInitialState.get(o.id)?.rect;N(s,"node should have cached rect");let c=e==="width"?"gridItemFillCellWidth":"gridItemFillCellHeight";if(pn(o)&&o[c]&&a)return i[c]=!1,i[e]=O(s[e],t),i[l]=0,!0;switch(u){case 0:return i[e]=O(o[e],t),!0;case 4:return i[e]=O(o[e],t,4),!0;case 1:return a?(i[e]=O(o[e],t,4),!0):!1;case 3:return a?(i[e]=O(s[e],t),i[l]=0,!0):!1;case 2:if(!n){let g=r.tree.getNodeParent(o),S=(g&&ko(g)?g.layout:void 0)==="grid"?s[e]:o[e];return i[e]=O(S,t),i[l]=0,!0}return!1;case 5:return!0;default:Z(u)}}function VS(e,o,t){let r=Q(o)?o.getSupportedLayout(e):void 0;return!(r?.width==="auto"&&r?.height==="auto"||ge(o)||Kt(o)&&!t)}function wS(e){return!(!e.children||de(e)||Ke(e))}function O(e,o,t=2){return q(e)?mt(e*o,t):e}function tg(e,o){return q(e)?O(e,o):L(e)?Ni(e,t=>O(t,o)):e}function Ja(e,o,t){if(ne(e))return e;let[r,n]=vc(e);return Number.isNaN(r)||n==="%"&&!t?e:Lo(O(r,o,0),n)}function og(e,o){if(!(!e||ue(e)))return e.map(t=>t.type==="realistic"?t:ki(t,{x:O(t.x,o),y:O(t.y,o),spread:O(t.spread,o)}))}function BS(e,o,t){let r=t.initialState.nodesInitialState.get(e.id);return r?(Kh(t.tree,{canvasMatrix:r.matrix,rect:r.rect,descendantPaths:r.descendantPaths,descendantBasicShapes:r.descendantBasicShapes},t.initialRect,t.resizedRect,!0,n=>{let a=t.initialState.nodesInitialState.get(n.id);return N(a,"Basic shape initial state must exist"),a.matrix}),r.scalableShapeStylesMap&&du(t.tree,r.scalableShapeStylesMap,o),!0):!1}function Za(e,o){return{x:e.width*o.x,y:e.height*o.y}}function WS(e,o,t,r,n){let a=et(e)?eg(e,o,t,!1,r,n):!1,i=t.initialState.nodesInitialState.get(e.id)?.codeComponentControlProps;if(!i)return a;for(let l in i){let u=i[l];if(!(!u||ue(u.value)))switch(u.type){case"borderradius":n[Ee(l)]={...u,value:zS(u.value,o)};break;case"padding":n[Ee(l)]={...u,value:OS(u.value,o)};break;case"gap":n[Ee(l)]={...u,value:tg(u.value,o)};break;case"boxshadow":n[Ee(l)]={...u,value:og(u.value,o)};break;case"font":n[Ee(l)]={...u,value:_S(u.value,o)};break;case"border":n[Ee(l)]={...u,value:US(u.value,o)};break;case"array":case"boolean":case"collectionreference":case"color":case"slot":case"cursor":case"customcursor":case"date":case"enum":case"eventhandler":case"file":case"link":case"linkrelvalues":case"multicollectionreference":case"number":case"object":case"pagescope":case"richtext":case"scrollsectionref":case"string":case"transition":case"fusednumber":case"image":case"trackingid":case"vectorsetitem":break;default:Z(u)}}return a}function MS(e){return e.includes("%")}function zS(e,o){return ue(e)||MS(e)?e:Ni(e,t=>O(t,o))}function OS(e,o){return ue(e)?e:Ni(e,t=>O(t,o))}var GS={px:2,rem:3};function rg(e,o){if(ne(e))return e;let[t,r]=q(e)?[e,"px"]:Pi(e);return Lo(O(t,o,GS[r]),r)}function _S(e,o){if(ne(e))return e;let t=rg(e.fontSize,o);return{...e,fontSize:t,lineHeight:e.lineHeight?.[1]==="px"?[O(e.lineHeight[0],o),"px"]:e.lineHeight,letterSpacing:e.letterSpacing?.[1]==="px"?[O(e.letterSpacing[0],o),"px"]:e.letterSpacing}}function US(e,o){return!e||Se(e)?e:{...e,borderWidth:O(e.borderWidth,o),borderTop:O(e.borderTop,o),borderRight:O(e.borderRight,o),borderBottom:O(e.borderBottom,o),borderLeft:O(e.borderLeft,o)}}var HS;(Io=>{function e(d){return d.some(p=>lg(p))}Io.canCopyNodes=e;function o(d){return d.some(p=>ng(p))}Io.canDuplicateNodes=o;function t(d,p){return e(p)&&l(d,p)}Io.canCutNodes=t;function r(d,p,m=void 0,h=!0){let{documentSettingsStore:C,codeGenerationStore:T,modalStore:I,canvasStore:x,scopeStore:P,selectionStore:E,treeStore:A}=d.stores,R=A.tree,H=R.withoutDescendants(R.getNodes(p)),ee=P.active,se=H.length===1?H[0]:void 0;if(!ne(se)&&Fi(se)&&!ge(se)&&ie(se)&&Te(ee)){let Y=R.getRect(se),vt=Wn(R,ee,se,Y),Ve=Io.createVariant(d.componentLoader,A,E,x,ee,se,vt);return Ve?new Set([Ve.id]):void 0}let te=H.find(Y=>ge(Y)&&ie(Y));if(te&&ie(te)){let Y=A.tree.getScopeNodeFor(te);if(Y&&w(Y)){Y.abTestingParentId?d.loadScopesThenProcess([Y,Xi.get(A.tree)],async([vt,Ve])=>{vt&&Ah(d,vt,Ve,"context_menu")}):I.set({type:"DuplicateWebPage",source:"context_menu",duplicateFromId:Y.id});return}}let re=H.map(Y=>R.getRect(Y)),le=new Map,be=new Set,me=[],ce=new Map,at=new Map,Je=0;if(H.forEach((Y,vt)=>{if(!ng(Y))return;let Ve=R.getParent(Y.id);if(Is(Y)){if(Ve&&Q(Ve)){if(!Sc(Ve,d.componentLoader))return}else if(!Ve||!ge(Ve))return}for(let De of Y.walk())ie(De)&&Je++;let Pe=d.cloneNode(Y,!1,!0,le);if(le.set(Y.id,Pe.id),at.set(Y.id,Pe.id),be.add(Pe.id),ce.set(Y,Pe),Y.isMaster)Al({});else if(Y.replicaInfo){let{master:De}=Y.replicaInfo,Re=De&&R.getNode(De);Re&&Cs(Re)||Al({})}else sd(Y)&&(!m||m.node&&ld(m.node))&&bf(d,Y,le);if(m){let De=R.getParent(Y.id);if(m.node){let Re=m.node;if(xe(m.node)&&(Re=Jt(R,m.node),!Re))return;if(el(d.tree,Re,Pe,P.active.id,d.componentLoader)){let bo=De&&wt(De)&&wt(Re),ni=De&&ie(De)&&ie(Re);if(bo||ni)d.moveNode(Pe.id,Re.id,m.insertionIndex);else if(pe(Pe)){d.moveNode(Pe.id,Re.id,m.insertionIndex);let Sr=R.getParentSizeInfo(Pe,Re,!0,!1),Qo=Pe.updateForSize(re[vt]??{},Sr);De||(Qo.left=0,Qo.top=0),d.tree.current(Pe)?.set(Qo)}else Io.convertNodeToNewParent(d,Pe,De,m.node,m.insertionIndex,Y);if(ut(m.node)){Kl(d,Pe,m.node,Re,be,le);let Cr=J.getReplicaForTemplateNode(R,m.node);if(Cr){let Sr=Rt(Cr.id,Pe.id);at.set(Y.id,Sr)}}}}else Io.convertNodeToNewParent(d,Pe,De,m.node,m.insertionIndex,Y),wt(De)&&re[vt]&&d.tree.current(Pe)?.set(Pe.updateForSize(re[vt],null))}}),!m){let Y=H.some(Ve=>R.isGroundNode(Ve)),vt=H.some(Ve=>Go(Ve)&&Ve.resolveValue("rotation")!==0);if(H.length){let Ve=H.map(pt=>R.convertFrameToCanvas(pt)),Pe=W.merge(...Ve),De,Re=G(d,p),bo=oe(R,H),ni=H.some(pt=>Ke(pt)),Cr=C.lastDuplicationMap,Sr=!1;if(!ni&&Re&&!bo&&!vt&&Cr){let pt=Cr.keys(),ms=d.tree.getBoundingFrameForNodes(R.getNodes(pt));Sr=!0,De=$.subtract(Pe,ms)}let Qo=De||{y:0,x:0},ps=H[0];if(!ni&&Y&&!Sr&&ps){let pt=ef(R,P.active,ps,Pe,H.every(xt)?{x:d.tree.getRect(ps).width}:De);Qo=$.subtract(pt,Pe)}for(let pt of H){let{x:ms,y:dy,width:cy,height:py}=R.getRect(pt),no=ce.get(pt);if(!no)continue;let Or=d.tree.getParent(pt.id),Gr=d.tree.getParent(no.id);if(Gr&&Or&&ut(Or)){Kl(d,no,Or,Gr,be,le);let _u=J.getReplicaForTemplateNode(R,Or);if(_u){let hy=Rt(_u.id,no.id);at.set(pt.id,hy)}}if(Gr&&wt(Gr))continue;let Ou=ms+Qo.x,Gu=dy+Qo.y,my=d.tree.getParentSizeInfo(pt,Or),fy=no.updateForRect({rect:{x:Ke(pt)?Ou:Math.round(Ou),y:Ke(pt)?Gu:Math.round(Gu),width:cy,height:py},parentSizeInfo:my,constraintsLocked:!1,shouldGuessPinToBottom:!0,shouldGuessPinToRight:_t(d.tree,no,Gr)});d.tree.current(no)?.set(fy),Y&&R.isGroundNode(no)&&me.push(no.rect())}}}C.lastDuplicationMap=at;let ro=[],ct=!0;for(let Y of ce.values())To(R,d.componentLoader,Y,le,!1),xt(Y)&&ro.push(Y),Kt(Y)||(ct=!1);if(ro.length&&T.createVectorSet(ro),ct&&ce.size>0&&d.stores.overlayStore.hideAll(),me.length){let Y=W.merge(...me);x.scrollToCenter(W.center(Y))}return h&&be.size>0&&d.stores.selectionStore.set(be,{sticky:!0,switchToProperties:!0}),Je>0&&ze("layout_frame",{source:"duplication",count:Je}),be}Io.duplicateNodes=r;function n(d){if(d.length>=50)return!0;let m=d.length;return d.forEach(h=>{m+=su(h)}),m>=50}function a(d,p,m){let h=d.tree.withoutDescendants(p);function C(){let T=[],I=[];h.forEach(x=>{if(Dt(x))if(ji(d.tree,x))I.push(x);else{let P=d.tree.get(x.originalid);P&&mu(P)&&T.push(P.id)}else mu(x)&&T.push(x.id)}),I.forEach(x=>x.set({visible:!1})),d.deleteNodes(T),d.stores.selectionStore.clear(),d.stores.treeStore.setHighlight(null)}m&&n(h)?d.stores.modalStore.set({type:"Confirmation",variant:"destructive",title:"Delete Selection",description:"You are about to delete the selected layers for all project collaborators.",confirmLabel:"Delete",onConfirm:C,source:"delete_node"}):C()}Io.deleteOrHideNodes=a;function i(d,p){d.tool.deleteAction?d.tool.deleteAction():p&&a(d,p,!0)}Io.deleteAction=i;function l(d,p){return d.tool.deleteAction?!!d.tool.canDelete&&d.tool.canDelete():!!p&&p.some(m=>YS(m))}Io.canDeleteOrHideNodes=l;function u(d,p){return Qr(p)?!1:Ge(p)?Dt(p):!vr(p)}Io.canRenameNode=u;function s(d,p){return p.filter(m=>u(d,m)).length===1}Io.canRename=s;function c(d,p){return d.stores.chromeStore.contentPanelTab!=="Pages"||d.stores.scopeStore.active.id===d.tree.root.homePageNodeId||p.length!==0?!1:w(d.stores.scopeStore.active)||Pt(d.stores.scopeStore.active)}Io.canRenameActivePage=c;function f(d,p){if(c(d,p)){let m=d.stores.scopeStore.active.id,h=fo(d.tree,m)?.id||m;Va(h)}else p.length===1&&(d.stores.chromeStore.layersExpanded=!0,d.stores.chromeStore.contentPanelTab="Layers",d.scheduler.runBeforeNextFrame(()=>{let m=document.querySelectorAll(".layerPanelPlaceholder.active");if(m.length===1&&m[0]){let h=new MouseEvent("dblclick",{view:window,bubbles:!0,cancelable:!0}),C=m[0].parentElement;C&&C.dispatchEvent(h)}}))}Io.rename=f;async function g(d,p){p.length!==0&&await km({key:"generate-layer-names",progress:{variant:"progress",primaryText:"Renaming layers.",secondaryText:"Just a moment\u2026",showCloseButton:"always"},error:{variant:"error",primaryText:"Rename failed.",secondaryText:"Couldn\u2019t rename layers."},success:{variant:"success",primaryText:"Rename complete.",secondaryText:"Layers updated."},waitTime:1e3},()=>Mh(d,p))}Io.renameLayers=g;function y(d,p){let m=d.tree,h=m.withoutDescendants(p),C=yr(h);k(m,p,C)&&Vu(d,C,"front")}Io.sendToFront=y;function S(d,p){let m=d.tree,h=m.withoutDescendants(p),C=yr(h);D(m,p,C)&&Vu(d,C,"back")}Io.sendToBack=S;function v(d,p){let m=d.tree,h=m.withoutDescendants(p),C=yr(h);k(m,p,C)&&wu(d,C,1)}Io.sendForward=v;function F(d,p){let m=d.tree,h=m.withoutDescendants(p),C=yr(h);D(m,p,C)&&wu(d,C,-1)}Io.sendBackward=F;function D(d,p,m){if(Lu(p))return!1;if(!m){let h=d.withoutDescendants(p);m=yr(h)}return Bu(d,m,-1)}Io.sendBackwardEnabled=D;function k(d,p,m){if(Lu(p))return!1;if(!m){let h=d.withoutDescendants(p);m=yr(h)}return Bu(d,m,1)}Io.sendForwardEnabled=k;function j(d,p){return _(d,p,0)}Io.addFrame=j;function M(d,p){return _(d,p,1)}Io.addStack=M;function U(d,p){let m=d.stores.scopeStore.active,h=d.tree.withoutDescendants(p);return h.length>1&&X(d,h)&&(!w(m)||h.every(C=>d.tree.isGroundNode(C)))}Io.canWrapInAutoSizedFrame=U;function K(d,p,m){let h=j(d,p);N(h!==void 0,"new frame ID must be defined");let C=d.tree.getNode(h);N(C!==null,"new frame must exist");let T=d.tree.withoutDescendants([C]);return wh(d,T,m),C}Io.wrapInAutoSizedFrame=K;function G(d,p){let{documentSettingsStore:m,selectionStore:h}=d.stores;if(!m.lastDuplicationMap||!Hn(p,h.ids))return!1;let C=[...m.lastDuplicationMap.values()];if(!Hn(h.ids,C))return!1;let T=[...m.lastDuplicationMap.keys()];return Hn(h.previousIds,T)}function oe(d,p){let m=d.getCommonGroundNode(p);return!!m&&wt(m)}function ve(d,p,m){if(m!==null){let h=p.flatMap(x=>Pm(d,x)),C=d.transformMatrixToNode(m),T=(ll(m)?C:nt.flatProjectionMatrix(C)).invertSelf(),I=h.map(x=>nt.convertPoint(T,x));return W.roundToOutside(W.boundingRectFromPoints(I))}return W.roundToOutside(W.merge(...p.map(h=>d.convertFrameToCanvas(h))))}Io.getUntransformedBoundingRect=ve;function z(d,p,m,h,C,T){let I={top:m.y,left:m.x,width:m.width,height:m.height,fillEnabled:!1},x=C.length===1?C[0]:null;N(x!==void 0,"node must be defined",C),h&&Object.assign(I,Ae(p,m,h,x,T));let P=h===null,E=w(d.stores.scopeStore.active);return I.overflow=P||E?"clip":"visible",I}function Ae(d,p,m,h,C){let T=Sa(d,m),I=d.getRect(m),x=h?d.getParentSizeInfo(h,m):{sizing:I,positioning:I,viewport:T,layout:Yt(m)},P=!!h&&pe(h),E=Ie(h,C),A=np({rect:p,parentSizeInfo:x,currentConstraints:E,constraintsLocked:P,shouldGuessPinToBottom:ur(d,null,m),shouldGuessPinToRight:_t(d,null,m),floatingPosition:null});return C&&m?{...Dr(h,m),...Vt(h),...A,widthType:ao(m)?3:1,heightType:2,width:1,left:0}:{...Dr(h,m),...Vt(h),...A}}function Ie(d,p){let h=!!d&&pe(d)?d.constraints():void 0;if(!h)return;let C={...h};return p?(C.widthType===5&&(C.widthType=2),C.heightType===5&&(C.heightType=2)):(ys(C.widthType)&&(C.widthType=0),ys(C.heightType)&&(C.heightType=0)),C}function Vt(d){if(!(!d||!et(d)))return{width:d.width,height:d.height}}function to(d,p,m,h,C,T,I,x,P){let E=T?.id??Qe;switch(p){case 0:{let A=d.createFrame(E,{id:m,...P},h);return d.moveNode(A.id,E,I),N(A&&Be(A),"Fail to create a wrapping frame: the created frame should have the `children` field"),x.forEach(R=>{let H=zr(d.tree,R,T,A);d.moveNode(R.id,A.id),d.tree.current(R)?.set(H)}),A}case 1:{let A=gr(d,m,E,P,x,C);return d.moveNode(A.id,E,I),A}case 2:{let A=d.createShapeContainer(E,{id:m,...P});return d.moveNode(A.id,E,I),N(A&&Be(A),"Fail to create a wrapping frame: the created frame should have the `children` field"),x.forEach(R=>{let H=zr(d.tree,R,T,A);d.moveNode(R.id,A.id),d.tree.current(R)?.set(H)}),A}default:Z(p)}}function gr(d,p,m,h,C,T,I){let x=Zl(d,C,T),P=d.createNode(An,{id:p,...h,...x},m,I);N(so(P),"Fail to create stack: the created node should have stack layout");let{stackDirection:E}=x;return Gf(d,p,T,C,E),P}function _(d,p,m){let h=d.tree;if(!X(d,p))return;let C=h.sortVisually(h.withoutDescendants(p)),T=C[0]?h.getParent(C[0].id):null,I=T&&ut(T),x=I?d.tree.getNode(T.originalid):T,P=!0,E=I?C.map(re=>{if(!Ge(re))return re;let le=d.tree.getNode(re.originalid);return N(le,"Fail to create a wrapping frame: the original node must exist"),P&&(P=!le.cache.visible),le}):C,A=T?.children.findIndex(re=>C.includes(re))??-1,R=h.newId(),H=ve(h,E,x),ee=z(d,h,H,x,E,m===1),se=to(d,m,R,E[0]?.id,H,x,A,E,ee),te=R;if(I){N(T,"Fail to create a wrapping frame: parentNode should not be null"),N(xe(T),"Fail to create a wrapping frame: parentNode should be a replica node"),P&&ql(d,se,T,x);let re=J.getReplicaForTemplateNode(d.tree,T);N(re,"Fail to create a wrapping frame: replica must exist");let le=ve(h,C,T),be=z(d,h,le,T,C,m===1);fn(h,re,se.id,be),J.replicaWithChanges(d.tree,re.draftOrCurrent());let me=Rt(re.id,R);te=me;let ce=d.tree.get(me);if(N(ce&&Be(ce),"Fail to create a wrapping frame: replica wrapping node should exist and should have the `children` field"),m===0||m===2)C.forEach(at=>{let Je=zr(h,at,T,ce);d.tree.current(at)?.set(Je)});else if(m===1){N(ie(se),"Fail to create a wrapping frame: the wrapping node should be a FrameNode"),N(so(se),"Fail to create a wrapping frame: the wrapping node should have stack layout");let at=Zl(d,C,le);fn(h,re,se.id,at),zf(d,se,at.stackDirection,C,le)}}return d.stores.selectionStore.set(te),R}function ae(d){return rn(d)||Fe(d)||go(d)||Ii(d)||Qr(d)||Is(d)?!1:Ge(d)?Dt(d):!0}function X(d,p){if(p.length===0)return!1;switch(d.tool.enum){case 4:case 5:case 10:break;default:return!1}if(!p.every(I=>ae(I)))return!1;let m=d.tree,h=m.withoutDescendants(p),[C,T]=h.reduce(([I,x],P)=>{let E=m.isInlineVectorNode(P)||!Ke(P)&&!go(P),A=h[0]?m.getParentId(h[0]):void 0,R=m.getParentId(P);return[I&&A===R,x&&E]},[!0,!0]);return C&&T}Io.wrappingEnabled=X;function ke(d){return d.some(po)}Io.overflowEnabled=ke;function Et(d){d.stores.chromeStore.removePanelOverrides(),d.stores.chromeStore.chromeIsVisible=!0,d.stores.chromeStore.pagesExpanded=!0,d.stores.chromeStore.contentPanelTab="Pages";let p=new Set(d.stores.scopeStore.getDesignPageNodes().map(h=>h.resolveValue("name")??"")),m=d.createNode(Vp,{name:Gt("Design",p,{startIndex:p.size+1,omitCountIfFirst:!0})},d.tree.root.id);return d.stores.scopeStore.select(m.id,{keepHistory:!1}),d.scheduler.runAtEndOfFrame(()=>Va(m.id)),m.id}Io.createDesignPage=Et;function Tt(d){d.stores.chromeStore.removePanelOverrides(),d.stores.chromeStore.chromeIsVisible=!0,d.stores.chromeStore.pagesExpanded=!0,d.stores.chromeStore.contentPanelTab="Pages";let p=new Set(d.stores.scopeStore.getCanvasPageNodes().map(T=>T.resolveValue("name")??"")),m=d.createNode(tp,{name:Gt("Canvas",p,{startIndex:p.size+1,omitCountIfFirst:!1})},d.tree.root.id),h=Bp("iPhone_390_844"),C=d.createFrame(m.id,{width:h.screenWidth,height:h.screenHeight,name:h.title,framePreset:h.id,isScreen:!0});d.stores.codeGenerationStore.updateComponent(C.id).catch(Ut),d.stores.scopeStore.select(m.id,{keepHistory:!1}),qm({pageId:m.id}),d.scheduler.runAtEndOfFrame(()=>Va(m.id))}Io.createCanvasPage=Tt,Io.toggleContentManagementScope=d=>{let{chromeStore:p,selectionStore:m,scopeStore:h,analyticsStore:C,siteSettingsStore:T,codeEditorStore:I}=d.stores,x=p.mainView;if(x===2){h.selectPreviousActiveScope();return}switch(x){case 0:d.cancelTool();break;case 5:p.setLocalizationsVisible(!1);break;case 6:C.close();break;case 4:T.close();break;case 1:I.closeEditor();break;case 3:break;default:Z(x)}let P=Mc(d.tree)?.loaded;if(P&&P.children.length>0){let E=h.active,A=m.nodes.at(0);h.select(P.id,{keepHistory:!1});let R=qS(d,E,A);if(R){m.set(R);return}if(m.ids.length===0){let H=P.children[0];H&&m.set(H.id)}}else wm(d.tree),h.select(Xs,{keepHistory:!1})};function oo(d,p){d.stores.chromeStore.chromeIsVisible=!0,d.stores.scopeStore.select(Xs,{keepHistory:!1}),d.stores.selectionStore.set(p)}Io.openContentCollection=oo;function Xo(d,p,m,h){d.stores.modalStore.set({type:"CreateComponent",source:p,onSuccess:C=>{let T=C.resolveValue("name");if(we(T)||we(zc.get(d.tree)))return;let I=Wa(d.tree,T,m??Yi);fr(d.tree,I,C.id),h?.(C)}})}Io.makeComponent=Xo;function ti(d,p){return ly(d,p)}Io.canMakeComponent=ti;function oi(d,p){if(p.length!==1||wo(d.stores.scopeStore.active))return;let m=p[0];m&&mi(m)&&J.canMakeMaster(m)&&d.tree.current(m)?.set({isMaster:!0,replicaInfo:null,originalid:null})}Io.makeMaster=oi;function ds(d,p){for(let m of p)if(m.originalid&&xe(m)&&J.overrideKeys(d,[m]).size>0)return!0;return!1}Io.canResetToMasterValues=ds;function xu(d,p){for(let m of p){if(!m.originalid)continue;let C=J.getReplicaForTemplateNode(d,m);C&&J.resetOverrides(d,C,m)}}Io.resetToMasterValues=xu;function ri(d,p,m){for(let h of p){if(!xe(h))continue;let C=J.getReplicaForTemplateNode(d,h);C&&J.resetOverridesByProperty(d,C,h,m)}}Io.resetPropertiesToMasterValues=ri;function cs(d,p){if(p.length===0)return!1;for(let m of p){if(St(m))return!1;if(Fi(m)){let h=d.tree.getScopeNodeFor(m);if(!h)return!1;if(Te(h)){let{hover:C,pressed:T}=h.getGesturesForTopLevelVariant(m);return!(C||T)}return w(h)&&!ge(m)}if(Oe(m))return!0}return!1}Io.canDetachFromMaster=cs;function Vv(d,p){let m=new Map;p.filter(Oe).forEach(C=>{if(!Hh(C,{allowVariants:!0}))return;let T=C.clone({parentid:null});T.replicaInfo=null,kd(T)&&(T.isVariant=void 0);for(let P of T.walk())P.originalid=null;N(C.id!==T.id),d.tree.insertNode(T);let I=d.tree.getParent(C.id)||d.stores.scopeStore.active,x=I.children.indexOf(C);d.tree.removeNode(C),d.moveNode(T.id,I.id,x),d.tree.current(T)?.set(T.constraintValues()),m.set(C.id,T.id)}),To(d.tree,d.componentLoader,d.tree.root,m,!1);let h=d.stores.selectionStore.ids.map(C=>m.get(C)??C);return d.stores.selectionStore.set(h),m}Io.detachFromMaster=Vv;function wv(d,p){if(!Yg(p))return;let m=Fu(p);p.filter(kr).forEach(C=>C.set({visible:!m})),d.stores.treeStore.setHighlight(Qe)}Io.visibility=wv;function Yg(d){return d.some(kr)}Io.visibilityEnabled=Yg;let Fu=d=>d.every(p=>p.isVisible());function Bv(d){return Fu(d)?"Hide":"Show"}Io.visibilityTitle=Bv;function Wv(d,p){let m=d.withoutDescendants(p);if(!qg(m))return;let h=!Eu(m),C=new Set;for(let T of m){if(!Sn(T))continue;let I=T.cache.lockedByParent,x=h===I?void 0:h;T.set({locked:x});for(let P of T.descendants())C.add(P)}for(let T of C)Sn(T)&&T.locked!==void 0&&T.set({locked:void 0})}Io.toggleLock=Wv;function qg(d){return d.some(Sn)}Io.toggleLockEnabled=qg;function Eu(d){return d.some(p=>Sn(p)&&_o(p))}function Mv(d){return Eu(d)?"Unlock":"Lock"}Io.toggleLockTitle=Mv;function zv(d){return d.every(xt)}Io.copyURLEnabled=zv;function Ov(d){return d.length>0&&d.every(C=>Au(C))?`Remove ${d.length>1?"Viewboxes":"Viewbox"}`:`Remove ${d.length>0&&d.find(C=>!wt(C))===void 0?"Stack":"Frame"}${d.length>1?"s":""}`}Io.removeFrameTitle=Ov;function Gv(d,p){Kg(d,p)&&ey(d,p)}Io.removeFrame=Gv;function Kg(d,p){if(p.length===0)return!1;let m=d.stores.scopeStore.active.id;return p.every(h=>{if(!ie(h)&&!wt(h)&&!Au(h)||!h.children||h.children.length===0||At(h)||Oe(h)||Ge(h)&&!Dt(h))return!1;let C=d.tree.getParent(h.id);if(!C)return!0;for(let T of h.children)if(!el(d.tree,C,T,m,d.componentLoader))return!1;return!0})}Io.removeFrameEnabled=Kg;function Au(d){return de(d)&&!xt(d)}function _v(d,p){p.forEach(m=>{let h=d.getParentSizeInfo(m);if(m.intrinsicWidth!==null&&m.intrinsicHeight!==null){let C={width:m.intrinsicWidth,height:m.intrinsicHeight},T=C.width/C.height;if(rn(m))m.set(Nm(m,C,{aspectRatio:T}),d);else if(Fr(m)&&m.aspectRatio){m=m.set({aspectRatio:null},d);let I=m.updateForSize(C,h);I.aspectRatio=T,m.set(I,d)}else m.set(m.updateForSize(C,h),d)}})}Io.resetToIntrinsicSize=_v;function zr(d,p,m,h){let C=d.getRect(p),T=mp(p),I=d.convertPointToCanvas(p,{x:C.width*T.x,y:C.height*T.y});if(h){let A=d.transformMatrixToNode(h),R=ll(h)?A:nt.flatProjectionMatrix(A);I=nt.convertPoint(R.inverse(),I)}let x={...C,x:I.x-C.width*T.x,y:I.y-C.height*T.y},P=p.updateForRect({rect:x,parentSizeInfo:d.getParentSizeInfo(p,h),constraintsLocked:!1,shouldGuessPinToBottom:h?ur(d,p,h):!0,shouldGuessPinToRight:_t(d,p,h)});if(wt(h)||(P.widthType===3&&(P.widthType=0,P.width=C.width),P.heightType===3&&(P.heightType=0,P.height=C.height)),Go(p)){let A=p.resolveValue("rotation")-Zg(d,m,h);A!==0&&(P.rotation=A)}return h&&ao(h)&&!ia(p)&&!aa(p)&&(P.top=null,P.left=null,P.bottom=null,P.right=null),Object.assign(P,Dr(p,h)),P}Io.convertNodeToNewParentUpdate=zr;function Uv(d,p,m,h,C=-1,T){let{tree:I}=d,x=p;if(Ge(p)&&(x=Jt(I,p),!x))return null;let P=h;if(h&&xe(h)&&(P=Jt(I,h),!P))return null;let E=m;if(m&&xe(m)&&(E=Jt(I,m),!E))return null;let A=zr(I,T??x,Ge(p)?E:m,Ge(p)?P:h);if(d.tree.current(x)?.set(A),d.moveNode(x.id,P?P.id:d.stores.scopeStore.active.id,C),x.id!==p.id){N(m,"Current parent must exist when editing variants");let H=J.getReplicaForTemplateNode(I,m);N(H,"The current parent should located in a variant node");let ee=h?J.getReplicaForTemplateNode(I,h):null;if(H.id===ee?.id){let se=zr(I,p,m,h);I.current(p)?.set(se)}}return{originalNode:x,originalCurrentParent:E,originalNewParent:P}}Io.convertNodeToNewParent=Uv;function ku(d,p){if(!fi(d)&&!_o(d)&&(p.push(d.id),!!d.children))for(let m of d.children)ku(m,p)}function Du(d,p){let m=new Set;return p.forEach(h=>{let C=d.getParent(h.id);C&&m.add(C.id)}),m}function Hv(d,p){let m=d.withoutDescendants(d.getNodes(p));return Du(d,m).size>0}Io.canSelectAncestor=Hv;function jv(d,p){Ru(d,p,"parent")}Io.selectParent=jv;function $v(d,p){Ru(d,p,"groundNode")}Io.selectGroundNode=$v;function Ru(d,p,m){let{tree:h}=d,C=h.withoutDescendants(h.getNodes(p)),T=null;if(m==="groundNode"){let A=new Set(C.map(R=>h.getGroundNodeFor(R).id));A.size>0&&(T=Array.from(A))}else{let A=Du(h,C);A.size>0&&(T=Array.from(A))}if(!T)return!1;let{selectionStore:I,overlayStore:x,treeStore:P}=d.stores;I.set(T,{sticky:!0,switchToLayers:!0,switchToProperties:!0});let E=C.length===1?C[0]:null;return E&&x.activeOverlays.has(E.id)&&x.exitEditMode(I,!1),P.setHighlight(null),!0}Io.selectAncestor=Ru;function Yv(d,p){let m=d.tree,h=[];if(d.tool.selectAll){d.tool.selectAll();return}else{let C=p.map(T=>{let I=m.get(T);if(Ke(I)){let P=dm(m,I);return P&&m.isGroundNode(P)?P.id:Qe}let x=m.getGroundFrameAncestor(T,!0);return x!==null?x.id:Qe});if(new Set(C).size===1&&C[0]!==null){let T=C[0];h=m.getSubtreeNodes(T).filter(I=>_o(I)?!1:I.id!==T).map(I=>I.id)}if(h.length===0)for(let T of d.stores.scopeStore.active.children)ku(T,h)}d.stores.selectionStore.set(h)}Io.selectAll=Yv;function qv(d,p){let m=new Set;for(let h of p){let C=d.tree.get(h);if(!C)continue;let T=d.tree.getSiblingsIncludingSelf(C);for(let I of T)m.add(I.id)}d.stores.selectionStore.set(m)}Io.selectAllSiblings=qv;function Kv(d,p){return d.tree.getNodes(p).some(m=>Be(m)&&m.children.length>0)}Io.canSelectChildren=Kv;function Xv(d,p){let m=new Set;for(let h of p){let C=d.tree.get(h);if(!C)continue;let T=Ar(C);for(let I of T)m.add(I.id)}m.size>0&&d.stores.selectionStore.set(m)}Io.selectAllChildren=Xv;function Qv(d,p){let m=p.length>0?d.tree.getNodes(p):d.stores.scopeStore.active.getGroundNodes(),h=[];m.map(x=>{dt(x)?h.push(...d.tree.getSiblingsIncludingSelf(x)):h.push(x)});let C=new Set,T=new Set,I=x=>{if(!C.has(x.id)){if(dt(x)&&T.add(x.id),x.children)for(let P of x.children)I(P);C.add(x.id)}};for(let x of h)I(x);d.stores.selectionStore.set(T)}Io.selectAllTextNodes=Qv;function Jv(d,p){let[m]=d.tree.getNodes(p);if(!m||!dt(m))return;let h=[],C=_e(m)?co(m.getTextStylePresets(!1)):void 0,T=co(m.getFonts(!1)),I=co(m.getFontSizes(!1).map(P=>en(P)?Lo(...P):q(P)?Lo(P,"px"):P)),x=co(m.getTextColors(!1));if(!(tn(C)||_r(C))&&!(tn(T)||_r(T))&&!(tn(I)||_r(I))&&!(tn(x)||_r(x))){for(let P of d.stores.scopeStore.active.walk())ut(P)||!dt(P)||(_e(P)?co(P.getTextStylePresets(!1)):void 0)!==C||co(P.getFonts(!1))!==T||co(P.getFontSizes(!1).map(ee=>en(ee)?Lo(...ee):q(ee)?Lo(ee,"px"):ee))!==I||co(P.getTextColors(!1))!==x||h.push(P);d.stores.selectionStore.set(h)}}Io.selectAllTextNodesWithSameFontStyles=Jv;function Zv(d,p){let m=d.tree.getNodes(p);N(p.length===1,"Cannot have multiple layers selected");let[h]=m;if(!h||!ie(h))return;let C=[],I=Qd(d.tree,h.id)??d.stores.scopeStore.active;for(let x of I.walk())ie(x)&&Xg(h,x,d.tree)&&C.push(x);d.stores.selectionStore.set(C)}Io.selectAllLayersWithSameFill=Zv;function Xg(d,p,m){if(Mo(d)&&!d.fillEnabled||Mo(p)&&!p.fillEnabled)return!1;let{fillType:h}=d;if(h!==p.fillType||h===void 0)return!1;switch(h){case"color":return!L(d.fillColor)||!L(p.fillColor)?!1:$r.equals(Xl(d.fillColor,m,void 0),Xl(p.fillColor,m,void 0));case"linear-gradient":return d.fillLinearGradient&&p.fillLinearGradient?d.fillLinearGradient.equals(p.fillLinearGradient):!1;case"radial-gradient":return d.fillRadialGradient&&p.fillRadialGradient?d.fillRadialGradient.equals(p.fillRadialGradient):!1;case"conic-gradient":return d.fillConicGradient&&p.fillConicGradient?d.fillConicGradient.equals(p.fillConicGradient):!1;case"image":return d.fillImage===p.fillImage;default:Z(h)}}function Lu(d){return d.some(p=>Ki(p)?Ge(p)?!Dt(p):!1:!0)}function yr(d){let p={};return d.forEach(m=>{let h=m.parentid?m.parentid:ln,C=p[h];C||(C=[],p[h]=C),C.push(m)}),p}function Vu(d,p,m){let h=d.tree;for(let C in p){let T=C===ln?h.root:h.get(C);if(!T||!p[C])continue;let I=h.sortVisually(p[C]);m==="back"&&I.reverse();let x=m==="front"?-1:0,P=ut(T)&&hi(T);I.forEach(E=>{let A=E.originalid?h.get(E.originalid):E;N(A,"Cannot send",E.id,"backward/forward: original node must exist."),P&&Ki(A)?tl(A.id,T,x):d.tree.moveNodeIndex(A,x)})}}function Qg(d,p,m){let h=d.tree.getParent(m.id);if(!h)return null;let C=h.children.indexOf(m),T=p==="backward"?C-1:C+1,I=h.children[T];if(!I||!Ip(I))return null;let x=d.tree.convertFrameToCanvas(m),P=d.tree.convertFrameToCanvas(I);if(p==="backward")return{...x,y:P.y};let E=P.height-x.height;return{...x,y:P.y+E}}function Jg(d,p,m){let h=Qg(d,p,m),{canvasStore:C}=d.stores;!h||W.containsRect(C.getCanvasVisibleRectTakingOverlaysIntoAccount(),h)||C.zoomToCenter(h,{zoom:C.zoom,maxZoom:.5,animated:!0})}function wu(d,p,m){let h=d.tree,C=Object.keys(p).length===1;for(let T in p){let I=T===ln?h.root:h.get(T);if(!I||!Be(I))continue;let x=ut(I)&&hi(I),P=p[T],E=C&&P?.length===1,A=ir(I)?I.getChildrenInVisualOrder():I.children,R=!1;for(let H=0,ee=A.length;H<ee;H++){let se=m===1?ee-H-1:H,te=A[se];if(!P?.includes(te))R=!0;else if(R)if(x&&Ki(te))N(te.originalid,"Cannot send nodes: nodes in a replica variant parent must have originalid."),tl(te.originalid,I,se+m);else{E&&Ua(h,te)&&Jg(d,m===-1?"backward":"forward",te);let le=te.originalid?h.get(te.originalid):te,be=I.originalid?h.get(I.originalid):I;N(le,"Cannot send node",te.id,": original child node does not exist."),N(be,"Cannot send node",I.id,": original parent node does not exist."),d.moveNode(le.id,be.id,se+m)}}}}function Bu(d,p,m){for(let h in p){let C=h===ln?d.root:d.get(h);if(!C||!Be(C))continue;let T=p[h],I=ir(C)?C.getChildrenInVisualOrder():C.children,x=!1;for(let P=0,E=I.length;P<E;P++){let A=m===1?E-P-1:P,R=I[A];if(!T?.includes(R))x=!0;else if(x)return!0}}return!1}function Zg(d,p,m){let h=0,C=0;return p&&(h=d.totalAncestorRotation(p)),m&&(C=d.totalAncestorRotation(m)),Math.round(C-h)}function eI(d){if(d.length!==1)return!1;let p=d[0];return p&&wr(p)&&!p.originalid}Io.reversePathDirectionEnabled=eI;function tI(d,p){let m=d.current(p);m&&m.set({pathSegments:rt.reverse(m.pathSegments)})}Io.reversePathDirection=tI;function oI(d,p){let m=Un(p,d);return m.length===0?!1:m.every(h=>Ke(h)&&!h.originalid&&Ar(h).length>0)}Io.canUngroup=oI;function ey(d,p){if(p.length===0)return;let m=d.tree,h=m.sortVisually(Un(p,m)),C=m.withoutDescendants(h),T=[];return C.forEach(I=>{if(!Be(I))return;let x=I,P=null;if(Ge(I)){if(x=Jt(m,I),!x)return;P=J.getReplicaForTemplateNode(m,I)}let E=m.getParent(I.id);if(I.children.length>0){let A=m.getIndex(I),R=x?.id??I.id;[...Ar(I)].forEach((ee,se)=>{let te=ee;if(Ge(ee)&&(te=Jt(m,ee),!te))return;if(Kt(te)){m.removeNode(te);return}let re=E,le=re;if(re&&xe(re)&&(le=Jt(m,re),!le))return;let be=Io.convertNodeToNewParentUpdate(m,te,x,le);if(d.moveNode(te.id,le?.id??null,A+se,R),d.tree.current(te)?.set(be),R=te.id,P){let me=Io.convertNodeToNewParentUpdate(m,ee,I,re);d.tree.current(ee)?.set(me)}T.push(ee.id)}),d.deleteNode(x.id)}}),d.stores.selectionStore.set(T),T}Io.ungroup=ey;function rI(d,p){return!p.hasPreferredSize(d.componentLoader)}Io.canSetDefaultSize=rI;function nI(d,p){if(p.hasPreferredSize(d.componentLoader))return;let m=p.getPreferredSize(d.componentLoader),h={aspectRatio:null};m.width==="auto"?(h.width=1,h.widthType=2):q(m.width)&&(h.width=m.width,h.widthType=0),m.height==="auto"?(h.height=1,h.heightType=2):q(m.height)&&(h.height=m.height,h.heightType=0),pe(p)&&q(p.top)&&q(p.bottom)&&(h.bottom=null),pe(p)&&q(p.left)&&q(p.right)&&(h.right=null),Dh(p,h,"context_menu_default_size_item"),p.set(h,d.tree)}Io.setDefaultSize=nI;function ty(d,p){if(!d.stores.toolStore.isDefaultToolActive)return!1;let m=Un(p,d.tree);return m.length===0?!1:m.every(h=>Ke(h)&&!h.originalid)}Io.canJoinInGroup=ty;function iI(d,p){let m=d.tree;if(N(p.length>0,"No nodes"),!ty(d,p))return;let h=Un(p,m),C=m.sortVisually(m.withoutDescendants(h)),T=C[0],I=T?m.getParent(T.id):void 0,x=I?I.id:Qe,P=T?m.getIndex(T):void 0,E=m.newId();d.createShapeGroup(x,{id:E},P),C.forEach(A=>{let R=Io.convertNodeToNewParentUpdate(m,A,m.getParent(A.id),I);d.moveNode(A.id,E),d.tree.current(A)?.set(R)}),d.stores.selectionStore.set(E)}Io.joinInGroup=iI;function aI(d,p){if(p.originalid)return null;let m={width:p.width,height:p.height},h=jf(p.svg,Ta.createEmpty,m,p);if(h){h.name=p.name||p.originalFilename,h.parentid=p.parentid;let C=d.cloneNode(h),T=p.parentid===null,I=T?"rgb(255,255,255)":"transparent",{aspectRatio:x,...P}=p.constraintValues();d.tree.current(C)?.set({...P,width:h.width,height:h.height,fillEnabled:T,fillColor:I});let E=d.tree.getParent(p.id);if(E!==null&&Be(E)){let A=E.children.indexOf(p);d.moveNode(C.id,E.id,A)}return Wu(d,C.id,m),d.deleteNode(p.id),C.id}return null}Io.convertSVGToShape=aI;function Wu(d,p,m){let h=d.tree.get(p);if(!de(h))return;let C=h.width>=h.height?"width":"height",T=C==="width"?"height":"width",I=m[C]/h[C];if(I===1)return;Qh(d,[h],I,Jh(d,[h]),oy(h));let x=d.tree.current(h);N(x,"Node must exist after scaling");let P=m[T]-x[T];if(P===0)return;x.set({[T]:m[T]});let E=T==="width"?"x":"y";for(let A of x.children){let R=d.tree.current(A);!R||!ta(R)||R.set({[E]:R[E]+P/2})}}Io.scaleVector=Wu;function oy(d){let p=d.constraints(),m=0,h=0;return p.top===!1&&p.bottom===!1?h=.5:p.top===!1&&(h=1),p.left===!1&&p.right===!1?m=.5:p.left===!1&&(m=1),{x:m,y:h}}function sI(d,p){if(p.length>1)return!1;let m=J.getReplicaForTemplateNode(d,p[0]);if(!m)return!1;let h=J.getMaster(d,m);if(fi(h))return!1;for(let C=0,T=p.length;C<T;C++){let I=p[C];if(J.overrideKeys(d,[I]).size>0)return!0}return!1}Io.canUpdateMasterFromInstance=sI;function lI({tree:d},p){function m(P,E){for(let A of["id","update","cache","children","mutable","parentid","originalid","isMaster","isVariant","isBreakpoint","replicaInfo","duplicatedFrom","gesture"])delete P[A];if(E)for(let A of J.positionKeysToIgnore)delete P[A];return P}function h(P,E){let A;if(E)for(let R of J.positionKeysToIgnore)P[R]!==void 0&&(A=A||{},A[R]=P[R]);return P.gesture&&(A||(A={}),A.gesture=P.gesture),A}let C=J.getReplicaForTemplateNode(d,p[0]);if(!C)return;let T=J.getMaster(d,C);if(fi(T))return;let I={...C.replicaInfo.overrides},x={...C.replicaInfo,overrides:I};for(let P=0,E=p.length;P<E;P++){let A=p[P];if(!A?.originalid)continue;let R=d.get(A.originalid),H=m(A.raw(),Oe(A));R?.set(H);let ee=h(I[A.originalid]??{},Oe(A));ee?I[A.originalid]=ee:delete I[A.originalid]}C.asDraft().replicaInfo=x}Io.updateMasterFromInstance=lI;function uI(d,p){let m=Mu(d,p);return!m||Cs(m)?0:ad(m)?2:1}Io.canGoToMaster=uI;let Mu=(d,p)=>{let m=null;for(let C=0,T=p.length;C<T;C++){let I=p[C],x=J.getReplicaForTemplateNode(d,I);if(x){if(!m)m=x.originalid;else if(m!==x.originalid)return null}}if(!m)return null;let h=d.get(m);return!h||!At(h)?null:h};function dI(d,p){if(p.length===1){let h=d.tree.getNode(p[0]?.originalid);if(!h)return;zu(d,h);return}let m=Mu(d.tree,p);m&&(J.showMaster(d.tree,m),zu(d,m))}Io.goToMaster=dI;function zu(d,p){let m=d.tree.getScopeNodeFor(p),h=d.stores.scopeStore.active;At(p)&&J.showMaster(d.tree,p),m===null&&(d.moveNode(p.id,h.id),m=h),d.stores.scopeStore.select(m.id,{keepHistory:!1}),d.stores.selectionStore.set(p);let C=d.tree.convertFrameToCanvas(p);d.stores.canvasStore.scrollToCenter(W.center(C))}Io.showNodeOnCanvas=zu;function cI(d,p){d.exitMode(),d.stores.modalStore.set({type:"CodeFileCreation",source:"main_menu",creationType:"Component",parentId:p})}Io.createCodeComponent=cI;function pI(d){d.exitMode(),d.stores.modalStore.set({type:"CodeFileCreation",source:"main_menu",creationType:"Override"})}Io.createCodeOverride=pI;function mI(d,p,m,h,C,T,I,{id:x,gesture:P,overrides:E,overrideSize:A,variantName:R,viewportHeight:H,selectAndCenter:ee=!0}={}){P&&N(Fi(T),"gesture variant should inherit from top level variant");let se=C.getPrimaryVariant(),te=null;if(!P){let be=new Set(C.getTopLevelVariants().map(me=>me.resolveValue("name")??""));R?te=Gt(R,be):te=Gt(ge(T)?"Breakpoint":"Variant",be,{startIndex:be.size+1,omitCountIfFirst:!1})}if(E||(E=P?void 0:T.replicaInfo?.overrides),te&&ge(T)){let be=Vf(d,p,te,T);be&&(E?E=nr(be,E):E=be);let me={};T.children.forEach(ce=>{if(!hi(ce)||pe(ce)&&ce.widthType===2||!(ce.originalid?p.tree.getNode(ce.originalid):ce))return;let Je=p.tree.getRect(ce);Em(p.tree,ce,Je,T,I.width,me)}),E||(E={}),E=nr(E,me)}let re=J.create(p.tree,se,{owner:x,overrides:E,inheritsFrom:P?T.id:void 0,duplicatedFrom:mn(T)});if(p.tree.insertNode(re,C.id,-1),!re)return;let le={top:I.y,left:I.x,gesture:P,isBreakpoint:Mi(C)?!0:void 0,name:te};if(H&&(le.viewportHeight=H),A&&(le.width=I.width,le.widthType=0,ge(re)||(le.height=I.height,le.heightType=0)),re.set(le),Te(C)){let be=Bm(P)?"variant":P??"variant";Xm({variantId:re.id,variantType:be,componentId:C.id})}else ge(re)&&ze("breakpoint_create",{scopeId:C.id,breakpointId:re.id,width:re.width});return ee&&(m?.set(re.id),h?.scrollToCenter(W.center(I))),re}Io.createVariant=mI;function ry(d,p){return d.filter(m=>oa(m)?ip(m)!==p:va(m)?xm(m)!==p:!0)}function fI(d,p,m){for(let h of p.walk()){let C=ra(d.componentLoader,h);for(let[T,I]of Object.entries(C)){let x=ry(I,m);if(x.length!==I.length){if(xr(h))d.tree.current(h)?.set({[T]:x});else if(Q(h)){let P={type:"eventhandler",value:x};d.tree.current(h)?.set({[T]:P})}}}}}Io.removeActionsWithTarget=fI;function hI(d,p){let m=d.tree.getParent(p.id)||d.stores.scopeStore.active;return xe(m)?!1:d.stores.treeStore.query().partial(!0).whereClass(gm).some(h=>h.instanceIdentifier===p.codeComponentIdentifier)}Io.canDetachVariantInstance=hI;function gI(d,p,m,h){if(!m)return null;let C={...Ma(p,d.componentLoader),...Vh(d.componentLoader,p)},T=new Map;m.getTopLevelVariants().forEach(me=>T.set(me.id,me));let I=L(C.variant)&&T.get(C.variant)||m.getPrimaryVariant();N(ie(I),"Variant must be a frame node");let x=d.tree.getParent(p.id)||d.tree.getScopeNodeFor(p)||d.stores.scopeStore.active;if(xe(x))return null;let P=new Map,E=$n(I,new Map,new Map,P);P.set(p.id,E.id);let A=d.tree.getScopeNodeFor(x);if(w(A)||Te(A)){let me=A.getTopLevelReplicaVariants();for(let ce of me){let at=Rt(ce.id,p.id),Je=d.tree.getNode(at);if(!Je||!Q(Je))continue;let ro=Je.getResolvedControlPropValues(d.componentLoader).variant;if(!L(ro))continue;if(h){let Re=h.get(ro);Re&&(ro=Re)}let ct=L(ro)?T.get(ro):void 0;if(!ct||!ie(ct)||!Fe(ct))continue;let Y=Br(Rh(ct,d.tree,d.componentLoader,Je,m.id),P),vt={},Ve=P.get(I.id)??I.id;if(an(ct)){let Re=Br(ct.replicaInfo.overrides,P,!0);Object.assign(vt,{...Re,[Ve]:Lh(Re[Ve]??{})})}let Pe=nr(Y,vt);if(an(ct)){let{opacity:Re,rotation:bo}=ce.replicaInfo.overrides?.[p.id]||{};Ka(Pe[Ve]??{},{opacity:Re,rotation:bo})}else if(ce.replicaInfo.overrides?.[p.id]){let{opacity:Re,rotation:bo}=ct;Ka(ce.replicaInfo.overrides[p.id]??{},{opacity:Re,rotation:bo})}let De={};Je.heightType===2&&(De.heightType=ct.heightType,De.height=ct.height),Je.widthType===2&&(De.widthType=ct.widthType,De.width=ct.width),d.tree.current(ce)?.set({replicaInfo:{...ce.replicaInfo,overrides:nr({...ce.replicaInfo.overrides,[p.id]:{}},{...Pe,[Ve]:{...ce.replicaInfo.overrides[p.id],...Pe[Ve],...De}})}})}}let R=Ga(d.tree,d.componentLoader,p,E,x);Ka(R,{opacity:Se(I.opacity)?C[I.opacity.id]:I.opacity,rotation:Se(I.rotation)?C[I.rotation.id]:I.rotation});let H=p.constraintValues(),ee=I.constraintValues();H.widthType===2&&ee.widthType!==2&&(H.widthType=ee.widthType),H.heightType===2&&ee.heightType!==2&&(H.heightType=ee.heightType),E.set({...H,...R,...x?Bo(p):void 0,isVariant:!1,isMaster:!1,gesture:void 0,replicaInfo:null,originalid:null,name:p.name??So(d.componentLoader,p)});let se=qp(m),te=new Map([...se??[],...Object.entries(C)]),re=new Map;re.set(m.id,te);let le={};for(let me of E.walk()){if(me.originalid=null,ap(me))for(let[ce,at]of Object.entries(me.getActions(d.componentLoader)))at&&me.set({[ce]:at.filter(Je=>Gi(Je)||wd(Je))});if(te.size>0){let ce=pa(d.tree,m.id,me,re,le);ce&&me.set(ce)}}N(E.id!==I.id);let be=x.children.indexOf(p);d.tree.insertNode(E,x.id,be);for(let me of p.children)Kt(me)&&d.tree.moveNode(me,le[me.id]??E.id);return To(d.tree,d.componentLoader,x,P,Kt(x)||Hi(x)),d.deleteNode(p.id),go(E)&&d.scheduler.runBeforeNextFrame(()=>{d.stores.overlayStore.showOverlay(d.stores.selectionStore,E,E.parentid)}),E}Io.detachSmartComponentOrWebPageInstance=gI;function yI(d){ny(d,{openLibrary:!0})}Io.toggleTeamLibrary=yI;function ny(d,{openLibrary:p}={}){let{modalStore:m,popoverStore:h}=d.stores;m.active.type==="QuickActions"?m.dismiss():(d.cancelTool(),h.active=0,m.set({type:"QuickActions",source:"main_menu",initialCategory:p?{type:"TeamLibraryCategory"}:void 0}),p?ze("ui_interaction",{page:"main-menu",id:"team-library"}):ze("ui_interaction",{page:"main-menu",id:"quick-actions"}))}Io.toggleQuickActions=ny;function CI(d){return!!ge(d)}Io.canCreateBreakpoint=CI;function SI(d,p,m,h,C){let{modalStore:T}=d.stores;T.active.type!=="CustomBreakpoint"&&(d.cancelTool(),T.set({type:"CustomBreakpoint",actionType:p,baseNodeId:m,name:h,width:C,source:"undefined"}))}Io.showCustomBreakpointModal=SI;function TI(d,p,m,h,C,T,I,x){let P={...h,width:C},E=Io.createVariant(d.componentLoader,d.stores.treeStore,d.stores.selectionStore,d.stores.canvasStore,m,p,P,{overrideSize:!0,variantName:T,viewportHeight:I,selectAndCenter:x});return N(ge(E),"Created node is not a breakpoint variant"),E}Io.createBreakpoint=TI;function iy(d){return d.some(p=>p!==d&&At(p))}Io.containsMaster=iy;function ay(d){return ie(d)||gi(d)||de(d)||dt(d)||Ci(d)||hd(d)||Si(d)}Io.nodeTypeCanBePrimaryVariantSource=ay;function sy(d,p){return!(!ay(p)||kf(d,p)||Fe(p)||Oe(p)||At(p)||iy(p))}Io.canConvertNodeToSmartComponentPrimaryVariant=sy;function ly(d,p){let m=p.length;if(m===0)return!0;let h=p[0];return N(h,"node must be defined",p),m===1&&sy(d.tree,h)}Io.canMakeSmartComponent=ly;function uy(d,p){if(p.length!==1)return!1;let h=p[0];if(N(h,"node must be defined",p),!ie(h)||xe(h))return!1;let C=d.tree.get(h.parentid);return bt(C)}Io.canMakeWebPagePrimaryBreakpoint=uy;async function vI(d,p){if(!uy(d,p))return;let m=p[0];N(m,"node must be defined",p);let h=m.resolveValue("name");return d.createWebPage({primaryBreakpointTemplateId:m.id,shouldRemovePanelOverrides:!1,startEditingPageTitle:!1,preferredPath:h?Sm(h):void 0})}Io.convertNodeToWebPagePrimaryBreakpoint=vI;function II(d,p,m="Template",h,C){let T=new An({...Yo,...jS(h),isMaster:!0,isVariant:!0,isBreakpoint:!0,widthType:0,heightType:0,width:h?.width??1200,name:h?.name??"Desktop"}),I=new hm;T.addChild(I);let x=Gt(m,$S(d)),P=new Xp({baseVariantId:T.id,name:x});N(P.isLoaded(),"A newly created LayoutTemplateNode must be loaded."),P.addChild(T),d.latestTree().insertNode(P);let E=Wa(d,x,C??qi);return fr(d,E,P.id),ze("layout_template_create",{source:p}),P}Io.createLayoutTemplate=II;function bI(d,p,m=!0,h=null,C=qe(),T="context_menu",I=0){let x=new Sl({name:p,id:C});if(N(x.isLoaded(),"A newly created VectorSetNode must be loaded"),d.tree.latestTree().insertNode(x),fr(d.tree,h??hn,x.id),m)for(let E of QS())d.tree.latestTree().insertNode(E,x.id);let P=d.tree.current(x);return N(P,"A newly created VectorSetNode must exist"),d.stores.codeGenerationStore.createVectorSet(P.getVectorSetItems()),ze("vector_set_create",{source:T,items:m?3:I}),x}Io.createVectorSet=bI;async function PI(d,p,m){let h=d.tree.get(m);if(!Bt(h))return;let C=h.isLoaded()?h:await h.load();if(!C)return;let T=C.children.find(xt);if(!xt(T))return;let I=d.tree.getRect(T);d.scheduler.process(()=>{let x=ag(d,p),P=[],E=Mo(T)?{fillEnabled:T.fillEnabled,fillType:T.fillType,fillColor:T.fillColor}:void 0;for(let A of x){let R=d.tree.get(A);if(!R)continue;let H=d.tree.getIndex(R),ee=Wn(d.tree,C,R,I,I.width),se=ig(R,ee,E);if(xt(se)){if(d.tree.insertNode(se,C.id),P.push(se),Wu(d,se.id,I),ze("vector_set_item_create",{source:"context_menu"}),m!==d.stores.scopeStore.active.id){let te=new xn({...sg(R),codeComponentIdentifier:Hr("vector",se.id,"default").value,width:R.width,height:R.height,widthType:0,heightType:0,slotsAreChildNodes:Xe.isOn("componentSlotsAreChildNodes"),name:R.name});d.tree.insertNode(te,R.parentid,H)}d.tree.removeNode(R)}}P.length!==0&&(d.stores.scopeStore.select(h.id,{keepHistory:!1}),d.stores.selectionStore.set(P),d.stores.chromeStore.layersExpanded=!0,d.stores.chromeStore.contentPanelTab="Layers",d.stores.codeGenerationStore.createVectorSet(P))})}Io.addToVectorSet=PI;function NI(d,p,m="Icon Set",h="context_menu"){let C=new Sl({name:m});N(C.isLoaded(),"A newly created VectorSetNode must be loaded");let T=ag(d,p),I=0,x=[];for(let P of T){let E=d.tree.get(P);if(!E)continue;let A=d.tree.getRect(E),R=ig(E,{x:I,y:0});if(!xt(R))continue;let H=d.tree.getIndex(E);x.push(R),C.addChild(R),I+=A.width*2;let ee=new xn({...sg(E),codeComponentIdentifier:Hr("vector",R.id,"default").value,width:E.width,height:E.height,widthType:0,heightType:0,slotsAreChildNodes:Xe.isOn("componentSlotsAreChildNodes"),name:E.name});d.tree.insertNode(ee,E.parentid,H),d.tree.removeNode(E)}d.tree.latestTree().insertNode(C),fr(d.tree,hn,C.id),d.stores.codeGenerationStore.createVectorSet(x),d.stores.scopeStore.select(C.id,{keepHistory:!1}),d.stores.selectionStore.set(x),d.stores.chromeStore.layersExpanded=!0,d.stores.chromeStore.contentPanelTab="Layers",ze("vector_set_create",{source:h,items:T.size})}Io.createVectorSetFromNodes=NI;function xI(d,p,m,h,C){let T=m.clone({children:[],name:"Vector"}),{scopeStore:I,codeGenerationStore:x,selectionStore:P,canvasStore:E}=d;I.insertNode(T,p.id),N(pe(T),"Vector must be pinnable."),T.set({top:h.y,left:h.x}),x.createVectorSet([T]),P.set(T.id),E.scrollToCenter(W.center(h)),ze("vector_set_item_create",{source:C})}Io.createVectorSetItem=xI})(HS||={});var Yo={height:Kp,left:0,top:0,layout:"stack",stackDirection:"vertical",stackAlignment:"center",stackDistribution:"start",stackWrapEnabled:!1,gap:0,padding:0,paddingPerSide:!1,paddingLeft:0,paddingBottom:0,paddingTop:0,paddingRight:0,overflow:"clip"};function jS(e){if(!e||!ko(e)||!uo(e)||!Mo(e))return;let o=Ji(e),t={gap:e.resolveValue("gap")??Yo.gap,padding:o.perSide?Yo.padding:o.top,paddingPerSide:o.perSide??Yo.paddingPerSide,paddingLeft:o.left??Yo.paddingLeft,paddingBottom:o.bottom??Yo.paddingBottom,paddingTop:o.top??Yo.paddingTop,paddingRight:o.right??Yo.paddingRight,fillEnabled:e.resolveValue("fillEnabled"),fillType:e.resolveValue("fillType"),fillColor:e.resolveValue("fillColor"),fillLinearGradient:e.resolveValue("fillLinearGradient"),fillRadialGradient:e.resolveValue("fillRadialGradient"),fillConicGradient:e.resolveValue("fillConicGradient"),fillImage:ue(e.fillImage)?void 0:e.fillImage,fillImageOriginalName:e.resolveValue("fillImageOriginalName"),fillImageResize:e.resolveValue("fillImageResize"),fillImagePixelWidth:e.resolveValue("fillImagePixelWidth"),fillImagePixelHeight:e.resolveValue("fillImagePixelHeight"),fillImagePositionX:e.resolveValue("fillImagePositionX"),fillImagePositionY:e.resolveValue("fillImagePositionY"),fillImageTileSize:e.resolveValue("fillImageTileSize")};return $i(e)&&(t.fillImageAlts=e.fillImageAlts?[...e.fillImageAlts]:void 0),t}function $S(e){let o=new Set;return e.root.children.forEach(t=>{if(!gt(t))return;let r=t.resolveValue("name");r&&o.add(r)}),o}function lg(e){return!(vr(e)||Ii(e)||Qr(e))}function mu(e){return!(St(e)||Ii(e)||Qr(e)||Ge(e))}function YS(e){return Dt(e)&&e.isVisible()?!0:mu(e)}function ng(e){return lg(e)?Ge(e)?Dt(e):!0:!1}function Yn(e,o){if(Ze(o)){let t=rr(e.tree,o.dataIdentifier);if(t)return t.id}return null}function qS(e,o,t){if(t){let n=Yn(e,t);if(n)return n;for(let a of t.ancestors()){let i=Yn(e,a);if(i)return i}}let r=Yn(e,o);if(r)return r;if(t)for(let n of t.walk()){let a=Yn(e,n);if(a)return a}for(let{node:n,skipChildren:a}of o.walkWithSkipChildren())if(t&&n.id===t.id)a();else{let i=Yn(e,n);if(i)return i}return null}function ig(e,{x:o,y:t},r){if(Ke(e)){let n=new dr({...r,isVectorSetItem:!0,width:e.width,height:e.height,left:o,top:t,name:e.name}),a=e.clone({x:0,y:0});return n.addChild(a),n}return e.clone({...r,isVectorSetItem:!0,left:o,top:t})}function ag(e,o){return new Set(o.map(t=>{if(!t)return null;if(de(t))return t.getPrimaryId();let r=e.tree.getAncestorThatMatches(t,a=>KS(e,a),!0,!0);if(!r)return null;let n=e.tree.getNodeParent(r);return n&&de(n)?n.getPrimaryId():r.getPrimaryId()}))}function KS(e,o){return Ke(o)&&e.tree.isRootVectorNode(o)}function sg(e){return pe(e)?{top:e.top,bottom:e.bottom,left:e.left,right:e.right,centerAnchorX:e.centerAnchorX,centerAnchorY:e.centerAnchorY,constraintsLocked:e.constraintsLocked}:{top:e.y,left:e.x}}var XS="rgb(0, 153, 255)",cu={fillType:"color",fillColor:XS,fillEnabled:!0},pu={isVectorSetItem:!0,top:0,width:40,height:40,autoSize:!1},QS=()=>{let e=new bl({...cu,x:-3,y:-3,width:46,height:46,polygonSides:3,centered:!0,radius:1}),o=new bl({...cu,x:0,y:0,width:40,height:40,polygonSides:4,centered:!0,radius:1}),t=new Im({...cu,x:2,y:2,width:36,height:36}),r=new dr({...pu,name:"Triangle"});r.addChild(e);let n=new dr({...pu,left:80,name:"Diamond"});n.addChild(o);let a=new dr({...pu,left:160,name:"Oval"});return a.addChild(t),[r,n,a]};function qo(e,o){return`${e??""}.${o}`}function qn(e,o){return`${e??""}[${o}]`}function ZM(e){let o=[],t=e.split(".");for(let r of t){let[n,a]=r.split("[");if(n.length!==0&&o.push({type:"object",key:n}),a){let i=a.slice(0,-1);N(i.length>0),o.push({type:"array",id:i})}}return o}var Kn=e=>e;function oz(e){return e.filter(Fo)}var ts=b`params`,os={type:"siteMetadata",localIdName:"siteMetadata",localId:Jo("siteMetadata","siteMetadata")};function Vz(e){return{type:"webPageMetadata",localIdName:e,localId:Jo("webPageMetadata",e)}}var wz=Kn(async(e,o)=>{let{assetMap:t,componentLoader:r,treeStore:n,modulesStore:a}=o,i=new Ln(t),l=new Tn,u=new In("siteMetadata",r,a,l),s=new bn(e,l),c=new vn(l),f=new Nn(e,r,u,l,void 0,n,a),g=new Rn(e,n,s,c,l,u,i),y=new Vn(l,s,g,i,f),S=new Bn(e,s,n,r,u,l,c,y,a,"siteMetadata"),v=new wn(r,c,void 0,u,s,S,void 0,y,a,"siteMetadata"),F=dg(e,i,v,s,S,void 0,void 0,void 0);return[{type:"siteMetadata",revision:void 0,source:cg(e,F,u,c,S,v,s,void 0),artifacts:{assets:i.keys}}]}),Bz=Kn(async(e,o,t)=>{let{componentLoader:r,treeStore:n,modulesStore:a,assetMap:i}=o,{serializationId:l}=t,u=new Ln(i),s=new Tn,c=new In("webPageMetadata",r,a,s),f=new bn(e,s),g=new vn(s),y=new Nn(e,r,c,s,void 0,n,a),S=new Rn(e,n,f,g,s,c,u),v=new Vn(s,f,S,u,y),F=new Bn(e,f,n,r,c,s,g,v,a,"webPageMetadata"),D=new wn(r,g,void 0,c,f,F,void 0,v,a,"webPageMetadata"),k=e.getProvidedControlMap(n.tree,void 0,r,r.activeBundleHash),j=dg(e,u,D,f,F,eT(n.tree,r,e,c),tT(c),k);j.viewport=await oT(e);let M=Object.entries(e.getBreakpointValues()).map(([K,G])=>({hash:tc(K),mediaQuery:jp(G)}));j.breakpoints=M;let U=ic(e);return j.elements=U,j.serializationId=l,[{type:"webPageMetadata",source:cg(e,j,c,g,F,D,f,k),artifacts:{assets:u.keys},revision:e.moduleSourceRevision}]});function Wz(e,o){let t=new Set;function r(n){let a=kn(),i=n.matchAll(a);for(let[,l]of i)l&&o?.has(l)&&t.add(l)}for(let n in e.webMetadata){let a=n,i=e.webMetadata[a];switch(a){case"title":case"description":case"socialImage":L(i)&&r(i),Se(i)&&t.add(i.id);break;case"noIndex":case"noIndexSite":if(!ue(i))continue;Se(i)?t.add(i.id):io(i)?Kr(i)&&t.add(i.startValue.id):Z(i);break;case"favicon":case"faviconDark":case"appleTouchIcon":case"googleAnalyticsTrackingId":case"reducedMotion":case"language":case"languageTitle":case"adaptLayoutToTextDirection":case"canonicalURL":case"customCanonicalURL":case"rewriteCanonicalHostname":case"rewriteCanonicalPath":case"optOutOfHTMLPlugin":case"automaticLocale":case"preserveQueryParams":case"enableFormsUTMTracking":case"translatePagePaths":case"translatePagePathsWithAI":break;default:}}if(e.titleLocalized)for(let n of Object.values(e.titleLocalized))L(n.value)&&r(n.value);if(e.descriptionLocalized)for(let n of Object.values(e.descriptionLocalized))L(n.value)&&r(n.value);return t}function dg(e,o,t,r,n,a,i,l){let u={},s=n.add(es(e,e.webMetadata?.title,t,r,l)??a,e.titleLocalized,(S,v)=>(N(v.variables),es(e,e.titleLocalized?.[S]?.value,v.valueTransforms,v.variables,l)));ne(s)||(u.title=s);let c=n.add(es(e,e.webMetadata?.description,t,r,l)??i,e.descriptionLocalized,(S,v)=>(N(v.variables),es(e,e.descriptionLocalized?.[S]?.value,v.valueTransforms,v.variables,l)));if(ne(c)||(u.description=c),e.webMetadata?.favicon){let S=o.resolve(e.webMetadata.favicon);N(S,"Favicon is not a valid asset reference"),u.favicon=S.src}let f=e.webMetadata?.socialImage;if(Se(f)){let S=ht(f.id,e.id),v=r.create(S);u.socialImage=t.wrapInToImageSrc(v)}else if(f){let S=o.resolve(f);N(S,"Social image is not a valid asset reference"),u.socialImage=S.src}let g="noindex",y="max-image-preview:large";if(ue(e.webMetadata?.noIndex)){let S=ug(e.webMetadata.noIndex,e.id,r,t);u.robots=b`${S} ? ${y} : ${g}`}else e.webMetadata?.noIndex===!0?u.robots=g:u.robots=y;if(!ne(e.webMetadata?.noIndexSite))if(ue(e.webMetadata?.noIndexSite)){let S=ug(e.webMetadata.noIndexSite,e.id,r,t);u.framerSearch={index:S}}else u.framerSearch={index:!e.webMetadata?.noIndexSite};return u}function ug(e,o,t,r){let n,a;if(Se(e)){let i=ht(e.id,o);n=t.create(i),a=n}else if(io(e)){N(Kr(e),"Fetch is not supported for no index");let i=ht(e.startValue.id,o);n=t.create(i),a=n;for(let l of e.transforms)a=r.wrapInValueTransform(a,l,void 0,void 0)}else Z(e);return b`${n} !== undefined && ${a} === false`}function ZS(e,o,t,r){if(!t||!Ze(e))return;let n=r.getBindings(e.id);if(n.size===0)return;let a=new Set(n.keys()),i=o.addImport("framer",{exportSpecifier:"QueryEngine"}),l=o.addImport("framer",{exportSpecifier:"getWhereExpressionFromPathVariables"});function u(v){let F=o.addModuleImport(v);return N(F,"Can't import collection"),F}let s=Na(e),c=new Set,f=Fa(t,a,c,s,u),g=xa(e.dataIdentifier,t,c,s,u),y=new Ct({from:g,select:f,where:Le.fn(l,b`pathVariables`,s)}),S=new Ct({from:g,select:f});return b.joinLines(b`export async function fetchMetadata(pathVariables, activeLocale) {`,b`  const queryEngine = new ${i}();`,b``,b`  const query = ${y};`,b``,b`  const result = await queryEngine.query(query, activeLocale);`,b`  if (result.length === 0) {`,b`    throw new Error("No data matches pathVariables");`,b`  }`,b``,b`  const params = result[0];`,b`  return metadata(params, activeLocale);`,b`}`,b``,b`export async function fetchAllMetadata(pathVariableKeys, activeLocale) {`,b`  const queryEngine = new ${i}();`,b``,b`  const query = ${S};`,b``,b`  for (const pathVariableKey of pathVariableKeys) {`,b`    query.select.push({`,b`      collection: ${s},`,b`      name: pathVariableKey,`,b`      type: "Identifier",`,b`    });`,b`  }`,b``,b`  const results = await queryEngine.query(query, activeLocale);`,b``,b`  return results.map(result => ({`,b`    metadata: metadata(result, activeLocale),`,b`    pathVariables: Object.fromEntries(`,b`      pathVariableKeys.map(pathVariableKey => [pathVariableKey, result[pathVariableKey]])`,b`    )`,b`  }));`,b`}`)}function cg(e,o,t,r,n,a,i,l){let u=i.getBindings(e.id),s=[];for(let[g,y]of u){let S=b`${ts}?.[${g}]`,v=l?.get(g);if(v&&v.type==="enum"){let D=a.wrapInValueTransform(S,{name:"enumToDisplayName"},v);S=b`${S} !== undefined ? ${D} : undefined`}let F=b`const ${y} = ${S}`;s.push(F)}let c=b.joinLines(b`export default function metadata(${ts}, ${$e.activeLocale}) {`,...s,b`return ${o}`,b`}`),f=w(e)?ZS(e,t,l,i):void 0;return b.joinSections(b.linesFrom(t.statements),...n.list(),...r.list(),c,f,b`export const metadataVersion = 1`)}function es(e,o,t,r,n,a){if(Eo(o))return;let i=kn();return xi.replaceAll(o,i,(l,u)=>{let[s,c]=ca(u,a);if(!n?.has(s))return l;let f=ht(s,e.id),g=r.create(f),y=g;return n?.get(s)?.type==="responsiveimage"&&(y=t.wrapInToImageSrc(y)),y=t.wrapInTemplateFilters(y,c),b`${g} !== undefined ? ${y} : ${l}`})}function Mz(e,o,t,r){let n=r?.title,a=Xn(e,o,t);return n||a}function eT(e,o,t,r){let n=r.addImport(`../${os.localId}`,{exportSpecifier:"default",importBinding:"siteMetadata"}),a=b`${n}(${ts}, ${$e.activeLocale}).title`,i=Xn(e,o,t);return b`${a} || ${i}`}function tT(e){let o=e.addImport(`../${os.localId}`,{exportSpecifier:"default",importBinding:"siteMetadata"});return b`${o}(${ts}, ${$e.activeLocale}).description`}function Xn(e,o,t){if(Ze(t)){let a=o.dataForIdentifier(t.dataIdentifier);if(a?.name)return a.name+" Detail"}let r=sa(e,t);return Ho(r??"/")}async function oT(e){let o=e.isLoaded()?e:await e.load();return o?o.getReplicaVariants().length>0?"width=device-width":`width=${o.getPrimaryVariant().width}`:"width=device-width"}function He(e,o=!1){let t=(o?Rr(e):e).trim();return t===""?0:t.split(/\W+\b/).length}function fu(e){return Te(e)||w(e)||gt(e)}function Uz(e){return fu(e)||Ue(e)||Wt(e)||It(e)||lo(e)}function Xz(e){jr(Ws(e),"Array gallery control must be Array of Object controls");let o=e.control,t;for(let r in o.controls){jr(!t,"Multiple item properties found in gallery control");let n=o.controls[r];jr(n?.type==="responsiveimage"),t=[r,n]}return jr(t,"Gallery control must have at least one item property"),t}function Qz(e,o){if(!sn(o)||!o.value)return;let t=o.value[e];if(t?.type==="image")return t}function Jz(e){return e?e.filter(o=>!rT(o)):[]}function rT(e){if(!sn(e)||!e.value)return!1;let o=Object.values(e.value);if(o.length!==1)return!1;let t=o[0];return Vd(t)?ne(t.value):!1}function pg(e){if(!Ws(e))return!1;let o=Object.values(e.control.controls);return o.length!==1?!1:o[0]?.type==="responsiveimage"}function mg(e){return`${e??"Field"} is required`}function fg(e,o){return`Exceeded max length by ${Sp(e-o,"character","characters")}`}function rO(e){return`Must have at least ${e.minCount} ${hg(e)}`}function nO(e){return`Must have at most ${e.maxCount} ${hg(e)}`}var iO="Slug value is already taken and must be unique";function hg(e){return pg(e)?"images":"items"}function hu(e,o){let t=Pr(o).getRouteSegmentIdToRawPathMap(o).get(e.id);return t?or(t):"Unknown"}function nT(e,o,t){if(e.id===o.root.homePageNodeId)return"Home";let n=Xt(o,e);if(!n)return"Unknown";let a=e.dataIdentifier;if(!a)return or(n);let i=t.dataForIdentifier(a);return i?or(Ep(i,n)):or(n)}function iT(e,o){let t=o.getParent(e.id);return Ue(t)?ya(t,e)??"Unknown":"Unknown"}function hO(e,o,t){if(It(e))return"Site";if(lo(e))return hu(e,o);if(Ue(e))return e.resolveValue("name")||"Unknown";if(Wt(e))return iT(e,o)||"Unknown";if(w(e))return nT(e,o,t);if(Te(e))return e.resolveValue("name")||"Unknown";if(gt(e))return e.resolveValue("name")||"Unknown";Z(e,"Invalid localization scope")}function gg(e){let o=Lp(e);for(let t of o.querySelectorAll("*"))t.tagName!=="BR"&&(t.removeAttribute("class"),t.removeAttribute("style"),t.removeAttribute("data-styles-preset"));return o.innerHTML}function y2(e){return e==="hidden"?null:e}var C2=["new","needsReview","done","hidden"],aT="controlPropKey";function S2(e){return aT in e}function T2(e){return"groups"in e}var sT="collectionNodeId";function v2(e){return sT in e}var lT={string:!0,richtext:!0,image:!0,enum:!0,link:!0,slug:!0};function uT(e){return e in lT}function Sg(e){return uT(e.type)}var dT={string:!0,richtext:!0,image:!0,link:!0};function Tg(e){return e in dT}function cT(e){return e?e.type==="richtext"?!0:e.type==="RichTextNode"?e.textType==="rich-text":!1:!1}function I2(e){return e?e.type==="image"||e.type==="FrameNode":!1}function b2(e){return e?e.type==="nodeLink"||e.type==="link":!1}function P2(e){return e?e.type==="RootNode"||e.type==="WebPageNode":!1}function N2(e){return e?.type==="slug"||pT(e)}function pT(e){return e?.type==="RouteSegmentNode"}function mT(e){return Eo(e)||e===""||Um(e)}function x2(e,o){if(!e||cT(e))return!1;if(e.value.includes(`
`))return!0;let t=e.localizedValues[o.id];return t?!!t.value?.includes(`
`):!1}function vg(e,o,t){return o?o.hash!==t||o.needsReview?"needsReview":"done":mT(e)?"done":"new"}function We(e,o,t,r,n,a){return Object.fromEntries(o.map(i=>{let l=t[i.id];if(n?.[i.id])return[i.id,"warning"];if(a){let u=a(i);if(u)return[i.id,u]}return[i.id,vg(e,l,r)]}))}function Cu(e){return o=>e[o.id]?null:"done"}function Su(e,o,t){return r=>{if(L(e)&&o){let n=o[r.id];if(n)return vg(e,n,t)}return null}}var Ce={};Object.freeze(Ce);function fT(e,o,t,r,n,a,i){let l=(u,s,c)=>{if(Se(s)||!L(s)||s.length===0&&!c)return;let f=fe(s),g=c??Ce,y=We(s,a,g,f);i.push({type:e.name,transformId:e.id,keyPath:qo(o,u),nodeId:n.id,scopeId:r.id,property:u,value:s,controlPropKey:t,controlPropName:void 0,ancestorControlKeyPath:void 0,valueWordCount:He(s),hash:f,localizedValues:g,localizedValueStatuses:y,managedByPluginButUserEditable:!1})};l("truthy",e.truthy,e.truthyLocalized),l("falsy",e.falsy,e.falsyLocalized),e.fallback&&l("fallback",e.fallback.value,e.fallback.valueLocalized)}function hT(e,o,t,r,n,a,i,l){if(o.outputType!=="string")return;for(let f of o.cases){if(Kr(e)&&e.startValue.id===Ec)break;if(Se(f.to)||!L(f.to)||f.to.length===0&&!f.toLocalized)continue;let g=fe(f.to),y=f.toLocalized??Ce,S=We(f.to,i,y,g),v=qo(t,"cases");l.push({type:"convertFromEnum",transformId:o.id,keyPath:qn(v,f.id),nodeId:a.id,scopeId:n.id,caseId:f.id,isDefaultCase:!1,value:f.to,ancestorControlKeyPath:void 0,controlPropKey:r,controlPropName:void 0,valueWordCount:He(f.to),hash:g,localizedValues:y,localizedValueStatuses:S,managedByPluginButUserEditable:!1})}if(!o.default||Se(o.default)||!L(o.default))return;let u=fe(o.default),s=o.defaultLocalized??Ce,c=We(o.default,i,s,u);l.push({type:"convertFromEnum",transformId:o.id,keyPath:qo(t,"default"),nodeId:a.id,scopeId:n.id,caseId:null,isDefaultCase:!0,ancestorControlKeyPath:void 0,value:o.default,controlPropKey:r,controlPropName:void 0,valueWordCount:He(o.default),hash:u,localizedValues:s,localizedValueStatuses:c,managedByPluginButUserEditable:!1})}function ns(e,o,t,r,n,a,i){if(!(!nd(t.outputType)||t.outputType!=="string")){for(let l of t.transforms)if(rd(l))switch(l.name){case"convertFromEnum":{hT(t,l,r,n,e,o,a,i);break}case"convertFromBoolean":{fT(l,r,n,e,o,a,i);break}case"prefix":case"suffix":{if(Se(l.value)||l.value.length===0&&!l.valueLocalized)return;let u=fe(l.value),s=l.valueLocalized??Ce,c=We(l.value,a,s,u);i.push({type:l.name,transformId:l.id,keyPath:qn(r,l.id),controlPropKey:n,controlPropName:void 0,ancestorControlKeyPath:void 0,nodeId:o.id,scopeId:e.id,value:l.value,valueWordCount:He(l.value),hash:u,localizedValues:s,localizedValueStatuses:c,managedByPluginButUserEditable:!1});continue}default:}}}function gT(e,o,t,r,n,a){if(io(t.textContent)){if(!Me(e,t,"textContent"))return;ns(o,t,t.textContent,t.id,t.id,r,n);return}if(ue(t.htmlContent)||ue(t.textContent))return;let i=Me(e,t,"html"),l=Me(e,t,"htmlLocalized");if(!i&&!l)return;let u=t.html,s=Rr(u),c=Om(u),f=a==="canvasHtmlAsTextContentIfPossible"?c:"rich-text",g=f==="text"?s:gg(u);if(f==="text"&&!l&&Ge(t)){let D=e.getNode(t.originalid);if(D&&Rr(D.html)===s)return}let S=fe(c===f?g:s),v=t.htmlLocalized??Ce,F=We(g,r,v,S);n.push({type:"RichTextNode",keyPath:yT(t.id),nodeId:t.id,scopeId:o.id,value:g,valueWordCount:He(g,!0),textType:f,hash:S,localizedValues:v,localizedValueStatuses:F,managedByPluginButUserEditable:!1,inherited:!l})}function yT(e){return`${e}_html`}function yg(e){if(It(e))return"RootNode";if(w(e))return"WebPageNode";Z(e)}function Cg(e,o,t,r){let n={};for(let a of o){let i=t[a.id];if(!i||!i.value)continue;let l=$p({collectionData:r,componentLoader:e,type:"id",value:i.value});l&&(n[a.id]=l)}return n}function Ig(e,o,t,r,n,a){let i=null;if(w(r)&&(i=o.dataForIdentifier(r.dataIdentifier)),r.webMetadata?.title||r.titleLocalized){let l=r.webMetadata?.title??e.root.webMetadata?.title??"",u=fe(l),s=r.titleLocalized??Ce,c=Cg(o,n,s,i),f=We(l,n,s,u,c);a.push({type:yg(r),keyPath:`${r.id}_title`,nodeId:r.id,scopeId:t.id,value:l,valueWordCount:He(l),hash:u,localizedValues:s,localizedValueStatuses:f,managedByPluginButUserEditable:!1,key:"title",dataIdentifier:Tr(r)?r.dataIdentifier:void 0,warnings:c})}if(r.webMetadata?.description||r.descriptionLocalized){let l=r.webMetadata?.description??e.root.webMetadata?.description??"",u=fe(l),s=r.descriptionLocalized??Ce,c=Cg(o,n,s,i),f=We(l,n,s,u,c);a.push({type:yg(r),keyPath:`${r.id}_description`,nodeId:r.id,scopeId:t.id,value:l,valueWordCount:He(l),hash:u,localizedValues:s,localizedValueStatuses:f,managedByPluginButUserEditable:!1,key:"description",dataIdentifier:Tr(r)?r.dataIdentifier:void 0,warnings:c})}}function CT(e){return`${e}_fillImageLocalized`}function ST(e,o,t,r,n){if(!wc(t)||!L(t.fillImage)||t.fillImage.length===0)return;let a=Me(e,t,"fillImage"),i=Me(e,t,"fillImageLocalized"),l=Me(e,t,"altAttribute"),u=Me(e,t,"altAttributeLocalized");if(!a&&!i&&!l&&!u)return;let s=t.altAttribute??la,c=fe(s),f=t.altAttributeLocalized??Ce,g=t.fillImage,y=fe(g),S=t.fillImageLocalized??Ce,v=We(s,r,f,c,void 0,Su(g,S,y));n.push({type:"FrameNode",keyPath:CT(t.id),nodeId:t.id,scopeId:o.id,value:s,valueWordCount:He(s),hash:c,localizedValues:f,localizedValueStatuses:v,managedByPluginButUserEditable:!1,inherited:!u,supportsAlt:!0,image:g,imageHash:y,imageLocalizedValues:S,imageInherited:!i,positionX:Ns(t.fillImagePositionX)?t.fillImagePositionX:void 0,positionY:Ns(t.fillImagePositionY)?t.fillImagePositionY:void 0,supportsFocalPoint:!0})}function bg(e,o,t,r){if(!Xe.isOn("localizedLinks"))return;let n=o.getLink();if(!Ai(n))return;let a=n.url,i=fe(a),l=o.linkLocalized??Ce,u=We(a,t,l,i,void 0,Cu(l));r.push({type:"nodeLink",keyPath:`${o.id}_linkLocalized`,nodeId:o.id,scopeId:e.id,value:a,valueWordCount:a?1:0,hash:i,localizedValues:l,localizedValueStatuses:u,managedByPluginButUserEditable:!1,aiTranslationDisabled:!0})}function TT(e,o,t,r,n){ST(e,o,t,r,n),bg(o,t,r,n)}function is(e){return!!(Tg(e)||e==="array"||e==="object")}function rs(e,o,t){return`${e}.${o}.${t??""}`}function vT(e){if(w(e)&&Jd(e))return e.layoutTemplateIdentifier;if(Q(e))return e.codeComponentIdentifier}function IT(e,o,t,r,n,a){let i=vT(r);if(!i)return;let l=o.componentForIdentifier(i);if(!l)return;let u=r.getControlProps(l.properties);function s(c,f,g,y=void 0){let S=f.type;if(S==="array"&&Ju(f.value)){if(g.type!=="array")return;let v=g.control;for(let F of f.value){if(!is(F.type))continue;let D=qn(y,F.id);s(c,F,v,D)}}if(S==="object"&&lt(f.value)){if(g.type!=="object")return;for(let v in f.value){let F=f.value[v];if(!F||!is(F.type))continue;let D=qo(y,v),k=g.controls[v];k&&s(c,F,k,D)}}if(Tg(S))switch(S){case"string":{if(!Me(e,r,Ee(c))||g.type==="string"&&(g.preventLocalization||g.optional&&we(f.value))||(io(f.value)&&ns(t,r,f.value,qo(r.id,c),c,n,a),!L(f.value)))break;let v=f.value,F=fe(v),D=f.valueLocalized??Ce,k=We(v,n,D,F);a.push({type:"string",keyPath:rs(r.id,c,y),controlPropKey:c,controlPropName:g.title||qr(c),ancestorControlKeyPath:y,nodeId:r.id,scopeId:t.id,value:v,valueWordCount:He(v),hash:F,localizedValues:D,localizedValueStatuses:k,managedByPluginButUserEditable:!1});break}case"link":{if(!Xe.isOn("localizedLinks")||!Me(e,r,Ee(c))||(io(f.value)&&ns(t,r,f.value,qo(r.id,c),c,n,a),!Ai(f.value)))break;let v=f.value.url,F=fe(v),D=f.valueLocalized??Ce,k=We(v,n,D,F,void 0,Cu(D));a.push({type:"link",keyPath:rs(r.id,c,y),controlPropKey:c,controlPropName:g.title||qr(c),ancestorControlKeyPath:y,nodeId:r.id,scopeId:t.id,value:v,valueWordCount:v?1:0,hash:F,localizedValues:D,localizedValueStatuses:k,managedByPluginButUserEditable:!1,aiTranslationDisabled:!0});break}case"richtext":{if(S!=="richtext"||!L(f.value)||g.type==="richtext"&&g.preventLocalization||!Me(e,r,Ee(c)))break;let v=f.value,F=fe(v),D=f.valueLocalized??Ce,k=We(v,n,D,F);a.push({type:"richtext",keyPath:rs(r.id,c,y),controlPropKey:c,controlPropName:g.title||qr(c),ancestorControlKeyPath:y,nodeId:r.id,scopeId:t.id,value:v,valueWordCount:He(v,!0),hash:F,localizedValues:D,localizedValueStatuses:k,managedByPluginButUserEditable:!1,contentType:void 0});break}case"image":{if(!f||f.type!=="image"||!L(f.value)||g.type!=="responsiveimage"&&g.type!=="image"||!Me(e,r,Ee(c)))break;let v=g.type==="responsiveimage",F=f.alt??la,D=fe(F),k=v?f.altLocalized??Ce:Ce,j=f.value,M=fe(j),U=f.valueLocalized??Ce,K=We(F,n,k,D,void 0,Su(j,U,M)),G=g.type==="responsiveimage";a.push({type:"image",keyPath:rs(r.id,c,y),controlPropKey:c,controlPropName:g.title||qr(c),ancestorControlKeyPath:y,nodeId:r.id,scopeId:t.id,value:F,valueWordCount:He(F),hash:D,localizedValues:k,localizedValueStatuses:K,managedByPluginButUserEditable:!1,supportsAlt:v,image:j,imageHash:M,imageLocalizedValues:U,supportsFocalPoint:G,positionX:G?f.positionX:void 0,positionY:G?f.positionY:void 0});break}default:}}for(let c in u){let f=u[c];if(!f)continue;let g=l.properties[c];g&&s(c,f,g)}}function bT(e,o,t,r){switch(o.bindingType){case"form":{let n=o.formSelectOptions;if(!n||n.length===0)return;for(let a of n){let i=a.title;if(!i)continue;let l=a.titleLocalized??Ce,u=fe(i),s=We(i,t,l,u);r.push({type:"FormSelectNode",keyPath:`${o.id}_${a.id}`,nodeId:o.id,optionId:a.id,scopeId:e.id,value:i,valueWordCount:He(i),hash:u,localizedValues:l,localizedValueStatuses:s,managedByPluginButUserEditable:!1})}break}case"variable":{if(!o.variableBinding||!Er(e)||!zt(e))return;let n=e.getVariable(o.variableBinding.id);if(!n)return;dn(n,Gm(e))&&r.push(gu(o,e,t,"allItemsLabel",o.allItemsLabelWithDefault,o.allItemsLabelLocalized)),n.type==="boolean"&&(r.push(gu(o,e,t,"booleanTrueLabel",o.booleanTrueLabelWithDefault,o.booleanTrueLabelLocalized)),r.push(gu(o,e,t,"booleanFalseLabel",o.booleanFalseLabelWithDefault,o.booleanFalseLabelLocalized)));break}default:Z(o.bindingType)}}function gu(e,o,t,r,n,a){let i=a??Ce,l=fe(n),u=We(n,t,i,l);return{type:"formSelectGenericOption",keyPath:`${e.id}_${r}`,nodeId:e.id,key:r,scopeId:o.id,value:n,valueWordCount:He(n),hash:l,localizedValues:i,localizedValueStatuses:u,managedByPluginButUserEditable:!1}}function PT(e,o,t,r,n){let a=`${t.id}_placeholder`;if(ue(t.formInputPlaceholder)){if(Se(t.formInputPlaceholder)||!Me(e,t,"formInputPlaceholder"))return;ns(o,t,t.formInputPlaceholder,a,t.id,r,n);return}if(!t.formInputPlaceholder||!Me(e,t,"formInputPlaceholder"))return;let i=fe(t.formInputPlaceholder),l=t.formInputPlaceholderLocalized??Ce;n.push({keyPath:a,type:"FormPlainTextInputNode",nodeId:t.id,scopeId:o.id,value:t.formInputPlaceholder,valueWordCount:He(t.formInputPlaceholder),hash:fe(t.formInputPlaceholder),localizedValues:l,localizedValueStatuses:We(t.formInputPlaceholder,r,l,i),managedByPluginButUserEditable:!1})}function Pg(e,o,t,r,n,a,i){w(r)&&Ig(e,o,t,r,n,a),_e(r)&&gT(e,t,r,n,a,i),(Q(r)||w(r))&&IT(e,o,t,r,n,a),ie(r)&&TT(e,t,r,n,a),(gi(r)||de(r))&&bg(t,r,n,a),Ci(r)&&PT(e,t,r,n,a),Si(r)&&bT(t,r,n,a)}var Ng=(e,o)=>o?`${e.update}-${o.update}`:e.update.toString();function Jn(e,o,t,r,n,a,i,l){if(o.mutable||t?.mutable)return;let u=o.cache.localizationSourceGroup;if(u&&!(u.update!==Ng(o,t)||u.componentHash!==n||u.locales!==r||u.parentVariables!==a||!Ao(u.subGroups,i)||!Ao(u.settings,l))&&!(Fn(e,o)&&u.includedLocales!==o.includedLocales))return u}function Zn(e,o,t,r,n,a,i,l,u){o.mutable||t?.mutable||(o.cache.localizationSourceGroup={update:Ng(o,t),locales:n,componentHash:a,parentVariables:i,group:r,includedLocales:Fn(e,o)?o.includedLocales:void 0,subGroups:l,settings:u})}function NT(e,o,t,r,n,a,i){let l=w(t)&&t.abTestingParentId!==void 0;if(Eg(e,t)&&!l)return;let u=i==="canvasHtmlAsTextContentIfPossible";if(u){let g=Jn(e,t,void 0,r,n,yo,void 0,void 0);if(g){g.group&&a.push(g.group);return}}let s=[];for(let g of t.walk())Pg(e,o,t,g,r,s,i);let c=Fn(e,t),f;if(s.length>0){let g=w(t)?Xn(e,o,t):t.resolveValue("name")??"Unknown";l&&(g=`${g} \xB7 ${t.resolveValue("name")||So(o,t)}`),f={type:"sourceGroup",name:g,groupType:w(t)?"page":gt(t)?"template":"component",nodeId:t.id,supportsLocaleVisibility:c,includedLocaleIds:c?Aa(e,t):void 0,items:s},a.push(f)}u&&Zn(e,t,void 0,f,r,n,yo,void 0,void 0)}function Qn(e,o,t){return t?`${e}.${o}.${t}`:`${e}.${o}`}function xT(e){return e.type!=="rich-text"?e.value.length:Rr(e.value).length}function yu(e,o,t){let r=t.required,n=t.type==="link"?void 0:t.options?.maxLength;if(!r&&!q(n))return;let a={};for(let i of e){let l=o[i.id];if(!As(l))continue;let u=xT(l);r&&u===0?a[i.id]=mg(t.name):q(n)&&u>n&&(a[i.id]=fg(u,n))}return a}function xg(e,o,t,r){let n={};for(let a of e){let i=o[a.id];if(!As(i))continue;let u=t[a.id]?.get(i.value);u&&u>1&&(n[a.id]=r)}return n}function FT(e,o,t,r,n,a,i,l,u){let s=a.type;switch(s){case"string":{if(Bi(a))return;let c;if(l){if(l.type!==s||!L(l.value))return;c=l.value}else{if(qd(a))return;c=a.initialValue}let f=fe(c),g=l?.valueLocalized??Ce,y=yu(r,g,a),S=We(c,r,g,f,y);return{type:"string",keyPath:Qn(t.id,i,n),nodeId:t.id,scopeId:o,controlPropKey:i,controlPropName:a.name,ancestorControlKeyPath:n,value:c,valueWordCount:He(c),hash:f,localizedValues:g,localizedValueStatuses:S,managedByPluginButUserEditable:a.userEditable??!1,warnings:y}}case"link":{if(!l||l.type!==s||!Ai(l.value)||!Xe.isOn("localizedLinks"))return;let c=l.value.url,f=fe(c),g=l?.valueLocalized??Ce,y=yu(r,g,a),S=We(c,r,g,f,y);return{type:"link",keyPath:Qn(t.id,i,n),nodeId:t.id,scopeId:o,controlPropKey:i,controlPropName:a.name,ancestorControlKeyPath:n,value:c,valueWordCount:c?1:0,hash:f,localizedValues:g,localizedValueStatuses:S,managedByPluginButUserEditable:a.userEditable??!1,warnings:y,aiTranslationDisabled:!0}}case"slug":{if(e.root.translatePagePaths==="no"||!l)return;N(l.type==="string","expected slug controlType to be a string"),N(L(l.value),"expected slug value to be a string");let c=l.value,f=fe(c),g=l?.valueLocalized??Ce,y=xg(r,g,u,"Each item in the Collection must have a unique slug"),S=We(c,r,g,f,y,e.root.translatePagePaths==="legacy"?Cu(g):void 0);return{type:"slug",keyPath:Qn(t.id,i,n),controlPropKey:i,controlPropName:a.name,ancestorControlKeyPath:n,nodeId:t.id,scopeId:o,value:c,valueWordCount:He(c),hash:f,localizedValues:g,localizedValueStatuses:S,managedByPluginButUserEditable:a.userEditable??!1,warnings:y,aiTranslationDisabled:!e.root.translatePagePathsWithAI,collectionItemIsDraft:t.isDraft??!1}}case"richtext":{let c;if(Bi(a))return;if(l){if(l.type!==s||!L(l.value))return;c=l.value}else c=a.initialValue;let f=fe(c),g=l?.valueLocalized??Ce,y=yu(r,g,a),S=We(c,r,g,f,y);return{type:"richtext",keyPath:Qn(t.id,i,n),nodeId:t.id,scopeId:o,controlPropKey:i,controlPropName:a.name,ancestorControlKeyPath:n,value:c,valueWordCount:He(c,!0),hash:f,localizedValues:g,localizedValueStatuses:S,managedByPluginButUserEditable:a.userEditable??!1,warnings:y,contentType:a.type==="richtext"?a.contentType:void 0}}case"image":{let c;if(l){if(l.type!==s||!L(l.value))return;c=l.value}else{if(!L(a.initialValue))return;c=a.initialValue}let f=fe(c),g=l?.valueLocalized??Ce,y=l?.alt??la,S=fe(y),v=l?.altLocalized??Ce,F=We(y,r,v,S,void 0,Su(c,g,f));return{type:"image",keyPath:Qn(t.id,i,n),nodeId:t.id,scopeId:o,controlPropKey:i,controlPropName:a.name,ancestorControlKeyPath:n,value:y,valueWordCount:He(y),hash:S,localizedValues:v,localizedValueStatuses:F,supportsAlt:!0,image:c,imageHash:f,imageLocalizedValues:g,managedByPluginButUserEditable:a.userEditable??!1,supportsFocalPoint:!0,positionX:l?.positionX,positionY:l?.positionY}}case"enum":return;default:}}function ET(e,o,t,r,n,a){let i=t.id;function l(u,s,c,f=void 0){if(s&&s.type==="array"){if(c.type!=="array"||ue(s.value))return;for(let y of s.value){if(!is(y.type)||!sn(y)||!y.value)continue;let S=qn(f,y.id);for(let v of c.itemVariables){if(!br(v))continue;let F=y.value[v.id];if(!F||!is(F.type))continue;let D=qo(S,v.id);l(u,F,v,D)}}}if(!Sg(c))return;let g=FT(e,i,t,r,f,c,u,s,a);g&&n.push(g)}for(let u of o.variables){if(!br(u))continue;let s=t.getControlProp(u.id);l(u.id,s,u)}}var Fg=td((e,o)=>({translatePagePaths:e,translatePagePathsWithAI:o}));function AT(e,o,t,r,n,a){let i=Fg(e.root.translatePagePaths,e.root.translatePagePathsWithAI),l=Jn(e,t,void 0,r,ar,o.variables,void 0,i);if(l){l.group&&a.push(l.group);return}let u=[],s=Aa(e,t);if(ET(e,o,t,r,u,n),u.length>0){for(let f of u)f.insetLevel=1;let c={type:"sourceGroup",groupType:"collectionItem",collectionName:o.resolveValue("name")??"Unknown",collectionNodeId:o.id,supportsLocaleVisibility:!0,includedLocaleIds:s,name:ya(o,t)??"Unknown",nodeId:t.id,items:u};Zn(e,t,void 0,c,r,ar,o.variables,void 0,i),a.push(c)}}function kT(e,o,t,r){let n=t.name,a=fe(n),i=t.nameLocalized??Ce,l=We(n,r,i,a);return{type:"enum",keyPath:`${e.id}_${o.id}_${t.id}`,nodeId:e.id,scopeId:e.id,variableId:o.id,enumCaseId:t.id,value:n,valueWordCount:He(n),hash:a,localizedValues:i,localizedValueStatuses:l,managedByPluginButUserEditable:!1}}function DT(e,o,t,r){let n=[],a=RT(t,o);for(let c of o.getUnsortedChildren())AT(e,o,c,t,a,n);let i=Jn(e,o,void 0,t,ar,yo,n,void 0);if(i){i.group&&r.push(i.group);return}let l=o.variables.filter(Sg);if(l.length===0)return;let u=[];for(let c of l){let f=c.type;switch(f){case"enum":{if(Bi(c))break;for(let g of c.cases)u.push(kT(o,c,g,t));break}case"string":case"richtext":case"image":case"link":case"slug":break;default:}}let s=u.length>0||n.length>0?{type:"sourceGroup",groupType:"collection",name:o.resolveValue("name")??"Unknown",nodeId:o.id,supportsLocaleVisibility:!1,includedLocaleIds:void 0,items:u,groups:n}:void 0;Zn(e,o,void 0,s,t,ar,yo,n,void 0),s&&r.push(s)}function RT(e,o){let t={};for(let n of e)t[n.id]=new Map;let r=o.getSlugVariable();if(!r)return t;for(let n of o.getUnsortedChildren()){let a=n.getControlProp(r.id);if(a&&(N(a.type==="string","expect slug control type to be be of type string"),N(L(a.value),"expected slug control prop value to be string"),!!a.valueLocalized))for(let i in a.valueLocalized){let l=a.valueLocalized[i],u=t[i];if(!u||!l?.value)continue;let s=(u.get(l.value)??0)+1;u.set(l.value,s)}}return t}function LT(e,o,t){let r=e.getParent(t.id)?.children??[],n={};for(let a of o)a.id!==Es&&(n[a.id]=new Map);for(let a of r){if(!lo(a))continue;let{segment:i,segmentLocalized:l}=a;for(let u of o){if(u.id===Es)continue;let c=Dd(u,l)?.value??i,f=n[u.id];if(!f)continue;let g=(f.get(c)??0)+1;f.set(c,g)}}return n}function VT(e,o,t,r){let n=Jn(e,e.root,void 0,t,ar,yo,void 0,void 0);if(n){n.group&&r.push(n.group);return}let a=[];Ig(e,o,e.root,e.root,t,a);let i=a.length>0?{type:"sourceGroup",groupType:"settings",name:"Site Settings",nodeId:e.root.id,supportsLocaleVisibility:!1,includedLocaleIds:void 0,items:a}:void 0;Zn(e,e.root,void 0,i,t,ar,yo,void 0,void 0),i&&r.push(i)}function wT(e,o,t,r){for(let n of o.children)DT(e,n,t,r)}function BT(e,o,t,r,n,a){if(!dc(t))return;let i=or(t.segment),l=fe(t.segment),u=t.segmentLocalized??Ce,s=xg(r,u,LT(e,n,t),"Sibling pages must have unique slugs");a.push({keyPath:t.id,type:"RouteSegmentNode",nodeId:t.id,scopeId:o.id,value:i,valueWordCount:He(i),hash:fe(t.segment),localizedValues:u,localizedValueStatuses:We(t.segment,r,u,l,s,void 0),managedByPluginButUserEditable:!1,warnings:s,aiTranslationDisabled:!e.root.translatePagePathsWithAI})}function WT(e,o,t,r,n,a,i){let l=lc(e,"includeDrafts"),u=new Set;for(let s of t.walk())lo(s)&&MT(e,o,s,r,l,n,a,i,u)}function MT(e,o,t,r,n,a,i,l,u){let s=t.webPageId?e.get(t.webPageId):void 0,c=w(s)&&s.isLoaded()?s:null,f=Fg(e.root.translatePagePaths,e.root.translatePagePathsWithAI),g=s&&u.has(s.id),y=c||t,S=y===c?t:void 0,v=Jn(e,y,S,r,a,yo,void 0,f);if(v){v.group&&i.push(v.group);return}let F=[];if(e.root.translatePagePaths==="yes"&&BT(e,y,t,r,n,F),s&&!g){for(let M of s.walk())Pg(e,o,y,M,r,F,l);u.add(s.id)}let D,k=w(s)?Xn(e,o,s):Ho(hu(t,e));w(y)&&y.abTestingParentId&&(k=`${k} \xB7 ${y.resolveValue("name")||So(o,y)}`),t.segment===""&&(k=`${k} /`);let j=Fn(e,y);F.length>0&&(D={type:"sourceGroup",name:k,groupType:"page",nodeId:y.id,supportsLocaleVisibility:j,includedLocaleIds:j?Aa(e,y):void 0,items:F},i.push(D)),Zn(e,y,S,D,r,a,yo,void 0,f)}function F2(e,o,t,r,n){let a=[];if(!t||t.length===0)return a;VT(e,o,t,a);for(let i of e.root.children){let l=w(i)&&i.abTestingParentId!==void 0;Eg(e,i)&&!l||(fu(i)&&(N(i.isLoaded(),"Scope node must be fully loaded"),NT(e,o,i,t,r,a,n)),cd(i)&&(N(i.isLoaded(),"Scope node must be fully loaded"),wT(e,i,t,a)),Sd(i)&&WT(e,o,i,t,r,a,n))}return a}function Eg(e,o){return w(o)&&o.id!==e.root.homePageNodeId}function E2(e,o){return ui(e,o)}function A2(e,o){return Ao(e,o)}function D2(e){window.addEventListener("beforeunload",o=>{e()&&(o.preventDefault(),o.returnValue="You have unsaved changes. They might be lost if you leave the page.")})}var L2=".ts",Ko=".tsx";var zT=["arguments","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","Infinity","NaN","document","undefined","window"],OT=["toolbar"],GT=/^[$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10140}-\u{10174}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{1031F}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{103A0}-\u{103C3}\u{103C8}-\u{103CF}\u{103D1}-\u{103D5}\u{10400}-\u{1049D}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10860}-\u{10876}\u{10880}-\u{1089E}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{10900}-\u{10915}\u{10920}-\u{10939}\u{10980}-\u{109B7}\u{109BE}\u{109BF}\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A60}-\u{10A7C}\u{10A80}-\u{10A9C}\u{10AC0}-\u{10AC7}\u{10AC9}-\u{10AE4}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B60}-\u{10B72}\u{10B80}-\u{10B91}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10D00}-\u{10D23}\u{10F00}-\u{10F1C}\u{10F27}\u{10F30}-\u{10F45}\u{10FE0}-\u{10FF6}\u{11003}-\u{11037}\u{11083}-\u{110AF}\u{110D0}-\u{110E8}\u{11103}-\u{11126}\u{11144}\u{11150}-\u{11172}\u{11176}\u{11183}-\u{111B2}\u{111C1}-\u{111C4}\u{111DA}\u{111DC}\u{11200}-\u{11211}\u{11213}-\u{1122B}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A8}\u{112B0}-\u{112DE}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}\u{11350}\u{1135D}-\u{11361}\u{11400}-\u{11434}\u{11447}-\u{1144A}\u{1145F}\u{11480}-\u{114AF}\u{114C4}\u{114C5}\u{114C7}\u{11580}-\u{115AE}\u{115D8}-\u{115DB}\u{11600}-\u{1162F}\u{11644}\u{11680}-\u{116AA}\u{116B8}\u{11700}-\u{1171A}\u{11800}-\u{1182B}\u{118A0}-\u{118DF}\u{118FF}\u{119A0}-\u{119A7}\u{119AA}-\u{119D0}\u{119E1}\u{119E3}\u{11A00}\u{11A0B}-\u{11A32}\u{11A3A}\u{11A50}\u{11A5C}-\u{11A89}\u{11A9D}\u{11AC0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2E}\u{11C40}\u{11C72}-\u{11C8F}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D89}\u{11D98}\u{11EE0}-\u{11EF2}\u{12000}-\u{12399}\u{12400}-\u{1246E}\u{12480}-\u{12543}\u{13000}-\u{1342E}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16AD0}-\u{16AED}\u{16B00}-\u{16B2F}\u{16B40}-\u{16B43}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E7F}\u{16F00}-\u{16F4A}\u{16F50}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18AF2}\u{1B000}-\u{1B11E}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E14E}\u{1E2C0}-\u{1E2EB}\u{1E800}-\u{1E8C4}\u{1E900}-\u{1E943}\u{1E94B}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{20000}-\u{2A6D6}\u{2A700}-\u{2B734}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}]+/u,_T=/[\0-#%-/:-@[-^`{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0488\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08BE-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D04\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1ABE-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u200C\u200E-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20DD-\u20E0\u20E2-\u20E4\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u220B\u220D-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31BB-\u31EF\u3200-\u33FF\u4DB6-\u4DFF\u9FF0-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA670-\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7C7-\uA7F6\uA828-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB68-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF\u{1000C}\u{10027}\u{1003B}\u{1003E}\u{1004E}\u{1004F}\u{1005E}-\u{1007F}\u{100FB}-\u{1013F}\u{10175}-\u{101FC}\u{101FE}-\u{1027F}\u{1029D}-\u{1029F}\u{102D1}-\u{102DF}\u{102E1}-\u{102FF}\u{10320}-\u{1032C}\u{1034B}-\u{1034F}\u{1037B}-\u{1037F}\u{1039E}\u{1039F}\u{103C4}-\u{103C7}\u{103D0}\u{103D6}-\u{103FF}\u{1049E}\u{1049F}\u{104AA}-\u{104AF}\u{104D4}-\u{104D7}\u{104FC}-\u{104FF}\u{10528}-\u{1052F}\u{10564}-\u{105FF}\u{10737}-\u{1073F}\u{10756}-\u{1075F}\u{10768}-\u{107FF}\u{10806}\u{10807}\u{10809}\u{10836}\u{10839}-\u{1083B}\u{1083D}\u{1083E}\u{10856}-\u{1085F}\u{10877}-\u{1087F}\u{1089F}-\u{108DF}\u{108F3}\u{108F6}-\u{108FF}\u{10916}-\u{1091F}\u{1093A}-\u{1097F}\u{109B8}-\u{109BD}\u{109C0}-\u{109FF}\u{10A04}\u{10A07}-\u{10A0B}\u{10A14}\u{10A18}\u{10A36}\u{10A37}\u{10A3B}-\u{10A3E}\u{10A40}-\u{10A5F}\u{10A7D}-\u{10A7F}\u{10A9D}-\u{10ABF}\u{10AC8}\u{10AE7}-\u{10AFF}\u{10B36}-\u{10B3F}\u{10B56}-\u{10B5F}\u{10B73}-\u{10B7F}\u{10B92}-\u{10BFF}\u{10C49}-\u{10C7F}\u{10CB3}-\u{10CBF}\u{10CF3}-\u{10CFF}\u{10D28}-\u{10D2F}\u{10D3A}-\u{10EFF}\u{10F1D}-\u{10F26}\u{10F28}-\u{10F2F}\u{10F51}-\u{10FDF}\u{10FF7}-\u{10FFF}\u{11047}-\u{11065}\u{11070}-\u{1107E}\u{110BB}-\u{110CF}\u{110E9}-\u{110EF}\u{110FA}-\u{110FF}\u{11135}\u{11140}-\u{11143}\u{11147}-\u{1114F}\u{11174}\u{11175}\u{11177}-\u{1117F}\u{111C5}-\u{111C8}\u{111CD}-\u{111CF}\u{111DB}\u{111DD}-\u{111FF}\u{11212}\u{11238}-\u{1123D}\u{1123F}-\u{1127F}\u{11287}\u{11289}\u{1128E}\u{1129E}\u{112A9}-\u{112AF}\u{112EB}-\u{112EF}\u{112FA}-\u{112FF}\u{11304}\u{1130D}\u{1130E}\u{11311}\u{11312}\u{11329}\u{11331}\u{11334}\u{1133A}\u{11345}\u{11346}\u{11349}\u{1134A}\u{1134E}\u{1134F}\u{11351}-\u{11356}\u{11358}-\u{1135C}\u{11364}\u{11365}\u{1136D}-\u{1136F}\u{11375}-\u{113FF}\u{1144B}-\u{1144F}\u{1145A}-\u{1145D}\u{11460}-\u{1147F}\u{114C6}\u{114C8}-\u{114CF}\u{114DA}-\u{1157F}\u{115B6}\u{115B7}\u{115C1}-\u{115D7}\u{115DE}-\u{115FF}\u{11641}-\u{11643}\u{11645}-\u{1164F}\u{1165A}-\u{1167F}\u{116B9}-\u{116BF}\u{116CA}-\u{116FF}\u{1171B}\u{1171C}\u{1172C}-\u{1172F}\u{1173A}-\u{117FF}\u{1183B}-\u{1189F}\u{118EA}-\u{118FE}\u{11900}-\u{1199F}\u{119A8}\u{119A9}\u{119D8}\u{119D9}\u{119E2}\u{119E5}-\u{119FF}\u{11A3F}-\u{11A46}\u{11A48}-\u{11A4F}\u{11A9A}-\u{11A9C}\u{11A9E}-\u{11ABF}\u{11AF9}-\u{11BFF}\u{11C09}\u{11C37}\u{11C41}-\u{11C4F}\u{11C5A}-\u{11C71}\u{11C90}\u{11C91}\u{11CA8}\u{11CB7}-\u{11CFF}\u{11D07}\u{11D0A}\u{11D37}-\u{11D39}\u{11D3B}\u{11D3E}\u{11D48}-\u{11D4F}\u{11D5A}-\u{11D5F}\u{11D66}\u{11D69}\u{11D8F}\u{11D92}\u{11D99}-\u{11D9F}\u{11DAA}-\u{11EDF}\u{11EF7}-\u{11FFF}\u{1239A}-\u{123FF}\u{1246F}-\u{1247F}\u{12544}-\u{12FFF}\u{1342F}-\u{143FF}\u{14647}-\u{167FF}\u{16A39}-\u{16A3F}\u{16A5F}\u{16A6A}-\u{16ACF}\u{16AEE}\u{16AEF}\u{16AF5}-\u{16AFF}\u{16B37}-\u{16B3F}\u{16B44}-\u{16B4F}\u{16B5A}-\u{16B62}\u{16B78}-\u{16B7C}\u{16B90}-\u{16E3F}\u{16E80}-\u{16EFF}\u{16F4B}-\u{16F4E}\u{16F88}-\u{16F8E}\u{16FA0}-\u{16FDF}\u{16FE2}\u{16FE4}-\u{16FFF}\u{187F8}-\u{187FF}\u{18AF3}-\u{1AFFF}\u{1B11F}-\u{1B14F}\u{1B153}-\u{1B163}\u{1B168}-\u{1B16F}\u{1B2FC}-\u{1BBFF}\u{1BC6B}-\u{1BC6F}\u{1BC7D}-\u{1BC7F}\u{1BC89}-\u{1BC8F}\u{1BC9A}-\u{1BC9C}\u{1BC9F}-\u{1D164}\u{1D16A}-\u{1D16C}\u{1D173}-\u{1D17A}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D241}\u{1D245}-\u{1D3FF}\u{1D455}\u{1D49D}\u{1D4A0}\u{1D4A1}\u{1D4A3}\u{1D4A4}\u{1D4A7}\u{1D4A8}\u{1D4AD}\u{1D4BA}\u{1D4BC}\u{1D4C4}\u{1D506}\u{1D50B}\u{1D50C}\u{1D515}\u{1D51D}\u{1D53A}\u{1D53F}\u{1D545}\u{1D547}-\u{1D549}\u{1D551}\u{1D6A6}\u{1D6A7}\u{1D6C1}\u{1D6DB}\u{1D6FB}\u{1D715}\u{1D735}\u{1D74F}\u{1D76F}\u{1D789}\u{1D7A9}\u{1D7C3}\u{1D7CC}\u{1D7CD}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA9A}\u{1DAA0}\u{1DAB0}-\u{1DFFF}\u{1E007}\u{1E019}\u{1E01A}\u{1E022}\u{1E025}\u{1E02B}-\u{1E0FF}\u{1E12D}-\u{1E12F}\u{1E13E}\u{1E13F}\u{1E14A}-\u{1E14D}\u{1E14F}-\u{1E2BF}\u{1E2FA}-\u{1E7FF}\u{1E8C5}-\u{1E8CF}\u{1E8D7}-\u{1E8FF}\u{1E94C}-\u{1E94F}\u{1E95A}-\u{1EDFF}\u{1EE04}\u{1EE20}\u{1EE23}\u{1EE25}\u{1EE26}\u{1EE28}\u{1EE33}\u{1EE38}\u{1EE3A}\u{1EE3C}-\u{1EE41}\u{1EE43}-\u{1EE46}\u{1EE48}\u{1EE4A}\u{1EE4C}\u{1EE50}\u{1EE53}\u{1EE55}\u{1EE56}\u{1EE58}\u{1EE5A}\u{1EE5C}\u{1EE5E}\u{1EE60}\u{1EE63}\u{1EE65}\u{1EE66}\u{1EE6B}\u{1EE73}\u{1EE78}\u{1EE7D}\u{1EE7F}\u{1EE8A}\u{1EE9C}-\u{1EEA0}\u{1EEA4}\u{1EEAA}\u{1EEBC}-\u{1FFFF}\u{2A6D7}-\u{2A6FF}\u{2B735}-\u{2B73F}\u{2B81E}\u{2B81F}\u{2CEA2}-\u{2CEAF}\u{2EBE1}-\u{2F7FF}\u{2FA1E}-\u{E00FF}\u{E01F0}-\u{10FFFF}]+/gu,UT=/^\.+$/u,w2=(e,o)=>{if(e===null||e.trim().length===0)return null;let t=1,r=e.replace(/_\d+$/u,""),n=e;for(;o.includes(n)||HT(n);)n=`${r}_${t}`,t++;return n},HT=e=>zT.includes(e)||window.hasOwnProperty(e)&&!OT.includes(e);function Tu(e,o){if(!o)return null;let t=o.trim();if(t.length===0)return null;let r=e==="selector"?"_":"$";if(e==="directory"){if(UT.test(t))return null}else GT.test(t)||(t=r+t);return t=t.replace(_T,"_"),t=t.replace(/_+/gu,"_"),t=t.replace(/^\$_/u,r),t}function Mr(e){return Tu("variable",e)}function B2(e){let o=Tu("selector",e);return o&&(o=o.replace(/^\$/gu,"_")),o}function Ag(e){return Tu("directory",e)}function kg(e){let t=Mr(e)||"MyComponent",r=t+Ko,n=jT(t);return{name:r,content:n}}function jT(e){return`// Get Started: https://www.framer.com/developers

import { addPropertyControls, ControlType } from "framer"
import { motion } from "framer-motion"

/**
 * @framerSupportedLayoutWidth auto
 * @framerSupportedLayoutHeight auto
 */
export default function ${e}(props) {
    const { tint } = props

    return (
        <motion.div
            style={{
                margin: 50,
                width: 100,
                height: 100,
                borderRadius: 25,
                backgroundColor: tint,
            }}
            animate={{ scale: 1.5 }}
            whileHover={{ rotate: 90 }}
        />
    )
}

addPropertyControls(${e}, {
    tint: {
        title: "Tint",
        type: ControlType.Color,
        defaultValue: "#09F",
    },
})
`}function $T(e){return`import { forwardRef, type ComponentType } from "react"
import { createStore } from "https://framer.com/m/framer/store.js@^1.0.0"
import { randomColor } from "https://framer.com/m/framer/utils.js@^0.9.0"

// Learn more: https://www.framer.com/developers/overrides/

const useStore = createStore({
    background: "#0099FF",
})

export function withRotate(Component): ComponentType {
    return forwardRef((props, ref) => {
        return (
            <Component
                ref={ref}
                {...props}
                animate={{ rotate: 90 }}
                transition={{ duration: 2 }}
            />
        )
    })
}

export function withHover(Component): ComponentType {
    return forwardRef((props, ref) => {
        return <Component ref={ref} {...props} whileHover={{ scale: 1.05 }} />
    })
}

export function withRandomColor(Component): ComponentType {
    return forwardRef((props, ref) => {
        const [store, setStore] = useStore()

        return (
            <Component
                ref={ref}
                {...props}
                animate={{
                    background: store.background,
                }}
                onClick={() => {
                    setStore({ background: randomColor() })
                }}
            />
        )
    })
}
`}function Dg(e){let t=Mr(e)||"MyOverrides",r=t+Ko,n=$T(t);return{name:r,content:n}}function ei(e){return e.endsWith(".json")?!0:/\.[tj]sx?$/u.test(e)}var YT=/^(?:[\w-]+\/)*[\w-]+(?:\.[\w-]+)*$/u;function X2(e){let{path:o}=Rg(e);return YT.test(o)}function qT(e,o){if(ei(e))return e;let[t,r]=Wi(o);return r&&(r=`.${r}`),(!r||!ei(r))&&(r=Ko),e+r}function Q2(e){return ei(e)||(e+=".tsx"),e}function KT(e){let o=e.lastIndexOf("/");return o<0?"":e.slice(0,o)}function XT(e){let o=e.lastIndexOf("/")+1;return e.slice(o)}function vu(...e){let o="";return e.forEach(t=>{for(;t.startsWith("/");)t=t.slice(1);for(;t.endsWith("/");)t=t.slice(0,-1);t!==""&&(o!==""&&(o+="/"),o+=t)}),o}function Rg(e,o=!0){e=e.trim();let[t,r]=Wi(XT(e));r&&(r=`.${r}`);let n=KT(e).split("/").map(l=>Ag(l)).filter(l=>!!l).join("/"),a=Mr(t)||"MyComponent";return(!ei(r)||r===Ko)&&o&&(a=od(a)),{path:vu(n,a+r),dirName:n,name:a,extension:r}}function J2(e,o="component",t=!0){e=e.trim();let{dirName:r,name:n,extension:a}=Rg(e,t);if(ei(a)&&a!==Ko){let u=n+a;return{path:vu(r,u),content:""}}let i=o==="component"?kg(n):Dg(n),l=qT(n+a,i.name);return{path:vu(r,l),content:i.content}}function Z2(e,o){if(!e.has(o))return o;let t=1,r,[n,a]=Wi(o);a&&(a=`.${a}`);do r=n+"_"+String(t++)+a;while(e.has(r));return r}function e3(e){return e==="typescript"||e==="javascript"}function Lg(e,o){let t=e.itemVariables.length===1&&e.itemVariables[0]?.type==="image"?e.itemVariables[0]:void 0,r=b`item`,n={[ua]:b`typeof ${r}?.[${ua}] === "string" ? ${r}[${ua}] : undefined`};for(let i of e.itemVariables){let l=Di(i.name);l?n[i.id]=b`${r}?.[${l}] ?? ${r}?.[${i.id}]`:n[i.id]=b`${r}?.[${i.id}]`}let a=o.bindings.create("arrayFromHumanReadable"+e.id);return o.declarations.file.create(b.joinLines(b`const ${a} = (value) => {${b.joinLines(b`if (!Array.isArray(value)) return`,b`return value.map(${r} => {${b.joinLines(t?b`if (typeof ${r} === "string") return { [${t.id}]: ${r} }`:void 0,b`return ${n}`)}})`)}}`)),a}function QT(e){return[e[1],e[0]]}var JT=new Map(Object.entries(je).map(QT));function bu(e,o){let t=o.addImport("framer",{exportSpecifier:"ControlType"}),r=JT.get(e),n=new Le(r);return b`${t}.${n}`}var ZT={boolean:"boolean",number:"number",string:"string",richtext:"string",fusednumber:"any",enum:"string",segmentedenum:"string",color:"string",image:"string",responsiveimage:"{src: string; srcSet?: string; alt?: string}",file:"string",componentinstance:"any",slot:"any",array:"any[]",eventhandler:"any",changehandler:"(value: any) => void",transition:"Record<string, any>",link:"string",linkrelvalues:"string[] | undefined",pagescope:"string",date:"string",object:"Record<string, any>",font:"Record<string, any> | undefined",scrollsectionref:"React.MutableRefObject<HTMLElement>",customcursor:"string",border:"Record<string, any>",cursor:"string",boxshadow:"string",gap:"string",padding:"string",borderradius:"string",collectionreference:"string | undefined",multicollectionreference:"string[] | undefined",trackingid:"string | undefined",vectorsetitem:"React.ComponentType<any> | undefined"};function ev(e){return e?new Le(ZT[e]):b`any`}var Vg="variant";function tv(e){return!ne(e?.defaultValue)}function ov(e,o,t){if(!Te(e))return{};N(e.isLoaded(),"Node must be loaded to generate controls");let r=e.getTopLevelVariants();if(r?.length<2)return{};let n=[],a=[];for(let i of r){let l=i.resolveValue("name")??So(o,i);n.push(i.id),a.push(l)}return{[Vg]:{type:bu("enum",t),title:"Variant",options:n,optionTitles:a}}}function rv(e,o,t,r){if(e.type==="responsiveimage"&&_s(e)&&Gs(e.__vekterDefault)){let{assetReference:n,alt:a}=e.__vekterDefault,i=t.assets?.resolveResponsiveImage(n,{focalPoint:e.__vekterDefault});return i&&L(a)&&(i.alt=a),i}else if(Os(e))switch(e.type){case"responsiveimage":{let n=t.assets?.resolveResponsiveImage(e.__defaultAssetReference);return n||void 0}case"file":{let n=t.assets?.resolve(e.__defaultAssetReference);return n?n.src:void 0}}else{if(o?.type==="array")return o.initialValue?o.initialValue.map(n=>{let a={};if(!n||n.type!=="object"||!lt(n.value))return a;for(let i in n.value){let l=n.value[i];if(l&&$d(l.type))switch(l.type){case"image":{if(!L(l.value))continue;let u=t.assets?.resolveResponsiveImage(l.value,{focalPoint:l});if(!u)continue;u.alt=l.alt??"",a[i]=u;break}case"boolean":di(l.value)&&(a[i]=l.value);break;case"number":q(l.value)&&(a[i]=l.value);break;case"string":L(l.value)&&(a[i]=l.value);break;case"color":L(l.value)&&(qt(l.value)?a[i]=Li(l.value):a[i]=$r.toFormatString(l.value));break;default:Z(l.type)}}return a}):[];if(tv(e)){if(o&&dn(o,r))return;let n=e.defaultValue;if(e.type==="vectorsetitem")return N(un(n),"Vector set item must be a module export identifier"),t.imports.addModuleImport(n.identifier);if(e.type==="richtext"&&L(n))return zm(n,{collectors:t,useFramerMotion:r==="SmartComponent"});if(e.type==="boxshadow"&&xp(n))return Fp(n,"emptyStringWhenEmpty",a=>qt(a)?Li(a):$r.toFormatString(a));if(cl(n))return qt(n)?Li(n):n}}}function as(e,o){return b`${e}?: ${o};`}var wg=["id","width","height"],nv=Object.fromEntries(wg.map(e=>{let o=new Le(e);return[o,o]}));function iv(e,o){let t=new Ct(e);return Ct.addSpreadAtEnd(t,o),t}var Bg=[{name:$e.style,type:b`Record<string, unknown>`},{name:$e.className,type:b`string`},{name:$e.layoutId,type:b`string | number`}];function av(e,o){if(!Te(e)&&!w(e)&&!gt(e)&&!Bt(e))return[];let t=Bg.map(({name:n,type:a})=>({key:nn(n),type:as(n,a)})),r=nn($e.variant);return o&&wo(e)?t.concat([{key:r,type:as($e.variant,b`keyof typeof ${o}`),value:b`${o}[props.${$e.variant}] ?? props.${$e.variant} ?? ${e.baseVariantId}`}]):t.concat([{key:r}])}function Iu(e,o,t){let r=b`props.${new Le(e)}`;return o&&(r=b`${o} ?? ${r}`),t&&(r=b`${r} ?? ${t}`),r}function Wg(e,o,t){if(!w(e)||!Xt(t.tree,e))return;if(!Xe.isOn("dynamicFilters")){let i=Ne(e.dataIdentifier);if(!Ur(i))return}let n=e.getProvidedVariableMap(t.tree,void 0,o,o.activeBundleHash);if(!n)return;let a=new Map;for(let[i,l]of n)w(e)&&e.hasVariable(i)||a.set(i,l);if(a.size!==0)return a}var sv=[...yp,Vg,...wg,...Bg.map(({name:e})=>e.toString()),"name"];function lv(e,o,t,r,n){let a=new Set(sv),i=Object.entries(e).map(([k,{control:j,variable:M,binding:U}])=>{if(!j)return{key:k,binding:U};let K=Cp(Di(j.title)??k,a),G=new Le(K),oe=rv(j,M,t,r),ve=as(G,ev(j.type)),z;if(j.type==="enum"&&j.options&&j.optionTitles&&G){let Ae=new Ct;j.options.forEach((Vt,to)=>{if(!L(Vt)||!j.optionTitles)return;let gr=j.optionTitles[to];L(gr)&&(Ae[gr]=Vt)});let Ie=t.declarations.file.dedupe("humanReadableEnumMap",Ae);ve=as(G,b`keyof typeof ${Ie}`),z=Iu(k,G,oe),z=b`${Ie}[${G}] ?? ${z}`}else if(M?.type==="array"){let Ae=Lg(M,t),Ie=Le.fn(Ae,G);z=Iu(k,Ie,oe)}else z=Iu(k,G,oe);return{key:k,binding:U,name:K,type:ve,value:z}}),l="",u=[],s=[],c=new Ct,f=Wg(o,t.componentLoader,t.treeStore),g={},y={...nv},S=av(o,n);for(let{key:k,binding:j,type:M,value:U,name:K}of[...S,...i]){let G=f?.get(k),oe=j??new Le(k);if(G){let ve=b`${oe} = ${$e.getFromCurrentRouteData}(${G.id})`;if(Rd(G.type)){let z=jd(G.type);cl(z)&&(ve=b`${ve} ?? ${z}`)}u.push(ve)}else{let ve=t.variables.getSetterBinding(k);if(ve&&Xe.isOn("dynamicFilters")){let z=zg(k),Ae=nn(oe),Ie=t.bindings.create(`external${Ae}`),Vt=t.bindings.create(`setExternal${Ae}`);u.push(b`${k}: ${Ie}`),u.push(b`${z}: ${Vt}`);let to=t.declarations.file.dedupe("useStateVariable",b.joinLines(b`(externalState, setExternalState) => {`,b`    const [internalState, setInternalState] = React.useState(externalState)`,b`    const [previousExternalState, setPreviousExternalState] = React.useState(externalState)`,b`    if (setExternalState) {`,b`        return [externalState, setExternalState]`,b`    }`,b`    if (externalState !== previousExternalState) {`,b`        setInternalState(externalState)`,b`        setPreviousExternalState(externalState)`,b`    }`,b`    return [internalState, setInternalState]`,b`}`));s.push(b`const [${oe}, ${ve}] = ${Le.fn(to,Ie,Vt)}`)}else if(ve){let z=t.bindings.create(`external${k}`),Ae=t.bindings.create(`previous${k}`),Ie=t.bindings.create(`setPrevious${k}`);u.push(b`${k}: ${z}`),s.push(b.joinLines(b`const [${oe}, ${ve}] = React.useState(${z})`,b`const [${Ae}, ${Ie}] = React.useState(${z})`,b`if (${z} !== ${Ae}) {${b.joinLines(Le.fn(ve,z),Le.fn(Ie,z))}}`))}else nn(oe)!==k?u.push(b`${k}: ${oe}`):u.push(oe)}M&&(l+=M),U&&(c[k]=U),K&&(g[k]=K,y[K]=new Le(K))}r==="LayoutTemplate"&&u.push($e.children),r==="DesignPage"&&u.push($e.style),Ct.addSpreadAtStart(c,$e.props);let v=t.declarations.file.dedupe("getProps",b`(${iv(y,$e.props)}) => { return ${c} }`),F=u.join(", "),D=F.length>0?new Le(`{ ${F}, ...${$e.restProps} }`):$e.restProps;return{variableMap:Po(g)?void 0:g,types:new Le(l),props:b.joinSections(b`const ${D} = ${Le.fn(v,$e.props)}`,...s)}}function uv(e,o){let t=[],r=Bt(e),n=Mg(e),a=o.variables.getBindings(e.id);for(let l of n){if(!br(l))continue;let u=a.get(l.id),s=Xe.isOn("dynamicFilters")?o.variables.getSetterBinding(l.id):void 0;!r&&!u&&!s||t.push({id:l.id,binding:u,definition:l})}let i=Wg(e,o.componentLoader,o.treeStore);if(i)for(let[l]of i){let u=a.get(l);u&&t.push({id:l,binding:u})}return t}function dv(e,o){let{hidden:t,...r}=e;if(!o)return r;let{description:n,...a}=r;return a}function cv(e,o,t,r,n,a,i,l,u){let{id:s,type:c}=o;switch(c){case"controlReference":{let f=Ne(Yd(r.tree,o.entityIdentifier));if(!f||!o.entityIdentifier||!Ur(f))return;let g=n.addModuleImport(f,{composeWithImports:[n.addImport("framer",{exportSpecifier:"getPropertyControls"})]});if(!g)return;let y=new Ct({hidden:b`undefined`,description:b`undefined`});return Ct.addSpreadAtStart(y,b`${g}[${o.controlKey}]`),L(t.title)&&(y.title=t.title),L(t.description)&&(y.description=t.description),t.type==="responsiveimage"&&_s(t)&&Gs(t.__vekterDefault)&&(y[Xd]=Le.fromValue(t.__vekterDefault)),dn(o,u)?y.defaultValue=b`undefined`:Os(t)?y[Kd]=Le.fromValue(t.__defaultAssetReference):Eo(o.initialValue)||(y.defaultValue=Le.fromValue(o.initialValue)),b`${g}?.[${o.controlKey}] && ${y}`}case"nodePropertyControlReference":case"array":case"vectorsetitem":case"boolean":case"color":case"date":case"enum":case"eventhandler":case"file":case"image":case"link":case"linkrelvalues":case"number":case"richtext":case"scrollsectionref":case"customcursor":case"cursor":case"transition":case"boxshadow":case"string":case"border":case"borderradius":case"gap":case"padding":case"collectionreference":case"multicollectionreference":case"trackingid":case"slug":{let f={...dv(t,i),type:bu(t.type,n)};return l==="vector"&&a&&(f.hidden=!a.getBinding(e.id,s)),f}default:Z(c)}}function Mg(e){return zt(e)?e.variables:[]}function pv(e,o,t,r,n,a,i,l=Mg(e)){let u=ov(e,o,r),s=a==="canvasComponent"&&Xe.isOn("dynamicFilters"),c=Od(e),f=[...l];if(Ue(e)){let g=Rc();f.push(g);let y=Lc();f.push(y);let S=kc(e);f.push(S);let v=Dc(e);f.push(v)}for(let g of f){if(!br(g))continue;let y=Ms(t.tree,o,g,i);if(we(y))continue;N(y.type!=="image","Image variables should become responsive images");let S=cv(e,g,y,t,r,n,c,a,i);if(ne(S)||(u[g.id]=S,!s)||!Mm(g))continue;let v={type:"changehandler",changes:g.id};u[zg(g.id)]={...v,type:bu("changehandler",r)}}if(!Po(u))return new Ct(u,1)}function W3(e,o,t,r,n){let a={},i=[];for(let{id:l,binding:u,definition:s}of uv(e,o)){if(s&&w(e)&&e.hasVariable(s.id))continue;let f=s?Ms(o.treeStore.tree,o.componentLoader,s,t):void 0;a[l]={control:f??void 0,variable:s,binding:u},s&&i.push(s)}return{propertyControls:pv(e,o.componentLoader,o.treeStore,o.imports,o.variables,r,t,i),...lv(a,e,o,t,n)}}function zg(e){return`on${e}Change`}function _3(e){let o={};for(let[t,r]of e)Gg(o,t,r);return o}function U3(e,o,t){return xl(e,r=>{Gg(r,o,t)})}function H3(e,o){return e[o]?xl(e,t=>{let r=t[o];if(r){for(let n of r.dependents){let a=t[n];a&&(a.dependencies.delete(o),ss(a)&&delete t[n])}for(let n of r.dependencies){let a=t[n];a&&(a.dependents.delete(o),ss(a)&&delete t[n])}delete t[o]}}):e}function j3(e,o,t,r,n){let a=new Set,i=[o];for(r=r||new Set,n=n||new Set;i.length>0;){let l=i.pop();if(!l||a.has(l))continue;a.add(l);let u=e[l];if(u){if(r.has(l))n.add(l);else if(!r.size)t.add(l);else{let s=!1;for(let c of u.dependents)if(r.has(c)||n.has(c)){s=!0;break}s?n.add(l):t.add(l)}for(let s of u.dependents)a.has(s)||i.push(s)}}}function $3(e,o){let t=new Set,r=[o];for(;fv(r);){let n=r.shift(),a=e[n];if(a){for(let i of a.dependents)t.has(i)||(t.add(i),r.push(i));if(t.has(o))return!0}}return!1}function mv(e,o){let t=na(e,o);if(t)return t.startsWith("collection")&&!o.startsWith("collection")&&!o.startsWith("draftCollection")?t.replace("collection","draftCollection"):t}function Gg(e,o,t){let r=e[o];if(!r){if(t.length===0)return;r=Og(e,o)}let n=new Set(r.dependencies);for(let a of t){let i=mv(a,o);if(!i)continue;r.dependencies.add(i);let l=e[i];l||(l=Og(e,i)),l.dependents.add(o),r.dependencies.add(i),n.delete(i)}for(let a of n){let i=e[a];i&&(i.dependents.delete(o),ss(i)&&delete e[a])}ss(r)&&delete e[o]}function ss(e){return e.dependents.size===0&&e.dependencies.size===0}function Og(e,o){let t={dependents:new Set,dependencies:new Set};return e[o]=t,t}function fv(e){return e.length>0}var hv=1;function gv(e){return e==="screen"||e==="canvasComponent"}function yv(e){let o=e.metadata.compatibleCmsVersion;return q(o)?o:0}function Cv(e){let o=Tp(e);return e.imports.relative.some(t=>{let r=na(t,o);return L(r)&&r.startsWith("collection")})}function Sv(e){return gv(e.type)&&Cv(e)}function J3(e){return Sv(e)&&yv(e)<hv}var ls=b`params`,_g=b`snippets`,Pu=b`queryLoaders`,Tv=b`snippetsSorting`,Nu=b`pathVariables`,us=b`activeLocale`,Ug={type:"snippets",localIdName:"snippets",localId:Jo("snippets","snippets")},vG=Kn(async(e,o)=>{let{componentLoader:t,treeStore:r,modulesStore:n,assetMap:a}=o,i=new Ln(a),l=new Tn,u=new In("snippets",t,n,l),s=new bn(e,l),c=new vn(l),f=new Nn(e,t,u,l,void 0,r,n),g=new Rn(e,r,s,c,l,u,i),y=new Vn(l,s,g,i,f),S=new Bn(e,s,r,t,u,l,c,y,n,"snippets"),v=new wn(t,c,void 0,u,s,S,void 0,y,n,"snippets"),F=[],D={headStart:[],headEnd:[],bodyStart:[],bodyEnd:[]};for(let k of e.children)k.disabled||(D[k.placement].push(k.id),(k.pageIds&&k.pageIds.length>0||k.loadMode==="always")&&F.push(k));return[{type:"snippets",revision:e.moduleSourceRevision,source:vv(F,D,n,r.tree,t,u,c,v,s),artifacts:{assets:i.keys}}]});function vv(e,o,t,r,n,a,i,l,u){let{pageIds:s,snippets:c}=bv(e,r,n,l,u),f=Nv(s,t,r,n,a,u),g=Iv(),y=b.joinLines(c,f,b`export const ${Tv} = ${o}`,g);return b.joinSections(b.linesFrom(a.statements),...i.list(),y)}function Iv(){return b`export async function getSnippets(pageId, ${Nu}, ${us}) {${b.joinLines(b`const queryLoader = ${Pu}[pageId]`,b`const ${ls} = queryLoader ? await queryLoader(${Nu}, ${us}) : undefined`,b`const result = ${{headStart:[],headEnd:[],bodyStart:[],bodyEnd:[]}}`,b`for (const snippet of ${_g}) {${b.joinLines(b`if (snippet.pageIds && !snippet.pageIds.has(pageId)) continue`,b`const code = snippet.code(${ls})`,b`if (code) {${b.joinLines(b`result[snippet.placement].push({ ...snippet, code })`)}}`)}}`,b`return result`)}}`}function bv(e,o,t,r,n){let a=new Set,i=[];for(let u of e){let s=u.pageIds?.filter(S=>o.get(S)),c=s&&s.length>0?s:void 0;if(u.pageIds&&u.pageIds.length>0&&!c)continue;let f=u.resolveValue("name"),g=Pv(u,o,t,r,n,"escape");g&&u.pageIds&&u.pageIds[0]&&a.add(u.pageIds[0]);let y=g??b`return ${u.code}`;i.push({id:u.id,name:f,loadMode:u.loadMode,placement:u.placement,pageIds:c?b`new Set(${c})`:void 0,code:b`(${ls}) => { ${y} }`})}let l=b`const ${_g} = ${i}`;return{pageIds:a,snippets:l}}function Pv(e,o,t,r,n,a){if(!e.pageIds||e.pageIds.length!==1)return;let i=e.pageIds[0];if(!i)return;let{pageNode:l,controlMap:u,collectionData:s}=Hg(i,o,t);if(!l?.dataIdentifier||!u||!s)return;let c=Ev(l,e.code,r,n,u,a);if(!c)return;let f=n.getBindings(i);if(!f)return;let g=[];for(let[y,S]of f??[]){let v=b`${ls}?.[${y}]`,F=u?.get(y);if(F?.type==="enum"){let D=r.wrapInValueTransform(v,{name:"enumToDisplayName"},F);v=b`${v} !== undefined ? ${D} : undefined`}g.push(b`const ${S} = ${v}`)}return b.joinLines(...g,b`return ${c}`)}function Nv(e,o,t,r,n,a){let i={};for(let l of e){let u=a.getBindings(l);if(!u)continue;let s=new Set(u.keys()),{pageNode:c,collectionData:f,controlMap:g}=Hg(l,t,r);if(!c?.dataIdentifier||!g||!f)continue;let y=xv(c,c?.dataIdentifier,s,n,r,o,g);i[l]=y}if(Object.keys(i).length>0){let l=n.addImport("framer",{exportSpecifier:"QueryEngine"});return b.joinLines(b`const queryEngine = new ${l}()`,b`const ${Pu} = ${i}`)}return b`const ${Pu} = {}`}function Hg(e,o,t){let r=o.getNodeWithTrait(e,w),n=r?.getProvidedControlMap(o,void 0,t,t.activeBundleHash),a=t.dataForIdentifier(r?.dataIdentifier);return{pageNode:r,controlMap:n,collectionData:a}}function xv(e,o,t,r,n,a,i){let l=r.addImport("framer",{exportSpecifier:"getWhereExpressionFromPathVariables"}),u=Na(e),s=new Set,c=[],f=Fv(n,a,c),g=Fa(i,t,s,u,f),y=xa(o,i,s,u,f),S=new Ct({from:y,select:g,where:Le.fn(l,b`pathVariables`,u)});return b.joinLines(b`async (${Nu}, ${us}) => {${b.joinLines(...c,b`const query = ${S}`,b`const result = await queryEngine.query(query, ${us})`,b`if (result.length === 0) throw new Error("No data matches pathVariables")`,b`return result[0]`)}}`)}function Fv(e,o,t){let r=new Map;return function(a){let i=r.get(a);if(i)return i;let l=Ne(a),{exportSpecifier:u,importBinding:s,importSpecifier:c}=vp(l,"snippets",e,o);N(s,"Can't import collection");let f=new Le(s),g=new Le(u);t.push(b`const ${f} = await import(${c})`);let y=b`${f}.${g}`;return r.set(a,y),y}}function Ev(e,o,t,r,n,a){if(Eo(o))return;let i=kn();return xi.replaceAll(o,i,(l,u)=>{let[s,c]=ca(u,a);if(!n?.has(s))return l;let f=ht(s,e.id),g=r.create(f),y=g;return n?.get(s)?.type==="responsiveimage"&&(y=t.wrapInToImageSrc(y)),y=t.wrapInTemplateFilters(y,c),b`${g} !== undefined ? ${y} : ${l}`})}function jg(e,o){if(Te(e,!0))return["canvasComponent"];if(w(e,!0))return["screen","webPageMetadata"];if(gt(e,!0))return["layoutTemplate"];if(Pt(o.get(e.parentid)))return["screen"];if(Bt(e,!0))return["vectorSet"];if(Pt(e,!0))return["prototype"];if(Jr(e,!0))return["snippets"];if(Er(e,!0))throw new Error("Unhandled scope node type");if(Ue(e))return["collection","draftCollection"];if(da(e))return["css"];if(Ti(e))return["componentPresets"];if(de(e)&&Bt(o.getScopeNodeFor(e)))return["vector"];if(It(e))return["siteMetadata"];if(xt(e))return["vector"];if(bt(o.get(e.parentid)))return["design"];throw new Error(`Unsupported component node: ${e.__class} ${e.id}`)}function $g(e,o){if(!Ri(e)||!o.isGroundNode(e))return!1;let t=o.get(e.parentid);return!!(t&&Pt(t))}function YG(e){return Hu(e.type)&&e.type==="snippets"?Cm:e.name}function Av(e){if(It(e))return os.localIdName;if(Jr(e,!0))return Ug.localIdName;switch(e.id){case Jp:return"componentPresets";default:return e.id}}function kv(e,o){return jg(e,o).map(r=>Jo(r,Av(e)))}function qG(e,o,t){return e?kv(e,o).every(r=>!ne(t.getModuleEntryByLocalId(r))):!1}function KG(e,o){if(!Dv(e,o)||bt(e))return!1;if(!Er(e)){let t=o.getScopeNodeFor(e);if(bt(t))return!1}return!0}function Dv(e,o){if(It(e))return!0;if(!o.has(e.id))return!1;if(wo(e))return!0;if(xe(e))return!1;if(Ue(e)||da(e)||Ti(e)||Bt(e))return!0;if(xt(e)){let t=o.get(e.parentid);return Bt(t)}if(bt(e))return!1;if(o.isGroundNode(e)&&ie(e)){let t=o.getScopeNodeFor(e);if(bt(t))return!0}return!!(Pt(e)||$g(e,o)||Jr(e))}function Rv(e){return e!==void 0?{ok:!0,value:e}:{ok:!0}}function Lv(e){return{ok:!1,error:e}}function QG(e){return e.then(o=>Rv(o),o=>Lv(o))}export{AI as a,Cy as b,_n as c,Ty as d,BI as e,Jt as f,mx as g,ql as h,Kl as i,fx as j,bf as k,Jm as l,hb as m,Wn as n,gb as o,Ay as p,yb as q,Cb as r,Sb as s,Tb as t,vb as u,Pf as v,Xl as w,Ql as x,fr as y,Nf as z,Dx as A,Rx as B,Qy as C,xf as D,_x as E,Ef as F,Ux as G,Wa as H,Hx as I,jx as J,$x as K,Zy as L,Yx as M,wr as N,kf as O,Zx as P,xb as Q,of as R,Df as S,rf as T,Lf as U,nf as V,rP as W,nP as X,sf as Y,iP as Z,lf as _,Yb as $,Bl as aa,Vl as ba,Mn as ca,Gb as da,_b as ea,wl as fa,La as ga,Ub as ha,af as ia,Wl as ja,Ry as ka,zn as la,Zb as ma,df as na,MP as oa,Ol as pa,By as qa,zP as ra,OP as sa,GP as ta,Gn as ua,cf as va,mr as wa,zl as xa,_P as ya,UP as za,HP as Aa,jP as Ba,My as Ca,$P as Da,YP as Ea,mf as Fa,ff as Ga,lN as Ha,gf as Ia,uN as Ja,dN as Ka,cN as La,pN as Ma,mN as Na,fN as Oa,oC as Pa,rC as Qa,wf as Ra,Oa as Sa,FF as Ta,V as Ua,Ga as Va,Bf as Wa,Wf as Xa,nC as Ya,Gf as Za,eu as _a,fE as $a,_a as ab,VE as bb,Ua as cb,wE as db,BE as eb,WE as fb,ME as gb,jf as hb,yN as ib,CN as jb,Cf as kb,jy as lb,Va as mb,hC as nb,i0 as ob,a0 as pb,s0 as qb,l0 as rb,Kf as sb,Xf as tb,IC as ub,Qf as vb,Jf as wb,wa as xb,WN as yb,MN as zb,Ba as Ab,Ha as Bb,PC as Cb,nh as Db,ih as Eb,ah as Fb,CA as Gb,AC as Hb,ek as Ib,lh as Jb,uh as Kb,dh as Lb,tk as Mb,ok as Nb,rk as Ob,BC as Pb,nk as Qb,ye as Rb,ik as Sb,ak as Tb,sh as Ub,$l as Vb,Yl as Wb,mh as Xb,Br as Yb,Ya as Zb,To as _b,$n as $b,Sh as ac,Th as bc,vh as cc,Ih as dc,bh as ec,jC as fc,CD as gc,SD as hc,iu as ic,pR as jc,mR as kc,TR as lc,qa as mc,au as nc,XC as oc,xR as pc,Fh as qc,Eh as rc,Ah as sc,Dh as tc,DL as uc,RL as vc,wh as wc,Xa as xc,Qa as yc,aS as zc,lV as Ac,uV as Bc,zh as Cc,Oh as Dc,Uh as Ec,NV as Fc,xV as Gc,FV as Hc,EV as Ic,Hh as Jc,dw as Kc,lS as Lc,cw as Mc,$h as Nc,Yh as Oc,Hw as Pc,jw as Qc,Kh as Rc,Qh as Sc,Jh as Tc,HS as Uc,lg as Vc,YS as Wc,Kn as Xc,oz as Yc,Vz as Zc,wz as _c,Bz as $c,Wz as ad,Mz as bd,Xn as cd,oT as dd,fu as ed,Uz as fd,Xz as gd,Qz as hd,Jz as id,rT as jd,pg as kd,mg as ld,fg as md,rO as nd,nO as od,iO as pd,qo as qd,qn as rd,ZM as sd,hO as td,gg as ud,y2 as vd,C2 as wd,S2 as xd,T2 as yd,v2 as zd,cT as Ad,I2 as Bd,b2 as Cd,P2 as Dd,N2 as Ed,pT as Fd,mT as Gd,x2 as Hd,yT as Id,CT as Jd,rs as Kd,Pg as Ld,Qn as Md,FT as Nd,ET as Od,kT as Pd,RT as Qd,wT as Rd,F2 as Sd,E2 as Td,A2 as Ud,D2 as Vd,_3 as Wd,U3 as Xd,H3 as Yd,j3 as Zd,$3 as _d,L2 as $d,Ko as ae,w2 as be,Mr as ce,B2 as de,Dg as ee,ei as fe,X2 as ge,qT as he,Q2 as ie,KT as je,XT as ke,vu as le,Rg as me,J2 as ne,Z2 as oe,e3 as pe,hv as qe,gv as re,yv as se,Sv as te,J3 as ue,Ug as ve,vG as we,jg as xe,$g as ye,YG as ze,Av as Ae,kv as Be,qG as Ce,KG as De,Dv as Ee,Rv as Fe,Lv as Ge,QG as He,bu as Ie,sv as Je,pv as Ke,W3 as Le};
//# sourceMappingURL=chunk-CWPFLL4N.mjs.map
