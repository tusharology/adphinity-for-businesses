import{p}from"chunk-EEV263O3.mjs";import{j as u}from"chunk-AHQIRSXG.mjs";var b={Alt:!0,Control:!0,Meta:!0,Shift:!0};function o(t,e,s){let n=[...t];return n[e]=s,r(n)}function r(t){let e=[];for(let s=0;s<t.length;s++){let n=t[s];if(n!==void 0)switch(n){case"CommandOrControl":t[s]=p()?"Meta":"Control";break;case"Command":t[s]="Meta";break;case"Control":t[s]="Control";break;case"Delete":e.push(...o(t,s,"Backspace"));break;case"Down":case"Left":case"Right":case"Up":t[s]=`Arrow${n}`;break;case"Enter":case"Return":e.push(...o(t,s,"NumpadEnter")),t[s]="Enter";break;case"Option":t[s]="Alt";break;case"Plus":e.push(...o(t,s,"NumpadAdd")),e.push(...o(t,s,"Shift+=")),e.push(...o(t,s,"+")),t[s]="=";break;case"-":e.push(...o(t,s,"NumpadSubtract")),e.push(...o(t,s,"Shift+-")),t[s]="-";break;default:n.match(/^[.;A-Z]$/u)?t[s]=n:n.match(/^\d$/u)&&(e.push(...o(t,s,`Digit${n}`)),t[s]=n)}}return t.splice(0,t.length-1,...t.slice(0,t.length-1).sort()),e.push(t.join("+")),e}var d=/^[=+\-.;/]$/u,h=/^[a-z\d=+\-.;/]$/i;function k(t){let e=[];t.altKey&&e.push("Alt"),t.ctrlKey&&e.push("Control"),t.metaKey&&e.push("Meta"),t.shiftKey&&!d.test(t.key)&&e.push("Shift");let s=String.fromCharCode(t.keyCode);if(h.test(t.key))e.push(t.key.toUpperCase());else if(h.test(s))e.push(s.toUpperCase());else{let{code:n}=t;switch(n){case"BracketLeft":e.push("[");break;case"BracketRight":e.push("]");break;case"Comma":e.push(",");break;case"Period":e.push(".");break;case"Quote":e.push("'");break;case"Semicolon":e.push(";");break;case"Slash":e.push("/");break;default:{if(n===void 0)break;let i=n.match(/^Key([A-Z])/u);i?e.push(i[1]):e.push(n);break}}}return e.join("+")}var l=class{constructor(){u(this,"map");this.map=new Map}get(e){if(e.key in b)return;let s=k(e);return this.map.get(s)}set(e,s,n){r(e.split("+")).forEach(c=>{let a=this.map.get(c);a&&console.warn("Duplicate key binding",{accelerator:c,framerAccelerator:e,actionName:n,existing:a.actionName}),this.map.set(c,{action:s,actionName:n})})}remove(e){r(e.split("+")).forEach(n=>{this.map.delete(n)})}};export{k as a,l as b};
//# sourceMappingURL=chunk-UEZTY3XB.mjs.map
