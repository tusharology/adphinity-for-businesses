import{gh as z}from"chunk-Y4KFFISW.mjs";import{Qf as W,_e as F,ol as j}from"chunk-ZXJMCM2S.mjs";import{Bd as f,Bj as $,C as h,Dd as M,F as C,I as x,Ng as D,Og as O,Vi as a,Vm as b,Zm as H,dg as B,fg as P,hc as I}from"chunk-SF5446RK.mjs";import{a as R,b as g,e as y,f as U,k as E}from"chunk-CMAEAGWD.mjs";import{Xe as A}from"chunk-NNG7ZAML.mjs";import{a as G,b as T}from"chunk-JB2N3EQZ.mjs";import{a as d,b as w}from"chunk-YOOGIIWU.mjs";import{c as Y,e as u,j as s}from"chunk-AHQIRSXG.mjs";var q=Y((ae,L)=>{"use strict";L.exports=typeof globalThis.ReactDOMServer>"u"?void 0:globalThis.ReactDOMServer});function Z(r){return r==="loading"||r==="error"}function ie(r,t){for(let i of t){let o=r.getNode(i);if(!o)continue;let e=r.getGroundNodeFor(o);if($(e)&&Z(e.gesture))return!0}return!1}var _=u(q(),1);var m=u(T(),1),V=u(G(),1),ee=1e3,J=50,v=class{constructor(t,i,o){this.svg=t;this.lastAccess=i;this.hash=o}},c=class c{constructor(){s(this,"map",new Map);s(this,"shouldUpdateGeneration",!1);s(this,"generation",0);s(this,"oldestGeneration",0)}static shared(){return c._instance||(c._instance=new c),c._instance}getSVGStringForNode(t,i){if(f(i)){let o=i.getContentHash(),e=this.map.get(o);if(e)return e.lastAccess=this.generation,e.svg;this.shouldUpdateGeneration&&(this.generation+=1,this.shouldUpdateGeneration=!1);let n=X(t,i,"s"+o);return this.map.set(o,new v(n,this.generation,o)),n}return X(t,i,i.id)}update(){this.shouldUpdateGeneration=!0,!(this.map.size<ee)&&(this.generation-this.oldestGeneration<J||this.evict())}evict(){let t=Array.from(this.map.values()).sort((e,n)=>e.lastAccess-n.lastAccess),i=Math.floor(t.length/2),o=t[i];d(o,"SVG entry must be defined"),this.oldestGeneration=o.lastAccess;for(let e=0;e<i;e++){let n=t[e];if(d(n,"SVG entry must be defined"),this.generation-n.lastAccess<J)break;this.map.delete(n.hash)}}};s(c,"_instance");var K=c,S=class{constructor(t){this.contentHash=t;s(this,"counter",0)}nextId(){return this.counter+=1,`${this.contentHash}_${this.counter}`}};function X(r,t,i){let o=new S("s"+i),e=null;f(t)&&t.fillEnabled&&t.exportIncludesBackground&&!F(t)&&(e=N(new z(t.raw()),r,o,!1));let n=!f(t),l=(n?[t]:t.children).map(k=>b(k)?N(k,r,o,!n):null),Q=(0,m.jsx)(A,{isStatic:!0,children:(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:`0 0 ${h(t.width,3)} ${h(t.height,3)}`,overflow:n?"visible":void 0,children:[e,l]})});return C({target:x.export},()=>_.renderToStaticMarkup(Q))}function N(r,t,i,o){let e=i.nextId();if(M(r)){let p=r.getProps(t);return p.id=e,(0,V.createElement)(O,{...p,key:e,includeTransform:o},r.children.map(l=>N(l,t,i,!0)))}let n=r.getProps(t);return n.id=e,n.strokeClipId=`clip_${e}`,(0,V.createElement)(D,{...n,key:e,includeTransform:o})}function re(r){return f(r)?!1:!!(te(r)||oe(r)||W(r)&&r.children.find(t=>b(t)&&re(t)))}function te(r){return!j(r)||!r.strokeEnabled||!r.strokeWidth?!1:r.strokeAlignment==="center"}function oe(r){return H(r)?I(r.boxShadows)?!0:!!r.boxShadows?.some(t=>!t.inset):!1}function*Ae(r,t){for(let i in r){let o=r[i];if(!o||!P(o))continue;let e=t[i];if(!E(e))continue;let n=B(i);switch(o.type){case"number":if(!y(e)&&!a(e))break;yield{name:n,uniform:{type:"number",value:e}};break;case"boolean":if(!R(e)&&!a(e))break;yield{name:n,uniform:{type:"boolean",value:e}};break;case"color":if(!g(e)&&!a(e))break;yield{name:n,uniform:{type:"color",value:e}};break;case"responsiveimage":if(!g(e)&&!U(e)&&!a(e))break;yield{name:n,uniform:{type:"responsiveimage",value:e}};break;case"enum":if(!y(e)&&!a(e))break;yield{name:n,uniform:{type:"enum",value:e}};break;case"array":if(!Array.isArray(e)&&!a(e)||o.control?.type!=="color")break;yield{name:n,uniform:{type:"array",value:e}};break;default:w(o)}}}export{Z as a,ie as b,Ae as c,q as d,K as e,re as f};
//# sourceMappingURL=chunk-KM2R7T5X.mjs.map
